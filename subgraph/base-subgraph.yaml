specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: LTokenSignaler
    network: base
    source:
      address: "0x4552442Ee79ba69542bAA7D48Af1DF1a16Dd9dED"
      abi: LTokenSignaler
      startBlock: 9269469
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./mapping.ts
      entities:
        - LToken
      abis:
        - name: LTokenSignaler
          file: ../contracts/abis/LTokenSignaler.json
        - name: LToken
          file: ../contracts/abis/LToken.json
      eventHandlers:
        - event: LTokenSignalEvent(indexed address)
          handler: handleSignaledLToken
  # - kind: ethereum/contract
  #   name: PreMining
  #   network: base-sepolia
  #   source:
  #     address: "0x9d7AEDefE90B880c5a9Bed4FcBd3faD0ea5AA06c"
  #     abi: PreMining
  #     startBlock: 132839783
  #   mapping:
  #     kind: ethereum/events
  #     apiVersion: 0.0.7
  #     language: wasm/assemblyscript
  #     file: ./mapping.ts
  #     entities:
  #       - PreMining
  #     abis:
  #       - name: PreMining
  #         file: ../contracts/abis/PreMining.json
  #     eventHandlers:
  #       - event: Lock(indexed address,uint256,uint8)
  #         handler: handlePreMiningLock
  - kind: ethereum
    name: LDYStaking
    network: base
    source:
      address: "0xc7fA0B277623a286F969bceA7Aff5c93b1e2D7Fb"
      abi: LDYStaking
      startBlock: 9269451
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Staked
        - Unstaked
        - RewardPaid
        - NotifiedRewardAmount
      abis:
        - name: LDYStaking
          file: ../contracts/abis/LDYStaking.json
      eventHandlers:
        - event: Staked(indexed address,uint256,uint256)
          handler: handleStaked
        - event: Unstaked(indexed address,uint256,uint256)
          handler: handleUnstaked
        - event: RewardPaid(indexed address,uint256,uint256)
          handler: handleRewardPaid
        - event: NotifiedRewardAmount(uint256,uint256)
          handler: handleNotifiedRewardAmount
      file: ./mapping.ts
templates:
  - kind: ethereum/contract
    name: LToken
    network: base
    source:
      abi: LToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      file: ./mapping.ts
      entities:
        - LToken
        - TVLChange
        - APRChange
        - Activity
        - RewardsMint
      abis:
        - name: LToken
          file: ../contracts/abis/LToken.json
      eventHandlers:
        - event: TVLChangeEvent(uint256)
          handler: handleTVLChangeEvent
        - event: APRChangeEvent(uint16)
          handler: handleAPRChangeEvent
        - event: ActivityEvent(indexed int256,indexed address,indexed uint8,address,uint256,uint256,uint8,int256,string)
          handler: handleActivityEvent
        - event: MintedRewardsEvent(indexed address,uint256,uint256)
          handler: handleMintedRewardsEvent
