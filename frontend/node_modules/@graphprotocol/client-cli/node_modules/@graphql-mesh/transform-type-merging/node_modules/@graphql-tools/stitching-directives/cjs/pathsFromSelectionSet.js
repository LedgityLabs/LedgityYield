"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pathsFromSelectionSet = void 0;
const graphql_1 = require("graphql");
function pathsFromSelectionSet(selectionSet, path = []) {
    const paths = [];
    for (const selection of selectionSet.selections) {
        const additions = pathsFromSelection(selection, path) ?? [];
        for (const addition of additions) {
            paths.push(addition);
        }
    }
    return paths;
}
exports.pathsFromSelectionSet = pathsFromSelectionSet;
function pathsFromSelection(selection, path) {
    if (selection.kind === graphql_1.Kind.FIELD) {
        const responseKey = selection.alias?.value ?? selection.name.value;
        if (selection.selectionSet) {
            return pathsFromSelectionSet(selection.selectionSet, path.concat([responseKey]));
        }
        else {
            return [path.concat([responseKey])];
        }
    }
    else if (selection.kind === graphql_1.Kind.INLINE_FRAGMENT) {
        return pathsFromSelectionSet(selection.selectionSet, path);
    }
}
