"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.iterateAsync = iterateAsync;
const map_maybe_promise_js_1 = require("./map-maybe-promise.js");
function iterateAsync(iterable, callback, results) {
    const iterator = iterable[Symbol.iterator]();
    function iterate() {
        const { done: endOfIterator, value } = iterator.next();
        if (endOfIterator) {
            return;
        }
        return (0, map_maybe_promise_js_1.mapMaybePromise)(callback(value), result => {
            if (result) {
                results?.push(result);
            }
            return iterate();
        });
    }
    return iterate();
}
