"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sentry-internal";
exports.ids = ["vendor-chunks/@sentry-internal"];
exports.modules = {

/***/ "(ssr)/../node_modules/@sentry-internal/feedback/esm/index.js":
/*!**************************************************************!*\
  !*** ../node_modules/@sentry-internal/feedback/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Feedback: () => (/* binding */ Feedback),\n/* harmony export */   feedbackIntegration: () => (/* binding */ feedbackIntegration),\n/* harmony export */   sendFeedback: () => (/* binding */ sendFeedback)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/worldwide.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/browser.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/isBrowser.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/prepareEvent.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/hub.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/exports.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/envelope.js\");\n\n\n\n// exporting a separate copy of `WINDOW` rather than exporting the one from `@sentry/browser`\n// prevents the browser package from being bundled in the CDN bundle, and avoids a\n// circular dependency between the browser and feedback packages\nconst WINDOW = _sentry_utils__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_OBJ ;\n\nconst LIGHT_BACKGROUND = '#ffffff';\nconst INHERIT = 'inherit';\nconst SUBMIT_COLOR = 'rgba(108, 95, 199, 1)';\nconst LIGHT_THEME = {\n  fontFamily: \"system-ui, 'Helvetica Neue', Arial, sans-serif\",\n  fontSize: '14px',\n\n  background: LIGHT_BACKGROUND,\n  backgroundHover: '#f6f6f7',\n  foreground: '#2b2233',\n  border: '1.5px solid rgba(41, 35, 47, 0.13)',\n  borderRadius: '25px',\n  boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',\n\n  success: '#268d75',\n  error: '#df3338',\n\n  submitBackground: 'rgba(88, 74, 192, 1)',\n  submitBackgroundHover: SUBMIT_COLOR,\n  submitBorder: SUBMIT_COLOR,\n  submitOutlineFocus: '#29232f',\n  submitForeground: LIGHT_BACKGROUND,\n  submitForegroundHover: LIGHT_BACKGROUND,\n\n  cancelBackground: 'transparent',\n  cancelBackgroundHover: 'var(--background-hover)',\n  cancelBorder: 'var(--border)',\n  cancelOutlineFocus: 'var(--input-outline-focus)',\n  cancelForeground: 'var(--foreground)',\n  cancelForegroundHover: 'var(--foreground)',\n\n  inputBackground: INHERIT,\n  inputForeground: INHERIT,\n  inputBorder: 'var(--border)',\n  inputOutlineFocus: SUBMIT_COLOR,\n\n  formBorderRadius: '20px',\n  formContentBorderRadius: '6px',\n};\n\nconst DEFAULT_THEME = {\n  light: LIGHT_THEME,\n  dark: {\n    ...LIGHT_THEME,\n\n    background: '#29232f',\n    backgroundHover: '#352f3b',\n    foreground: '#ebe6ef',\n    border: '1.5px solid rgba(235, 230, 239, 0.15)',\n\n    success: '#2da98c',\n    error: '#f55459',\n  },\n};\n\nconst ACTOR_LABEL = 'Report a Bug';\nconst CANCEL_BUTTON_LABEL = 'Cancel';\nconst SUBMIT_BUTTON_LABEL = 'Send Bug Report';\nconst FORM_TITLE = 'Report a Bug';\nconst EMAIL_PLACEHOLDER = 'your.email@example.org';\nconst EMAIL_LABEL = 'Email';\nconst MESSAGE_PLACEHOLDER = \"What's the bug? What did you expect?\";\nconst MESSAGE_LABEL = 'Description';\nconst NAME_PLACEHOLDER = 'Your Name';\nconst NAME_LABEL = 'Name';\nconst IS_REQUIRED_LABEL = '(required)';\nconst SUCCESS_MESSAGE_TEXT = 'Thank you for your report!';\n\nconst FEEDBACK_WIDGET_SOURCE = 'widget';\nconst FEEDBACK_API_SOURCE = 'api';\n\n/**\n * Prepare a feedback event & enrich it with the SDK metadata.\n */\nasync function prepareFeedbackEvent({\n  client,\n  scope,\n  event,\n}) {\n  const eventHint = {};\n  if (client.emit) {\n    client.emit('preprocessEvent', event, eventHint);\n  }\n\n  const preparedEvent = (await (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.prepareEvent)(\n    client.getOptions(),\n    event,\n    eventHint,\n    scope,\n    client,\n    (0,_sentry_core__WEBPACK_IMPORTED_MODULE_2__.getIsolationScope)(),\n  )) ;\n\n  if (preparedEvent === null) {\n    // Taken from baseclient's `_processEvent` method, where this is handled for errors/transactions\n    client.recordDroppedEvent('event_processor', 'feedback', event);\n    return null;\n  }\n\n  // This normally happens in browser client \"_prepareEvent\"\n  // but since we do not use this private method from the client, but rather the plain import\n  // we need to do this manually.\n  preparedEvent.platform = preparedEvent.platform || 'javascript';\n\n  return preparedEvent;\n}\n\n/**\n * Send feedback using transport\n */\nasync function sendFeedbackRequest(\n  { feedback: { message, email, name, source, url } },\n  { includeReplay = true } = {},\n) {\n  const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.getClient)();\n  const transport = client && client.getTransport();\n  const dsn = client && client.getDsn();\n\n  if (!client || !transport || !dsn) {\n    return;\n  }\n\n  const baseEvent = {\n    contexts: {\n      feedback: {\n        contact_email: email,\n        name,\n        message,\n        url,\n        source,\n      },\n    },\n    type: 'feedback',\n  };\n\n  return (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.withScope)(async scope => {\n    // No use for breadcrumbs in feedback\n    scope.clearBreadcrumbs();\n\n    if ([FEEDBACK_API_SOURCE, FEEDBACK_WIDGET_SOURCE].includes(String(source))) {\n      scope.setLevel('info');\n    }\n\n    const feedbackEvent = await prepareFeedbackEvent({\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      scope: scope ,\n      client,\n      event: baseEvent,\n    });\n\n    if (!feedbackEvent) {\n      return;\n    }\n\n    if (client.emit) {\n      client.emit('beforeSendFeedback', feedbackEvent, { includeReplay: Boolean(includeReplay) });\n    }\n\n    const envelope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_4__.createEventEnvelope)(feedbackEvent, dsn, client.getOptions()._metadata, client.getOptions().tunnel);\n\n    let response;\n\n    try {\n      response = await transport.send(envelope);\n    } catch (err) {\n      const error = new Error('Unable to send Feedback');\n\n      try {\n        // In case browsers don't allow this property to be writable\n        // @ts-expect-error This needs lib es2022 and newer\n        error.cause = err;\n      } catch (e) {\n        // nothing to do\n      }\n      throw error;\n    }\n\n    // TODO (v8): we can remove this guard once transport.send's type signature doesn't include void anymore\n    if (!response) {\n      return;\n    }\n\n    // Require valid status codes, otherwise can assume feedback was not sent successfully\n    if (typeof response.statusCode === 'number' && (response.statusCode < 200 || response.statusCode >= 300)) {\n      throw new Error('Unable to send Feedback');\n    }\n\n    return response;\n  });\n}\n\n/*\n * For reference, the fully built event looks something like this:\n * {\n *     \"type\": \"feedback\",\n *     \"event_id\": \"d2132d31b39445f1938d7e21b6bf0ec4\",\n *     \"timestamp\": 1597977777.6189718,\n *     \"dist\": \"1.12\",\n *     \"platform\": \"javascript\",\n *     \"environment\": \"production\",\n *     \"release\": 42,\n *     \"tags\": {\"transaction\": \"/organizations/:orgId/performance/:eventSlug/\"},\n *     \"sdk\": {\"name\": \"name\", \"version\": \"version\"},\n *     \"user\": {\n *         \"id\": \"123\",\n *         \"username\": \"user\",\n *         \"email\": \"user@site.com\",\n *         \"ip_address\": \"192.168.11.12\",\n *     },\n *     \"request\": {\n *         \"url\": None,\n *         \"headers\": {\n *             \"user-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15\"\n *         },\n *     },\n *     \"contexts\": {\n *         \"feedback\": {\n *             \"message\": \"test message\",\n *             \"contact_email\": \"test@example.com\",\n *             \"type\": \"feedback\",\n *         },\n *         \"trace\": {\n *             \"trace_id\": \"4C79F60C11214EB38604F4AE0781BFB2\",\n *             \"span_id\": \"FA90FDEAD5F74052\",\n *             \"type\": \"trace\",\n *         },\n *         \"replay\": {\n *             \"replay_id\": \"e2d42047b1c5431c8cba85ee2a8ab25d\",\n *         },\n *     },\n *   }\n */\n\n/**\n * Public API to send a Feedback item to Sentry\n */\nfunction sendFeedback(\n  { name, email, message, source = FEEDBACK_API_SOURCE, url = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__.getLocationHref)() },\n  options = {},\n) {\n  if (!message) {\n    throw new Error('Unable to submit feedback with empty message');\n  }\n\n  return sendFeedbackRequest(\n    {\n      feedback: {\n        name,\n        email,\n        message,\n        url,\n        source,\n      },\n    },\n    options,\n  );\n}\n\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__);\n\n/**\n * Quick and dirty deep merge for the Feedback integration options\n */\nfunction mergeOptions(\n  defaultOptions,\n  optionOverrides,\n) {\n  return {\n    ...defaultOptions,\n    ...optionOverrides,\n    themeDark: {\n      ...defaultOptions.themeDark,\n      ...optionOverrides.themeDark,\n    },\n    themeLight: {\n      ...defaultOptions.themeLight,\n      ...optionOverrides.themeLight,\n    },\n  };\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createActorStyles(d) {\n  const style = d.createElement('style');\n  style.textContent = `\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n`;\n\n  return style;\n}\n\n/**\n * Creates <style> element for widget dialog\n */\nfunction createDialogStyles(d) {\n  const style = d.createElement('style');\n\n  style.textContent = `\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n`;\n\n  return style;\n}\n\nfunction getThemedCssVariables(theme) {\n  return `\n  --background: ${theme.background};\n  --background-hover: ${theme.backgroundHover};\n  --foreground: ${theme.foreground};\n  --error: ${theme.error};\n  --success: ${theme.success};\n  --border: ${theme.border};\n  --border-radius: ${theme.borderRadius};\n  --box-shadow: ${theme.boxShadow};\n\n  --submit-background: ${theme.submitBackground};\n  --submit-background-hover: ${theme.submitBackgroundHover};\n  --submit-border: ${theme.submitBorder};\n  --submit-outline-focus: ${theme.submitOutlineFocus};\n  --submit-foreground: ${theme.submitForeground};\n  --submit-foreground-hover: ${theme.submitForegroundHover};\n\n  --cancel-background: ${theme.cancelBackground};\n  --cancel-background-hover: ${theme.cancelBackgroundHover};\n  --cancel-border: ${theme.cancelBorder};\n  --cancel-outline-focus: ${theme.cancelOutlineFocus};\n  --cancel-foreground: ${theme.cancelForeground};\n  --cancel-foreground-hover: ${theme.cancelForegroundHover};\n\n  --input-background: ${theme.inputBackground};\n  --input-foreground: ${theme.inputForeground};\n  --input-border: ${theme.inputBorder};\n  --input-outline-focus: ${theme.inputOutlineFocus};\n\n  --form-border-radius: ${theme.formBorderRadius};\n  --form-content-border-radius: ${theme.formContentBorderRadius};\n  `;\n}\n\n/**\n * Creates <style> element for widget actor (button that opens the dialog)\n */\nfunction createMainStyles(\n  d,\n  colorScheme,\n  themes,\n) {\n  const style = d.createElement('style');\n  style.textContent = `\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${themes.light.fontFamily};\n  --font-size: ${themes.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${getThemedCssVariables(colorScheme === 'dark' ? themes.dark : themes.light)}\n}\n\n${\n  colorScheme === 'system'\n    ? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables(themes.dark)}\n  }\n}`\n    : ''\n}\n}`;\n\n  return style;\n}\n\n/**\n * Creates shadow host\n */\nfunction createShadowHost({ id, colorScheme, themeDark, themeLight })\n\n {\n  try {\n    const doc = WINDOW.document;\n\n    // Create the host\n    const host = doc.createElement('div');\n    host.id = id;\n\n    // Create the shadow root\n    const shadow = host.attachShadow({ mode: 'open' });\n\n    shadow.appendChild(createMainStyles(doc, colorScheme, { dark: themeDark, light: themeLight }));\n    shadow.appendChild(createDialogStyles(doc));\n\n    return { shadow, host };\n  } catch (e) {\n    // Shadow DOM probably not supported\n    _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn('[Feedback] Browser does not support shadow DOM API');\n    throw new Error('Browser does not support shadow DOM API.');\n  }\n}\n\n/**\n * Handles UI behavior of dialog when feedback is submitted, calls\n * `sendFeedback` to send feedback.\n */\nasync function handleFeedbackSubmit(\n  dialog,\n  feedback,\n  options,\n) {\n  if (!dialog) {\n    // Not sure when this would happen\n    return;\n  }\n\n  const showFetchError = () => {\n    if (!dialog) {\n      return;\n    }\n    dialog.showError('There was a problem submitting feedback, please wait and try again.');\n  };\n\n  dialog.hideError();\n\n  try {\n    const resp = await sendFeedback({ ...feedback, source: FEEDBACK_WIDGET_SOURCE }, options);\n\n    // Success!\n    return resp;\n  } catch (err) {\n    DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n    showFetchError();\n  }\n}\n\n/**\n * Helper function to set a dict of attributes on element (w/ specified namespace)\n */\nfunction setAttributesNS(el, attributes) {\n  Object.entries(attributes).forEach(([key, val]) => {\n    el.setAttributeNS(null, key, val);\n  });\n  return el;\n}\n\nconst SIZE = 20;\nconst XMLNS$2 = 'http://www.w3.org/2000/svg';\n\n/**\n * Feedback Icon\n */\nfunction Icon() {\n  const createElementNS = (tagName) =>\n    WINDOW.document.createElementNS(XMLNS$2, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'feedback-icon',\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    viewBox: `0 0 ${SIZE} ${SIZE}`,\n    fill: 'none',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_80)',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z',\n  });\n  svg.appendChild(g).appendChild(path);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_80',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${SIZE}`,\n    height: `${SIZE}`,\n    fill: 'white',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return {\n    get el() {\n      return svg;\n    },\n  };\n}\n\n/**\n * Helper function to create an element. Could be used as a JSX factory\n * (i.e. React-like syntax).\n */\nfunction createElement(\n  tagName,\n  attributes,\n  ...children\n) {\n  const doc = WINDOW.document;\n  const element = doc.createElement(tagName);\n\n  if (attributes) {\n    Object.entries(attributes).forEach(([attribute, attributeValue]) => {\n      if (attribute === 'className' && typeof attributeValue === 'string') {\n        // JSX does not allow class as a valid name\n        element.setAttribute('class', attributeValue);\n      } else if (typeof attributeValue === 'boolean' && attributeValue) {\n        element.setAttribute(attribute, '');\n      } else if (typeof attributeValue === 'string') {\n        element.setAttribute(attribute, attributeValue);\n      } else if (attribute.startsWith('on') && typeof attributeValue === 'function') {\n        element.addEventListener(attribute.substring(2).toLowerCase(), attributeValue);\n      }\n    });\n  }\n  for (const child of children) {\n    appendChild(element, child);\n  }\n\n  return element;\n}\n\nfunction appendChild(parent, child) {\n  const doc = WINDOW.document;\n  if (typeof child === 'undefined' || child === null) {\n    return;\n  }\n\n  if (Array.isArray(child)) {\n    for (const value of child) {\n      appendChild(parent, value);\n    }\n  } else if (child === false) ; else if (typeof child === 'string') {\n    parent.appendChild(doc.createTextNode(child));\n  } else if (child instanceof Node) {\n    parent.appendChild(child);\n  } else {\n    parent.appendChild(doc.createTextNode(String(child)));\n  }\n}\n\n/**\n *\n */\nfunction Actor({ buttonLabel, onClick }) {\n  function _handleClick(e) {\n    onClick && onClick(e);\n  }\n\n  const el = createElement(\n    'button',\n    {\n      type: 'button',\n      className: 'widget__actor',\n      ['aria-label']: buttonLabel,\n      ['aria-hidden']: 'false',\n    },\n    Icon().el,\n    buttonLabel\n      ? createElement(\n          'span',\n          {\n            className: 'widget__actor__text',\n          },\n          buttonLabel,\n        )\n      : null,\n  );\n\n  el.addEventListener('click', _handleClick);\n\n  return {\n    get el() {\n      return el;\n    },\n    show: () => {\n      el.classList.remove('widget__actor--hidden');\n      el.setAttribute('aria-hidden', 'false');\n    },\n    hide: () => {\n      el.classList.add('widget__actor--hidden');\n      el.setAttribute('aria-hidden', 'true');\n    },\n  };\n}\n\n/**\n *\n */\nfunction SubmitButton({ label }) {\n  const el = createElement(\n    'button',\n    {\n      type: 'submit',\n      className: 'btn btn--primary',\n      ['aria-label']: label,\n    },\n    label,\n  );\n\n  return {\n    el,\n  };\n}\n\nfunction retrieveStringValue(formData, key) {\n  const value = formData.get(key);\n  if (typeof value === 'string') {\n    return value.trim();\n  }\n  return '';\n}\n\n/**\n * Creates the form element\n */\nfunction Form({\n  nameLabel,\n  namePlaceholder,\n  emailLabel,\n  emailPlaceholder,\n  messageLabel,\n  messagePlaceholder,\n  isRequiredLabel,\n  cancelButtonLabel,\n  submitButtonLabel,\n\n  showName,\n  showEmail,\n  isNameRequired,\n  isEmailRequired,\n\n  defaultName,\n  defaultEmail,\n  onCancel,\n  onSubmit,\n}) {\n  const { el: submitEl } = SubmitButton({\n    label: submitButtonLabel,\n  });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!(e.target instanceof HTMLFormElement)) {\n      return;\n    }\n\n    try {\n      if (onSubmit) {\n        const formData = new FormData(e.target );\n        const feedback = {\n          name: retrieveStringValue(formData, 'name'),\n          email: retrieveStringValue(formData, 'email'),\n          message: retrieveStringValue(formData, 'message'),\n        };\n\n        onSubmit(feedback);\n      }\n    } catch (e2) {\n      // pass\n    }\n  }\n\n  const errorEl = createElement('div', {\n    className: 'form__error-container form__error-container--hidden',\n    ['aria-hidden']: 'true',\n  });\n\n  function showError(message) {\n    errorEl.textContent = message;\n    errorEl.classList.remove('form__error-container--hidden');\n    errorEl.setAttribute('aria-hidden', 'false');\n  }\n\n  function hideError() {\n    errorEl.textContent = '';\n    errorEl.classList.add('form__error-container--hidden');\n    errorEl.setAttribute('aria-hidden', 'true');\n  }\n\n  const nameEl = createElement('input', {\n    id: 'name',\n    type: showName ? 'text' : 'hidden',\n    ['aria-hidden']: showName ? 'false' : 'true',\n    name: 'name',\n    required: isNameRequired,\n    className: 'form__input',\n    placeholder: namePlaceholder,\n    value: defaultName,\n  });\n\n  const emailEl = createElement('input', {\n    id: 'email',\n    type: showEmail ? 'text' : 'hidden',\n    ['aria-hidden']: showEmail ? 'false' : 'true',\n    name: 'email',\n    required: isEmailRequired,\n    className: 'form__input',\n    placeholder: emailPlaceholder,\n    value: defaultEmail,\n  });\n\n  const messageEl = createElement('textarea', {\n    id: 'message',\n    autoFocus: 'true',\n    rows: '5',\n    name: 'message',\n    required: true,\n    className: 'form__input form__input--textarea',\n    placeholder: messagePlaceholder,\n  });\n\n  const cancelEl = createElement(\n    'button',\n    {\n      type: 'button',\n      className: 'btn btn--default',\n      ['aria-label']: cancelButtonLabel,\n      onClick: (e) => {\n        onCancel && onCancel(e);\n      },\n    },\n    cancelButtonLabel,\n  );\n\n  const formEl = createElement(\n    'form',\n    {\n      className: 'form',\n      onSubmit: handleSubmit,\n    },\n    [\n      errorEl,\n\n      showName &&\n        createElement(\n          'label',\n          {\n            htmlFor: 'name',\n            className: 'form__label',\n          },\n          [\n            createElement(\n              'span',\n              { className: 'form__label__text' },\n              nameLabel,\n              isNameRequired &&\n                createElement('span', { className: 'form__label__text--required' }, ` ${isRequiredLabel}`),\n            ),\n            nameEl,\n          ],\n        ),\n      !showName && nameEl,\n\n      showEmail &&\n        createElement(\n          'label',\n          {\n            htmlFor: 'email',\n            className: 'form__label',\n          },\n          [\n            createElement(\n              'span',\n              { className: 'form__label__text' },\n              emailLabel,\n              isEmailRequired &&\n                createElement('span', { className: 'form__label__text--required' }, ` ${isRequiredLabel}`),\n            ),\n            emailEl,\n          ],\n        ),\n      !showEmail && emailEl,\n\n      createElement(\n        'label',\n        {\n          htmlFor: 'message',\n          className: 'form__label',\n        },\n        [\n          createElement(\n            'span',\n            { className: 'form__label__text' },\n            messageLabel,\n            createElement('span', { className: 'form__label__text--required' }, ` ${isRequiredLabel}`),\n          ),\n          messageEl,\n        ],\n      ),\n\n      createElement(\n        'div',\n        {\n          className: 'btn-group',\n        },\n        [submitEl, cancelEl],\n      ),\n    ],\n  );\n\n  return {\n    get el() {\n      return formEl;\n    },\n    showError,\n    hideError,\n  };\n}\n\nconst XMLNS$1 = 'http://www.w3.org/2000/svg';\n\n/**\n * Sentry Logo\n */\nfunction Logo({ colorScheme }) {\n  const createElementNS = (tagName) =>\n    WINDOW.document.createElementNS(XMLNS$1, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'sentry-logo',\n    width: '32',\n    height: '30',\n    viewBox: '0 0 72 66',\n    fill: 'none',\n  });\n\n  const path = setAttributesNS(createElementNS('path'), {\n    transform: 'translate(11, 11)',\n    d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z',\n  });\n  svg.append(path);\n\n  const defs = createElementNS('defs');\n  const style = createElementNS('style');\n\n  style.textContent = `\n    path {\n      fill: ${colorScheme === 'dark' ? '#fff' : '#362d59'};\n    }`;\n\n  if (colorScheme === 'system') {\n    style.textContent += `\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    `;\n  }\n\n  defs.append(style);\n  svg.append(defs);\n\n  return {\n    get el() {\n      return svg;\n    },\n  };\n}\n\n/**\n * Feedback dialog component that has the form\n */\nfunction Dialog({\n  formTitle,\n  showBranding,\n  showName,\n  showEmail,\n  isNameRequired,\n  isEmailRequired,\n  colorScheme,\n  defaultName,\n  defaultEmail,\n  onClosed,\n  onCancel,\n  onSubmit,\n  ...textLabels\n}) {\n  let el = null;\n\n  /**\n   * Handles when the dialog is clicked. In our case, the dialog is the\n   * semi-transparent bg behind the form. We want clicks outside of the form to\n   * hide the form.\n   */\n  function handleDialogClick() {\n    close();\n\n    // Only this should trigger `onClose`, we don't want the `close()` method to\n    // trigger it, otherwise it can cause cycles.\n    onClosed && onClosed();\n  }\n\n  /**\n   * Close the dialog\n   */\n  function close() {\n    if (el) {\n      el.open = false;\n    }\n  }\n\n  /**\n   * Opens the dialog\n   */\n  function open() {\n    if (el) {\n      el.open = true;\n    }\n  }\n\n  /**\n   * Check if dialog is currently opened\n   */\n  function checkIsOpen() {\n    return (el && el.open === true) || false;\n  }\n\n  const {\n    el: formEl,\n    showError,\n    hideError,\n  } = Form({\n    showEmail,\n    showName,\n    isEmailRequired,\n    isNameRequired,\n\n    defaultName,\n    defaultEmail,\n    onSubmit,\n    onCancel,\n    ...textLabels,\n  });\n\n  el = createElement(\n    'dialog',\n    {\n      className: 'dialog',\n      open: true,\n      onClick: handleDialogClick,\n    },\n    createElement(\n      'div',\n      {\n        className: 'dialog__content',\n        onClick: e => {\n          // Stop event propagation so clicks on content modal do not propagate to dialog (which will close dialog)\n          e.stopPropagation();\n        },\n      },\n      createElement(\n        'h2',\n        { className: 'dialog__header' },\n        formTitle,\n        showBranding &&\n          createElement(\n            'a',\n            {\n              className: 'brand-link',\n              target: '_blank',\n              href: 'https://sentry.io/welcome/',\n              title: 'Powered by Sentry',\n              rel: 'noopener noreferrer',\n            },\n            Logo({ colorScheme }).el,\n          ),\n      ),\n      formEl,\n    ),\n  );\n\n  return {\n    get el() {\n      return el;\n    },\n    showError,\n    hideError,\n    open,\n    close,\n    checkIsOpen,\n  };\n}\n\nconst WIDTH = 16;\nconst HEIGHT = 17;\nconst XMLNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Success Icon (checkmark)\n */\nfunction SuccessIcon() {\n  const createElementNS = (tagName) =>\n    WINDOW.document.createElementNS(XMLNS, tagName);\n  const svg = setAttributesNS(createElementNS('svg'), {\n    class: 'success-icon',\n    width: `${WIDTH}`,\n    height: `${HEIGHT}`,\n    viewBox: `0 0 ${WIDTH} ${HEIGHT}`,\n    fill: 'none',\n  });\n\n  const g = setAttributesNS(createElementNS('g'), {\n    clipPath: 'url(#clip0_57_156)',\n  });\n\n  const path2 = setAttributesNS(createElementNS('path'), {\n    ['fill-rule']: 'evenodd',\n    ['clip-rule']: 'evenodd',\n    d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z',\n  });\n  const path = setAttributesNS(createElementNS('path'), {\n    d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z',\n  });\n\n  svg.appendChild(g).append(path, path2);\n\n  const speakerDefs = createElementNS('defs');\n  const speakerClipPathDef = setAttributesNS(createElementNS('clipPath'), {\n    id: 'clip0_57_156',\n  });\n\n  const speakerRect = setAttributesNS(createElementNS('rect'), {\n    width: `${WIDTH}`,\n    height: `${WIDTH}`,\n    fill: 'white',\n    transform: 'translate(0 0.5)',\n  });\n\n  speakerClipPathDef.appendChild(speakerRect);\n  speakerDefs.appendChild(speakerClipPathDef);\n\n  svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect);\n\n  return {\n    get el() {\n      return svg;\n    },\n  };\n}\n\n/**\n * Feedback dialog component that has the form\n */\nfunction SuccessMessage({ message, onRemove }) {\n  function remove() {\n    if (!el) {\n      return;\n    }\n\n    el.remove();\n    onRemove && onRemove();\n  }\n\n  const el = createElement(\n    'div',\n    {\n      className: 'success-message',\n      onClick: remove,\n    },\n    SuccessIcon().el,\n    message,\n  );\n\n  return {\n    el,\n    remove,\n  };\n}\n\n/**\n * Creates a new widget. Returns public methods that control widget behavior.\n */\nfunction createWidget({\n  shadow,\n  options: { shouldCreateActor = true, ...options },\n  attachTo,\n}) {\n  let actor;\n  let dialog;\n  let isDialogOpen = false;\n\n  /**\n   * Show the success message for 5 seconds\n   */\n  function showSuccessMessage() {\n    if (!shadow) {\n      return;\n    }\n\n    try {\n      const success = SuccessMessage({\n        message: options.successMessageText,\n        onRemove: () => {\n          if (timeoutId) {\n            clearTimeout(timeoutId);\n          }\n          showActor();\n        },\n      });\n\n      if (!success.el) {\n        throw new Error('Unable to show success message');\n      }\n\n      shadow.appendChild(success.el);\n\n      const timeoutId = setTimeout(() => {\n        if (success) {\n          success.remove();\n        }\n      }, 5000);\n    } catch (err) {\n      // TODO: error handling\n      _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n    }\n  }\n\n  /**\n   * Handler for when the feedback form is completed by the user. This will\n   * create and send the feedback message as an event.\n   */\n  async function _handleFeedbackSubmit(feedback) {\n    if (!dialog) {\n      return;\n    }\n\n    // Simple validation for now, just check for non-empty required fields\n    const emptyField = [];\n    if (options.isNameRequired && !feedback.name) {\n      emptyField.push(options.nameLabel);\n    }\n    if (options.isEmailRequired && !feedback.email) {\n      emptyField.push(options.emailLabel);\n    }\n    if (!feedback.message) {\n      emptyField.push(options.messageLabel);\n    }\n    if (emptyField.length > 0) {\n      dialog.showError(`Please enter in the following required fields: ${emptyField.join(', ')}`);\n      return;\n    }\n\n    const result = await handleFeedbackSubmit(dialog, feedback);\n\n    // Error submitting feedback\n    if (!result) {\n      if (options.onSubmitError) {\n        options.onSubmitError();\n      }\n\n      return;\n    }\n\n    // Success\n    removeDialog();\n    showSuccessMessage();\n\n    if (options.onSubmitSuccess) {\n      options.onSubmitSuccess();\n    }\n  }\n\n  /**\n   * Internal handler when dialog is opened\n   */\n  function handleOpenDialog() {\n    // Flush replay if integration exists\n    const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.getClient)();\n    const replay =\n      client &&\n      client.getIntegrationByName &&\n      client.getIntegrationByName('Replay');\n    if (!replay) {\n      return;\n    }\n    replay.flush().catch(err => {\n      DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n    });\n  }\n\n  /**\n   * Displays the default actor\n   */\n  function showActor() {\n    actor && actor.show();\n  }\n\n  /**\n   * Hides the default actor\n   */\n  function hideActor() {\n    actor && actor.hide();\n  }\n\n  /**\n   * Removes the default actor element\n   */\n  function removeActor() {\n    actor && actor.el && actor.el.remove();\n  }\n\n  /**\n   *\n   */\n  function openDialog() {\n    try {\n      if (dialog) {\n        dialog.open();\n        isDialogOpen = true;\n        if (options.onFormOpen) {\n          options.onFormOpen();\n        }\n        handleOpenDialog();\n        return;\n      }\n\n      const userKey = options.useSentryUser;\n      const scope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.getCurrentScope)();\n      const user = scope && scope.getUser();\n\n      dialog = Dialog({\n        colorScheme: options.colorScheme,\n        showBranding: options.showBranding,\n        showName: options.showName || options.isNameRequired,\n        showEmail: options.showEmail || options.isEmailRequired,\n        isNameRequired: options.isNameRequired,\n        isEmailRequired: options.isEmailRequired,\n        formTitle: options.formTitle,\n        cancelButtonLabel: options.cancelButtonLabel,\n        submitButtonLabel: options.submitButtonLabel,\n        emailLabel: options.emailLabel,\n        emailPlaceholder: options.emailPlaceholder,\n        messageLabel: options.messageLabel,\n        messagePlaceholder: options.messagePlaceholder,\n        nameLabel: options.nameLabel,\n        namePlaceholder: options.namePlaceholder,\n        isRequiredLabel: options.isRequiredLabel,\n        defaultName: (userKey && user && user[userKey.name]) || '',\n        defaultEmail: (userKey && user && user[userKey.email]) || '',\n        onClosed: () => {\n          showActor();\n          isDialogOpen = false;\n\n          if (options.onFormClose) {\n            options.onFormClose();\n          }\n        },\n        onCancel: () => {\n          closeDialog();\n          showActor();\n        },\n        onSubmit: _handleFeedbackSubmit,\n      });\n\n      if (!dialog.el) {\n        throw new Error('Unable to open Feedback dialog');\n      }\n\n      shadow.appendChild(dialog.el);\n\n      // Hides the default actor whenever dialog is opened\n      hideActor();\n\n      if (options.onFormOpen) {\n        options.onFormOpen();\n      }\n      handleOpenDialog();\n    } catch (err) {\n      // TODO: Error handling?\n      _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n    }\n  }\n\n  /**\n   * Closes the dialog\n   */\n  function closeDialog() {\n    if (dialog) {\n      dialog.close();\n      isDialogOpen = false;\n\n      if (options.onFormClose) {\n        options.onFormClose();\n      }\n    }\n  }\n\n  /**\n   * Removes the dialog element from DOM\n   */\n  function removeDialog() {\n    if (dialog) {\n      closeDialog();\n      const dialogEl = dialog.el;\n      dialogEl && dialogEl.remove();\n      dialog = undefined;\n    }\n  }\n\n  /**\n   *\n   */\n  function handleActorClick() {\n    // Open dialog\n    if (!isDialogOpen) {\n      openDialog();\n    }\n\n    // Hide actor button\n    hideActor();\n  }\n\n  if (attachTo) {\n    attachTo.addEventListener('click', handleActorClick);\n  } else if (shouldCreateActor) {\n    actor = Actor({ buttonLabel: options.buttonLabel, onClick: handleActorClick });\n    actor.el && shadow.appendChild(actor.el);\n  }\n\n  return {\n    get actor() {\n      return actor;\n    },\n    get dialog() {\n      return dialog;\n    },\n\n    showActor,\n    hideActor,\n    removeActor,\n\n    openDialog,\n    closeDialog,\n    removeDialog,\n  };\n}\n\nconst doc = WINDOW.document;\n\nconst feedbackIntegration = ((options) => {\n  // eslint-disable-next-line deprecation/deprecation\n  return new Feedback(options);\n}) ;\n\n/**\n * Feedback integration. When added as an integration to the SDK, it will\n * inject a button in the bottom-right corner of the window that opens a\n * feedback modal when clicked.\n *\n * @deprecated Use `feedbackIntegration()` instead.\n */\nclass Feedback  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Feedback';}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * Feedback configuration options\n   */\n\n  /**\n   * Reference to widget element that is created when autoInject is true\n   */\n\n  /**\n   * List of all widgets that are created from the integration\n   */\n\n  /**\n   * Reference to the host element where widget is inserted\n   */\n\n  /**\n   * Refernce to Shadow DOM root\n   */\n\n  /**\n   * Tracks if actor styles have ever been inserted into shadow DOM\n   */\n\n   constructor({\n    autoInject = true,\n    id = 'sentry-feedback',\n    isEmailRequired = false,\n    isNameRequired = false,\n    showBranding = true,\n    showEmail = true,\n    showName = true,\n    useSentryUser = {\n      email: 'email',\n      name: 'username',\n    },\n\n    themeDark,\n    themeLight,\n    colorScheme = 'system',\n\n    buttonLabel = ACTOR_LABEL,\n    cancelButtonLabel = CANCEL_BUTTON_LABEL,\n    submitButtonLabel = SUBMIT_BUTTON_LABEL,\n    formTitle = FORM_TITLE,\n    emailPlaceholder = EMAIL_PLACEHOLDER,\n    emailLabel = EMAIL_LABEL,\n    messagePlaceholder = MESSAGE_PLACEHOLDER,\n    messageLabel = MESSAGE_LABEL,\n    namePlaceholder = NAME_PLACEHOLDER,\n    nameLabel = NAME_LABEL,\n    isRequiredLabel = IS_REQUIRED_LABEL,\n    successMessageText = SUCCESS_MESSAGE_TEXT,\n\n    onFormClose,\n    onFormOpen,\n    onSubmitError,\n    onSubmitSuccess,\n  } = {}) {\n    // eslint-disable-next-line deprecation/deprecation\n    this.name = Feedback.id;\n\n    // tsc fails if these are not initialized explicitly constructor, e.g. can't call `_initialize()`\n    this._host = null;\n    this._shadow = null;\n    this._widget = null;\n    this._widgets = new Set();\n    this._hasInsertedActorStyles = false;\n\n    this.options = {\n      autoInject,\n      showBranding,\n      id,\n      isEmailRequired,\n      isNameRequired,\n      showEmail,\n      showName,\n      useSentryUser,\n\n      colorScheme,\n      themeDark: {\n        ...DEFAULT_THEME.dark,\n        ...themeDark,\n      },\n      themeLight: {\n        ...DEFAULT_THEME.light,\n        ...themeLight,\n      },\n\n      buttonLabel,\n      cancelButtonLabel,\n      submitButtonLabel,\n      formTitle,\n      emailLabel,\n      emailPlaceholder,\n      messageLabel,\n      messagePlaceholder,\n      nameLabel,\n      namePlaceholder,\n      isRequiredLabel,\n      successMessageText,\n\n      onFormClose,\n      onFormOpen,\n      onSubmitError,\n      onSubmitSuccess,\n    };\n  }\n\n  /**\n   * Setup and initialize feedback container\n   */\n   setupOnce() {\n    if (!(0,_sentry_utils__WEBPACK_IMPORTED_MODULE_7__.isBrowser)()) {\n      return;\n    }\n\n    try {\n      this._cleanupWidgetIfExists();\n\n      const { autoInject } = this.options;\n\n      if (!autoInject) {\n        // Nothing to do here\n        return;\n      }\n\n      this._createWidget(this.options);\n    } catch (err) {\n      DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n    }\n  }\n\n  /**\n   * Allows user to open the dialog box. Creates a new widget if\n   * `autoInject` was false, otherwise re-uses the default widget that was\n   * created during initialization of the integration.\n   */\n   openDialog() {\n    if (!this._widget) {\n      this._createWidget({ ...this.options, shouldCreateActor: false });\n    }\n\n    if (!this._widget) {\n      return;\n    }\n\n    this._widget.openDialog();\n  }\n\n  /**\n   * Closes the dialog for the default widget, if it exists\n   */\n   closeDialog() {\n    if (!this._widget) {\n      // Nothing to do if widget does not exist\n      return;\n    }\n\n    this._widget.closeDialog();\n  }\n\n  /**\n   * Adds click listener to attached element to open a feedback dialog\n   */\n   attachTo(el, optionOverrides) {\n    try {\n      const options = mergeOptions(this.options, optionOverrides || {});\n\n      return this._ensureShadowHost(options, ({ shadow }) => {\n        const targetEl =\n          typeof el === 'string' ? doc.querySelector(el) : typeof el.addEventListener === 'function' ? el : null;\n\n        if (!targetEl) {\n          DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error('[Feedback] Unable to attach to target element');\n          return null;\n        }\n\n        const widget = createWidget({ shadow, options, attachTo: targetEl });\n        this._widgets.add(widget);\n\n        if (!this._widget) {\n          this._widget = widget;\n        }\n\n        return widget;\n      });\n    } catch (err) {\n      DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n      return null;\n    }\n  }\n\n  /**\n   * Creates a new widget. Accepts partial options to override any options passed to constructor.\n   */\n   createWidget(\n    optionOverrides,\n  ) {\n    try {\n      return this._createWidget(mergeOptions(this.options, optionOverrides || {}));\n    } catch (err) {\n      DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n      return null;\n    }\n  }\n\n  /**\n   * Removes a single widget\n   */\n   removeWidget(widget) {\n    if (!widget) {\n      return false;\n    }\n\n    try {\n      if (this._widgets.has(widget)) {\n        widget.removeActor();\n        widget.removeDialog();\n        this._widgets.delete(widget);\n\n        if (this._widget === widget) {\n          // TODO: is more clean-up needed? e.g. call remove()\n          this._widget = null;\n        }\n\n        return true;\n      }\n    } catch (err) {\n      DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error(err);\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns the default (first-created) widget\n   */\n   getWidget() {\n    return this._widget;\n  }\n\n  /**\n   * Removes the Feedback integration (including host, shadow DOM, and all widgets)\n   */\n   remove() {\n    if (this._host) {\n      this._host.remove();\n    }\n    this._initialize();\n  }\n\n  /**\n   * Initializes values of protected properties\n   */\n   _initialize() {\n    this._host = null;\n    this._shadow = null;\n    this._widget = null;\n    this._widgets = new Set();\n    this._hasInsertedActorStyles = false;\n  }\n\n  /**\n   * Clean-up the widget if it already exists in the DOM. This shouldn't happen\n   * in prod, but can happen in development with hot module reloading.\n   */\n   _cleanupWidgetIfExists() {\n    if (this._host) {\n      this.remove();\n    }\n    const existingFeedback = doc.querySelector(`#${this.options.id}`);\n    if (existingFeedback) {\n      existingFeedback.remove();\n    }\n  }\n\n  /**\n   * Creates a new widget, after ensuring shadow DOM exists\n   */\n   _createWidget(options) {\n    return this._ensureShadowHost(options, ({ shadow }) => {\n      const widget = createWidget({ shadow, options });\n\n      if (!this._hasInsertedActorStyles && widget.actor) {\n        shadow.appendChild(createActorStyles(doc));\n        this._hasInsertedActorStyles = true;\n      }\n\n      this._widgets.add(widget);\n\n      if (!this._widget) {\n        this._widget = widget;\n      }\n\n      return widget;\n    });\n  }\n\n  /**\n   * Ensures that shadow DOM exists and is added to the DOM\n   */\n   _ensureShadowHost(\n    options,\n    cb,\n  ) {\n    let needsAppendHost = false;\n\n    // Don't create if it already exists\n    if (!this._shadow || !this._host) {\n      const { id, colorScheme, themeLight, themeDark } = options;\n      const { shadow, host } = createShadowHost({\n        id,\n        colorScheme,\n        themeLight,\n        themeDark,\n      });\n      this._shadow = shadow;\n      this._host = host;\n      needsAppendHost = true;\n    }\n\n    // set data attribute on host for different themes\n    this._host.dataset.sentryFeedbackColorscheme = options.colorScheme;\n\n    const result = cb({ shadow: this._shadow, host: this._host });\n\n    if (needsAppendHost) {\n      doc.body.appendChild(this._host);\n    }\n\n    return result;\n  }\n} Feedback.__initStatic();\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvZmVlZGJhY2svZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStFO0FBQzRDOztBQUUzSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFVOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0IsMERBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksK0RBQWlCO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksWUFBWSxxQ0FBcUM7QUFDckQsSUFBSSx1QkFBdUIsSUFBSTtBQUMvQjtBQUNBLGlCQUFpQix1REFBUztBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBLFNBQVMsdURBQVM7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0EseURBQXlELHVDQUF1QztBQUNoRzs7QUFFQSxxQkFBcUIsaUVBQW1COztBQUV4Qzs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtEQUErRDtBQUMvRSxlQUFlLHFDQUFxQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RCxZQUFZO0FBQ1osUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWixRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMERBQTBELDhEQUFlLElBQUk7QUFDakYsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsd0JBQXdCO0FBQ3hCLGtCQUFrQjtBQUNsQixhQUFhO0FBQ2IsZUFBZTtBQUNmLGNBQWM7QUFDZCxxQkFBcUI7QUFDckIsa0JBQWtCOztBQUVsQix5QkFBeUI7QUFDekIsK0JBQStCO0FBQy9CLHFCQUFxQjtBQUNyQiw0QkFBNEI7QUFDNUIseUJBQXlCO0FBQ3pCLCtCQUErQjs7QUFFL0IseUJBQXlCO0FBQ3pCLCtCQUErQjtBQUMvQixxQkFBcUI7QUFDckIsNEJBQTRCO0FBQzVCLHlCQUF5QjtBQUN6QiwrQkFBK0I7O0FBRS9CLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEIsb0JBQW9CO0FBQ3BCLDJCQUEyQjs7QUFFM0IsMEJBQTBCO0FBQzFCLGtDQUFrQztBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0NBQXdDOztBQUVwRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDLGNBQWM7O0FBRXJELDREQUE0RCxvQ0FBb0M7QUFDaEc7O0FBRUEsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBLElBQUksaURBQU07QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esc0NBQXNDLDZDQUE2Qzs7QUFFbkY7QUFDQTtBQUNBLElBQUk7QUFDSixtQkFBbUIsaURBQU07QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsS0FBSztBQUNuQixlQUFlLEtBQUs7QUFDcEIsb0JBQW9CLE1BQU0sRUFBRSxLQUFLO0FBQ2pDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsY0FBYyxLQUFLO0FBQ25CLGVBQWUsS0FBSztBQUNwQjtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLDRCQUE0QjtBQUNoQztBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsVUFBVSxlQUFlO0FBQ3pCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdDQUFnQztBQUNoRDtBQUNBO0FBQ0Esd0NBQXdDLDBDQUEwQyxNQUFNLGdCQUFnQjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0NBQWdDO0FBQ2hEO0FBQ0E7QUFDQSx3Q0FBd0MsMENBQTBDLE1BQU0sZ0JBQWdCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQztBQUM5QztBQUNBLG9DQUFvQywwQ0FBMEMsTUFBTSxnQkFBZ0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsVUFBVSw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsbUJBQW1CLGFBQWE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQU07QUFDcEIsZUFBZSxPQUFPO0FBQ3RCLG9CQUFvQixPQUFPLEVBQUUsT0FBTztBQUNwQztBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGNBQWMsTUFBTTtBQUNwQixlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsbUJBQW1CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHNDQUFzQztBQUNuRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSxNQUFNLGlEQUFNO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxzQkFBc0I7QUFDL0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdURBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpREFBTTtBQUMzQixLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw2REFBZTtBQUNuQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU0saURBQU07QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLG9CQUFvQiw2REFBNkQ7QUFDakY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdEQUFTO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxjQUFjLGFBQWE7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOLHFCQUFxQixpREFBTTtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDJDQUEyQztBQUN0RTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTs7QUFFdEUsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixpREFBTTtBQUMvQjtBQUNBOztBQUVBLHNDQUFzQyxxQ0FBcUM7QUFDM0U7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixxQkFBcUIsaURBQU07QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGLE1BQU07QUFDTixxQkFBcUIsaURBQU07QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTixxQkFBcUIsaURBQU07QUFDM0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZ0JBQWdCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQsb0NBQW9DLGlCQUFpQjs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMseUNBQXlDO0FBQ3ZELGNBQWMsZUFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3Qix3Q0FBd0M7O0FBRWhFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFcUQ7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL2ZlZWRiYWNrL2VzbS9pbmRleC5qcz85ZWRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdMT0JBTF9PQkosIGdldExvY2F0aW9uSHJlZiwgbG9nZ2VyLCBpc0Jyb3dzZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IHByZXBhcmVFdmVudCwgZ2V0SXNvbGF0aW9uU2NvcGUsIGdldENsaWVudCwgd2l0aFNjb3BlLCBjcmVhdGVFdmVudEVudmVsb3BlLCBnZXRDdXJyZW50U2NvcGUgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuXG4vLyBleHBvcnRpbmcgYSBzZXBhcmF0ZSBjb3B5IG9mIGBXSU5ET1dgIHJhdGhlciB0aGFuIGV4cG9ydGluZyB0aGUgb25lIGZyb20gYEBzZW50cnkvYnJvd3NlcmBcbi8vIHByZXZlbnRzIHRoZSBicm93c2VyIHBhY2thZ2UgZnJvbSBiZWluZyBidW5kbGVkIGluIHRoZSBDRE4gYnVuZGxlLCBhbmQgYXZvaWRzIGFcbi8vIGNpcmN1bGFyIGRlcGVuZGVuY3kgYmV0d2VlbiB0aGUgYnJvd3NlciBhbmQgZmVlZGJhY2sgcGFja2FnZXNcbmNvbnN0IFdJTkRPVyA9IEdMT0JBTF9PQkogO1xuXG5jb25zdCBMSUdIVF9CQUNLR1JPVU5EID0gJyNmZmZmZmYnO1xuY29uc3QgSU5IRVJJVCA9ICdpbmhlcml0JztcbmNvbnN0IFNVQk1JVF9DT0xPUiA9ICdyZ2JhKDEwOCwgOTUsIDE5OSwgMSknO1xuY29uc3QgTElHSFRfVEhFTUUgPSB7XG4gIGZvbnRGYW1pbHk6IFwic3lzdGVtLXVpLCAnSGVsdmV0aWNhIE5ldWUnLCBBcmlhbCwgc2Fucy1zZXJpZlwiLFxuICBmb250U2l6ZTogJzE0cHgnLFxuXG4gIGJhY2tncm91bmQ6IExJR0hUX0JBQ0tHUk9VTkQsXG4gIGJhY2tncm91bmRIb3ZlcjogJyNmNmY2ZjcnLFxuICBmb3JlZ3JvdW5kOiAnIzJiMjIzMycsXG4gIGJvcmRlcjogJzEuNXB4IHNvbGlkIHJnYmEoNDEsIDM1LCA0NywgMC4xMyknLFxuICBib3JkZXJSYWRpdXM6ICcyNXB4JyxcbiAgYm94U2hhZG93OiAnMHB4IDRweCAyNHB4IDBweCByZ2JhKDQzLCAzNCwgNTEsIDAuMTIpJyxcblxuICBzdWNjZXNzOiAnIzI2OGQ3NScsXG4gIGVycm9yOiAnI2RmMzMzOCcsXG5cbiAgc3VibWl0QmFja2dyb3VuZDogJ3JnYmEoODgsIDc0LCAxOTIsIDEpJyxcbiAgc3VibWl0QmFja2dyb3VuZEhvdmVyOiBTVUJNSVRfQ09MT1IsXG4gIHN1Ym1pdEJvcmRlcjogU1VCTUlUX0NPTE9SLFxuICBzdWJtaXRPdXRsaW5lRm9jdXM6ICcjMjkyMzJmJyxcbiAgc3VibWl0Rm9yZWdyb3VuZDogTElHSFRfQkFDS0dST1VORCxcbiAgc3VibWl0Rm9yZWdyb3VuZEhvdmVyOiBMSUdIVF9CQUNLR1JPVU5ELFxuXG4gIGNhbmNlbEJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gIGNhbmNlbEJhY2tncm91bmRIb3ZlcjogJ3ZhcigtLWJhY2tncm91bmQtaG92ZXIpJyxcbiAgY2FuY2VsQm9yZGVyOiAndmFyKC0tYm9yZGVyKScsXG4gIGNhbmNlbE91dGxpbmVGb2N1czogJ3ZhcigtLWlucHV0LW91dGxpbmUtZm9jdXMpJyxcbiAgY2FuY2VsRm9yZWdyb3VuZDogJ3ZhcigtLWZvcmVncm91bmQpJyxcbiAgY2FuY2VsRm9yZWdyb3VuZEhvdmVyOiAndmFyKC0tZm9yZWdyb3VuZCknLFxuXG4gIGlucHV0QmFja2dyb3VuZDogSU5IRVJJVCxcbiAgaW5wdXRGb3JlZ3JvdW5kOiBJTkhFUklULFxuICBpbnB1dEJvcmRlcjogJ3ZhcigtLWJvcmRlciknLFxuICBpbnB1dE91dGxpbmVGb2N1czogU1VCTUlUX0NPTE9SLFxuXG4gIGZvcm1Cb3JkZXJSYWRpdXM6ICcyMHB4JyxcbiAgZm9ybUNvbnRlbnRCb3JkZXJSYWRpdXM6ICc2cHgnLFxufTtcblxuY29uc3QgREVGQVVMVF9USEVNRSA9IHtcbiAgbGlnaHQ6IExJR0hUX1RIRU1FLFxuICBkYXJrOiB7XG4gICAgLi4uTElHSFRfVEhFTUUsXG5cbiAgICBiYWNrZ3JvdW5kOiAnIzI5MjMyZicsXG4gICAgYmFja2dyb3VuZEhvdmVyOiAnIzM1MmYzYicsXG4gICAgZm9yZWdyb3VuZDogJyNlYmU2ZWYnLFxuICAgIGJvcmRlcjogJzEuNXB4IHNvbGlkIHJnYmEoMjM1LCAyMzAsIDIzOSwgMC4xNSknLFxuXG4gICAgc3VjY2VzczogJyMyZGE5OGMnLFxuICAgIGVycm9yOiAnI2Y1NTQ1OScsXG4gIH0sXG59O1xuXG5jb25zdCBBQ1RPUl9MQUJFTCA9ICdSZXBvcnQgYSBCdWcnO1xuY29uc3QgQ0FOQ0VMX0JVVFRPTl9MQUJFTCA9ICdDYW5jZWwnO1xuY29uc3QgU1VCTUlUX0JVVFRPTl9MQUJFTCA9ICdTZW5kIEJ1ZyBSZXBvcnQnO1xuY29uc3QgRk9STV9USVRMRSA9ICdSZXBvcnQgYSBCdWcnO1xuY29uc3QgRU1BSUxfUExBQ0VIT0xERVIgPSAneW91ci5lbWFpbEBleGFtcGxlLm9yZyc7XG5jb25zdCBFTUFJTF9MQUJFTCA9ICdFbWFpbCc7XG5jb25zdCBNRVNTQUdFX1BMQUNFSE9MREVSID0gXCJXaGF0J3MgdGhlIGJ1Zz8gV2hhdCBkaWQgeW91IGV4cGVjdD9cIjtcbmNvbnN0IE1FU1NBR0VfTEFCRUwgPSAnRGVzY3JpcHRpb24nO1xuY29uc3QgTkFNRV9QTEFDRUhPTERFUiA9ICdZb3VyIE5hbWUnO1xuY29uc3QgTkFNRV9MQUJFTCA9ICdOYW1lJztcbmNvbnN0IElTX1JFUVVJUkVEX0xBQkVMID0gJyhyZXF1aXJlZCknO1xuY29uc3QgU1VDQ0VTU19NRVNTQUdFX1RFWFQgPSAnVGhhbmsgeW91IGZvciB5b3VyIHJlcG9ydCEnO1xuXG5jb25zdCBGRUVEQkFDS19XSURHRVRfU09VUkNFID0gJ3dpZGdldCc7XG5jb25zdCBGRUVEQkFDS19BUElfU09VUkNFID0gJ2FwaSc7XG5cbi8qKlxuICogUHJlcGFyZSBhIGZlZWRiYWNrIGV2ZW50ICYgZW5yaWNoIGl0IHdpdGggdGhlIFNESyBtZXRhZGF0YS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUZlZWRiYWNrRXZlbnQoe1xuICBjbGllbnQsXG4gIHNjb3BlLFxuICBldmVudCxcbn0pIHtcbiAgY29uc3QgZXZlbnRIaW50ID0ge307XG4gIGlmIChjbGllbnQuZW1pdCkge1xuICAgIGNsaWVudC5lbWl0KCdwcmVwcm9jZXNzRXZlbnQnLCBldmVudCwgZXZlbnRIaW50KTtcbiAgfVxuXG4gIGNvbnN0IHByZXBhcmVkRXZlbnQgPSAoYXdhaXQgcHJlcGFyZUV2ZW50KFxuICAgIGNsaWVudC5nZXRPcHRpb25zKCksXG4gICAgZXZlbnQsXG4gICAgZXZlbnRIaW50LFxuICAgIHNjb3BlLFxuICAgIGNsaWVudCxcbiAgICBnZXRJc29sYXRpb25TY29wZSgpLFxuICApKSA7XG5cbiAgaWYgKHByZXBhcmVkRXZlbnQgPT09IG51bGwpIHtcbiAgICAvLyBUYWtlbiBmcm9tIGJhc2VjbGllbnQncyBgX3Byb2Nlc3NFdmVudGAgbWV0aG9kLCB3aGVyZSB0aGlzIGlzIGhhbmRsZWQgZm9yIGVycm9ycy90cmFuc2FjdGlvbnNcbiAgICBjbGllbnQucmVjb3JkRHJvcHBlZEV2ZW50KCdldmVudF9wcm9jZXNzb3InLCAnZmVlZGJhY2snLCBldmVudCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBUaGlzIG5vcm1hbGx5IGhhcHBlbnMgaW4gYnJvd3NlciBjbGllbnQgXCJfcHJlcGFyZUV2ZW50XCJcbiAgLy8gYnV0IHNpbmNlIHdlIGRvIG5vdCB1c2UgdGhpcyBwcml2YXRlIG1ldGhvZCBmcm9tIHRoZSBjbGllbnQsIGJ1dCByYXRoZXIgdGhlIHBsYWluIGltcG9ydFxuICAvLyB3ZSBuZWVkIHRvIGRvIHRoaXMgbWFudWFsbHkuXG4gIHByZXBhcmVkRXZlbnQucGxhdGZvcm0gPSBwcmVwYXJlZEV2ZW50LnBsYXRmb3JtIHx8ICdqYXZhc2NyaXB0JztcblxuICByZXR1cm4gcHJlcGFyZWRFdmVudDtcbn1cblxuLyoqXG4gKiBTZW5kIGZlZWRiYWNrIHVzaW5nIHRyYW5zcG9ydFxuICovXG5hc3luYyBmdW5jdGlvbiBzZW5kRmVlZGJhY2tSZXF1ZXN0KFxuICB7IGZlZWRiYWNrOiB7IG1lc3NhZ2UsIGVtYWlsLCBuYW1lLCBzb3VyY2UsIHVybCB9IH0sXG4gIHsgaW5jbHVkZVJlcGxheSA9IHRydWUgfSA9IHt9LFxuKSB7XG4gIGNvbnN0IGNsaWVudCA9IGdldENsaWVudCgpO1xuICBjb25zdCB0cmFuc3BvcnQgPSBjbGllbnQgJiYgY2xpZW50LmdldFRyYW5zcG9ydCgpO1xuICBjb25zdCBkc24gPSBjbGllbnQgJiYgY2xpZW50LmdldERzbigpO1xuXG4gIGlmICghY2xpZW50IHx8ICF0cmFuc3BvcnQgfHwgIWRzbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGJhc2VFdmVudCA9IHtcbiAgICBjb250ZXh0czoge1xuICAgICAgZmVlZGJhY2s6IHtcbiAgICAgICAgY29udGFjdF9lbWFpbDogZW1haWwsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgc291cmNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHR5cGU6ICdmZWVkYmFjaycsXG4gIH07XG5cbiAgcmV0dXJuIHdpdGhTY29wZShhc3luYyBzY29wZSA9PiB7XG4gICAgLy8gTm8gdXNlIGZvciBicmVhZGNydW1icyBpbiBmZWVkYmFja1xuICAgIHNjb3BlLmNsZWFyQnJlYWRjcnVtYnMoKTtcblxuICAgIGlmIChbRkVFREJBQ0tfQVBJX1NPVVJDRSwgRkVFREJBQ0tfV0lER0VUX1NPVVJDRV0uaW5jbHVkZXMoU3RyaW5nKHNvdXJjZSkpKSB7XG4gICAgICBzY29wZS5zZXRMZXZlbCgnaW5mbycpO1xuICAgIH1cblxuICAgIGNvbnN0IGZlZWRiYWNrRXZlbnQgPSBhd2FpdCBwcmVwYXJlRmVlZGJhY2tFdmVudCh7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgc2NvcGU6IHNjb3BlICxcbiAgICAgIGNsaWVudCxcbiAgICAgIGV2ZW50OiBiYXNlRXZlbnQsXG4gICAgfSk7XG5cbiAgICBpZiAoIWZlZWRiYWNrRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2xpZW50LmVtaXQpIHtcbiAgICAgIGNsaWVudC5lbWl0KCdiZWZvcmVTZW5kRmVlZGJhY2snLCBmZWVkYmFja0V2ZW50LCB7IGluY2x1ZGVSZXBsYXk6IEJvb2xlYW4oaW5jbHVkZVJlcGxheSkgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZW52ZWxvcGUgPSBjcmVhdGVFdmVudEVudmVsb3BlKGZlZWRiYWNrRXZlbnQsIGRzbiwgY2xpZW50LmdldE9wdGlvbnMoKS5fbWV0YWRhdGEsIGNsaWVudC5nZXRPcHRpb25zKCkudHVubmVsKTtcblxuICAgIGxldCByZXNwb25zZTtcblxuICAgIHRyeSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IHRyYW5zcG9ydC5zZW5kKGVudmVsb3BlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdVbmFibGUgdG8gc2VuZCBGZWVkYmFjaycpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBJbiBjYXNlIGJyb3dzZXJzIGRvbid0IGFsbG93IHRoaXMgcHJvcGVydHkgdG8gYmUgd3JpdGFibGVcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIG5lZWRzIGxpYiBlczIwMjIgYW5kIG5ld2VyXG4gICAgICAgIGVycm9yLmNhdXNlID0gZXJyO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICAvLyBUT0RPICh2OCk6IHdlIGNhbiByZW1vdmUgdGhpcyBndWFyZCBvbmNlIHRyYW5zcG9ydC5zZW5kJ3MgdHlwZSBzaWduYXR1cmUgZG9lc24ndCBpbmNsdWRlIHZvaWQgYW55bW9yZVxuICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZXF1aXJlIHZhbGlkIHN0YXR1cyBjb2Rlcywgb3RoZXJ3aXNlIGNhbiBhc3N1bWUgZmVlZGJhY2sgd2FzIG5vdCBzZW50IHN1Y2Nlc3NmdWxseVxuICAgIGlmICh0eXBlb2YgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gJ251bWJlcicgJiYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPCAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAzMDApKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZW5kIEZlZWRiYWNrJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9KTtcbn1cblxuLypcbiAqIEZvciByZWZlcmVuY2UsIHRoZSBmdWxseSBidWlsdCBldmVudCBsb29rcyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICoge1xuICogICAgIFwidHlwZVwiOiBcImZlZWRiYWNrXCIsXG4gKiAgICAgXCJldmVudF9pZFwiOiBcImQyMTMyZDMxYjM5NDQ1ZjE5MzhkN2UyMWI2YmYwZWM0XCIsXG4gKiAgICAgXCJ0aW1lc3RhbXBcIjogMTU5Nzk3Nzc3Ny42MTg5NzE4LFxuICogICAgIFwiZGlzdFwiOiBcIjEuMTJcIixcbiAqICAgICBcInBsYXRmb3JtXCI6IFwiamF2YXNjcmlwdFwiLFxuICogICAgIFwiZW52aXJvbm1lbnRcIjogXCJwcm9kdWN0aW9uXCIsXG4gKiAgICAgXCJyZWxlYXNlXCI6IDQyLFxuICogICAgIFwidGFnc1wiOiB7XCJ0cmFuc2FjdGlvblwiOiBcIi9vcmdhbml6YXRpb25zLzpvcmdJZC9wZXJmb3JtYW5jZS86ZXZlbnRTbHVnL1wifSxcbiAqICAgICBcInNka1wiOiB7XCJuYW1lXCI6IFwibmFtZVwiLCBcInZlcnNpb25cIjogXCJ2ZXJzaW9uXCJ9LFxuICogICAgIFwidXNlclwiOiB7XG4gKiAgICAgICAgIFwiaWRcIjogXCIxMjNcIixcbiAqICAgICAgICAgXCJ1c2VybmFtZVwiOiBcInVzZXJcIixcbiAqICAgICAgICAgXCJlbWFpbFwiOiBcInVzZXJAc2l0ZS5jb21cIixcbiAqICAgICAgICAgXCJpcF9hZGRyZXNzXCI6IFwiMTkyLjE2OC4xMS4xMlwiLFxuICogICAgIH0sXG4gKiAgICAgXCJyZXF1ZXN0XCI6IHtcbiAqICAgICAgICAgXCJ1cmxcIjogTm9uZSxcbiAqICAgICAgICAgXCJoZWFkZXJzXCI6IHtcbiAqICAgICAgICAgICAgIFwidXNlci1BZ2VudFwiOiBcIk1vemlsbGEvNS4wIChNYWNpbnRvc2g7IEludGVsIE1hYyBPUyBYIDEwXzE1XzcpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8xNS41IFNhZmFyaS82MDUuMS4xNVwiXG4gKiAgICAgICAgIH0sXG4gKiAgICAgfSxcbiAqICAgICBcImNvbnRleHRzXCI6IHtcbiAqICAgICAgICAgXCJmZWVkYmFja1wiOiB7XG4gKiAgICAgICAgICAgICBcIm1lc3NhZ2VcIjogXCJ0ZXN0IG1lc3NhZ2VcIixcbiAqICAgICAgICAgICAgIFwiY29udGFjdF9lbWFpbFwiOiBcInRlc3RAZXhhbXBsZS5jb21cIixcbiAqICAgICAgICAgICAgIFwidHlwZVwiOiBcImZlZWRiYWNrXCIsXG4gKiAgICAgICAgIH0sXG4gKiAgICAgICAgIFwidHJhY2VcIjoge1xuICogICAgICAgICAgICAgXCJ0cmFjZV9pZFwiOiBcIjRDNzlGNjBDMTEyMTRFQjM4NjA0RjRBRTA3ODFCRkIyXCIsXG4gKiAgICAgICAgICAgICBcInNwYW5faWRcIjogXCJGQTkwRkRFQUQ1Rjc0MDUyXCIsXG4gKiAgICAgICAgICAgICBcInR5cGVcIjogXCJ0cmFjZVwiLFxuICogICAgICAgICB9LFxuICogICAgICAgICBcInJlcGxheVwiOiB7XG4gKiAgICAgICAgICAgICBcInJlcGxheV9pZFwiOiBcImUyZDQyMDQ3YjFjNTQzMWM4Y2JhODVlZTJhOGFiMjVkXCIsXG4gKiAgICAgICAgIH0sXG4gKiAgICAgfSxcbiAqICAgfVxuICovXG5cbi8qKlxuICogUHVibGljIEFQSSB0byBzZW5kIGEgRmVlZGJhY2sgaXRlbSB0byBTZW50cnlcbiAqL1xuZnVuY3Rpb24gc2VuZEZlZWRiYWNrKFxuICB7IG5hbWUsIGVtYWlsLCBtZXNzYWdlLCBzb3VyY2UgPSBGRUVEQkFDS19BUElfU09VUkNFLCB1cmwgPSBnZXRMb2NhdGlvbkhyZWYoKSB9LFxuICBvcHRpb25zID0ge30sXG4pIHtcbiAgaWYgKCFtZXNzYWdlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc3VibWl0IGZlZWRiYWNrIHdpdGggZW1wdHkgbWVzc2FnZScpO1xuICB9XG5cbiAgcmV0dXJuIHNlbmRGZWVkYmFja1JlcXVlc3QoXG4gICAge1xuICAgICAgZmVlZGJhY2s6IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgc291cmNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIG9wdGlvbnMsXG4gICk7XG59XG5cbi8qKlxuICogVGhpcyBzZXJ2ZXMgYXMgYSBidWlsZCB0aW1lIGZsYWcgdGhhdCB3aWxsIGJlIHRydWUgYnkgZGVmYXVsdCwgYnV0IGZhbHNlIGluIG5vbi1kZWJ1ZyBidWlsZHMgb3IgaWYgdXNlcnMgcmVwbGFjZSBgX19TRU5UUllfREVCVUdfX2AgaW4gdGhlaXIgZ2VuZXJhdGVkIGNvZGUuXG4gKlxuICogQVRURU5USU9OOiBUaGlzIGNvbnN0YW50IG11c3QgbmV2ZXIgY3Jvc3MgcGFja2FnZSBib3VuZGFyaWVzIChpLmUuIGJlIGV4cG9ydGVkKSB0byBndWFyYW50ZWUgdGhhdCBpdCBjYW4gYmUgdXNlZCBmb3IgdHJlZSBzaGFraW5nLlxuICovXG5jb25zdCBERUJVR19CVUlMRCA9ICh0eXBlb2YgX19TRU5UUllfREVCVUdfXyA9PT0gJ3VuZGVmaW5lZCcgfHwgX19TRU5UUllfREVCVUdfXyk7XG5cbi8qKlxuICogUXVpY2sgYW5kIGRpcnR5IGRlZXAgbWVyZ2UgZm9yIHRoZSBGZWVkYmFjayBpbnRlZ3JhdGlvbiBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhcbiAgZGVmYXVsdE9wdGlvbnMsXG4gIG9wdGlvbk92ZXJyaWRlcyxcbikge1xuICByZXR1cm4ge1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbk92ZXJyaWRlcyxcbiAgICB0aGVtZURhcms6IHtcbiAgICAgIC4uLmRlZmF1bHRPcHRpb25zLnRoZW1lRGFyayxcbiAgICAgIC4uLm9wdGlvbk92ZXJyaWRlcy50aGVtZURhcmssXG4gICAgfSxcbiAgICB0aGVtZUxpZ2h0OiB7XG4gICAgICAuLi5kZWZhdWx0T3B0aW9ucy50aGVtZUxpZ2h0LFxuICAgICAgLi4ub3B0aW9uT3ZlcnJpZGVzLnRoZW1lTGlnaHQsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIDxzdHlsZT4gZWxlbWVudCBmb3Igd2lkZ2V0IGFjdG9yIChidXR0b24gdGhhdCBvcGVucyB0aGUgZGlhbG9nKVxuICovXG5mdW5jdGlvbiBjcmVhdGVBY3RvclN0eWxlcyhkKSB7XG4gIGNvbnN0IHN0eWxlID0gZC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbi53aWRnZXRfX2FjdG9yIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBsZWZ0OiB2YXIoLS1sZWZ0KTtcbiAgcmlnaHQ6IHZhcigtLXJpZ2h0KTtcbiAgYm90dG9tOiB2YXIoLS1ib3R0b20pO1xuICB0b3A6IHZhcigtLXRvcCk7XG4gIHotaW5kZXg6IHZhcigtLXotaW5kZXgpO1xuXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xuXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogOHB4O1xuXG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZSk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIHBhZGRpbmc6IDE2cHg7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgei1pbmRleDogOTAwMDtcblxuICBjb2xvcjogdmFyKC0tZm9yZWdyb3VuZCk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQpO1xuICBib3JkZXI6IHZhcigtLWJvcmRlcik7XG4gIGJveC1zaGFkb3c6IHZhcigtLWJveC1zaGFkb3cpO1xuICBvcGFjaXR5OiAxO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMXMgZWFzZS1pbi1vdXQ7XG59XG5cbi53aWRnZXRfX2FjdG9yOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1ob3Zlcik7XG59XG5cbi53aWRnZXRfX2FjdG9yIHN2ZyB7XG4gIHdpZHRoOiAxNnB4O1xuICBoZWlnaHQ6IDE2cHg7XG59XG5cbi53aWRnZXRfX2FjdG9yLS1oaWRkZW4ge1xuICBvcGFjaXR5OiAwO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xufVxuXG4ud2lkZ2V0X19hY3Rvcl9fdGV4dCB7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkge1xuICAud2lkZ2V0X19hY3Rvcl9fdGV4dCB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxufVxuXG4uZmVlZGJhY2staWNvbiBwYXRoIHtcbiAgZmlsbDogdmFyKC0tZm9yZWdyb3VuZCk7XG59XG5gO1xuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIDxzdHlsZT4gZWxlbWVudCBmb3Igd2lkZ2V0IGRpYWxvZ1xuICovXG5mdW5jdGlvbiBjcmVhdGVEaWFsb2dTdHlsZXMoZCkge1xuICBjb25zdCBzdHlsZSA9IGQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICBzdHlsZS50ZXh0Q29udGVudCA9IGBcbi5kaWFsb2cge1xuICBsaW5lLWhlaWdodDogMjVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA1KTtcbiAgYm9yZGVyOiBub25lO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGluc2V0OiAwO1xuICB6LWluZGV4OiAxMDAwMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2UtaW4tb3V0O1xufVxuXG4uZGlhbG9nOm5vdChbb3Blbl0pIHtcbiAgb3BhY2l0eTogMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcbn1cbi5kaWFsb2c6bm90KFtvcGVuXSkgLmRpYWxvZ19fY29udGVudCB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC0xNnB4KSBzY2FsZSgwLjk4KTtcbn1cblxuLmRpYWxvZ19fY29udGVudCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgbGVmdDogdmFyKC0tbGVmdCk7XG4gIHJpZ2h0OiB2YXIoLS1yaWdodCk7XG4gIGJvdHRvbTogdmFyKC0tYm90dG9tKTtcbiAgdG9wOiB2YXIoLS10b3ApO1xuXG4gIGJvcmRlcjogdmFyKC0tYm9yZGVyKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZm9ybS1ib3JkZXItcmFkaXVzKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZCk7XG4gIGNvbG9yOiB2YXIoLS1mb3JlZ3JvdW5kKTtcblxuICB3aWR0aDogMzIwcHg7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMnJlbSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJveC1zaGFkb3c6IHZhcigtLWJveC1zaGFkb3cpO1xuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlLWluLW91dDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCkgc2NhbGUoMSk7XG59XG5cbi5kaWFsb2dfX2hlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBwYWRkaW5nOiAyNHB4IDI0cHggMCAyNHB4O1xuICBtYXJnaW46IDA7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi5icmFuZC1saW5rIHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG59XG5cbi5lcnJvciB7XG4gIGNvbG9yOiB2YXIoLS1lcnJvcik7XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG59XG5cbi5mb3JtIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTZweDtcbiAgcGFkZGluZzogMCAyNHB4IDI0cHg7XG59XG5cbi5mb3JtX19lcnJvci1jb250YWluZXIge1xuICBjb2xvcjogdmFyKC0tZXJyb3IpO1xufVxuXG4uZm9ybV9fZXJyb3ItY29udGFpbmVyLS1oaWRkZW4ge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uZm9ybV9fbGFiZWwge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDRweDtcbiAgbWFyZ2luOiAwcHg7XG59XG5cbi5mb3JtX19sYWJlbF9fdGV4dCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdhcDogNHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBncmlkLWF1dG8tZmxvdzogY29sdW1uO1xuICBncmlkLWF1dG8tY29sdW1uczogbWF4LWNvbnRlbnQ7XG59XG5cbi5mb3JtX19sYWJlbF9fdGV4dC0tcmVxdWlyZWQge1xuICBmb250LXNpemU6IDAuODVlbTtcbn1cblxuLmZvcm1fX2lucHV0IHtcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlucHV0LWJhY2tncm91bmQpO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBib3JkZXI6IHZhcigtLWlucHV0LWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWZvcm0tY29udGVudC1ib3JkZXItcmFkaXVzKTtcbiAgY29sb3I6IHZhcigtLWlucHV0LWZvcmVncm91bmQpO1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiB2YXIoLS1mb250LXNpemUpO1xuICBmb250LXdlaWdodDogNTAwO1xuICBwYWRkaW5nOiA2cHggMTJweDtcbn1cblxuLmZvcm1fX2lucHV0OjpwbGFjZWhvbGRlciB7XG4gIGNvbG9yOiB2YXIoLS1pbnB1dC1mb3JlZ3JvdW5kKTtcbiAgb3BhY2l0eTogMC42NTtcbn1cblxuLmZvcm1fX2lucHV0OmZvY3VzLXZpc2libGUge1xuICBvdXRsaW5lOiAxcHggYXV0byB2YXIoLS1pbnB1dC1vdXRsaW5lLWZvY3VzKTtcbn1cblxuLmZvcm1fX2lucHV0LS10ZXh0YXJlYSB7XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICByZXNpemU6IHZlcnRpY2FsO1xufVxuXG4uYnRuLWdyb3VwIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ2FwOiA4cHg7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLmJ0biB7XG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuICBib3JkZXI6IHZhcigtLWNhbmNlbC1ib3JkZXIpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1mb3JtLWNvbnRlbnQtYm9yZGVyLXJhZGl1cyk7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplKTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgcGFkZGluZzogNnB4IDE2cHg7XG59XG4uYnRuW2Rpc2FibGVkXSB7XG4gIG9wYWNpdHk6IDAuNjtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5idG4tLXByaW1hcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWJtaXQtYmFja2dyb3VuZCk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tc3VibWl0LWJvcmRlcik7XG4gIGNvbG9yOiB2YXIoLS1zdWJtaXQtZm9yZWdyb3VuZCk7XG59XG4uYnRuLS1wcmltYXJ5OmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3VibWl0LWJhY2tncm91bmQtaG92ZXIpO1xuICBjb2xvcjogdmFyKC0tc3VibWl0LWZvcmVncm91bmQtaG92ZXIpO1xufVxuLmJ0bi0tcHJpbWFyeTpmb2N1cy12aXNpYmxlIHtcbiAgb3V0bGluZTogMXB4IGF1dG8gdmFyKC0tc3VibWl0LW91dGxpbmUtZm9jdXMpO1xufVxuXG4uYnRuLS1kZWZhdWx0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FuY2VsLWJhY2tncm91bmQpO1xuICBjb2xvcjogdmFyKC0tY2FuY2VsLWZvcmVncm91bmQpO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuLmJ0bi0tZGVmYXVsdDpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhbmNlbC1iYWNrZ3JvdW5kLWhvdmVyKTtcbiAgY29sb3I6IHZhcigtLWNhbmNlbC1mb3JlZ3JvdW5kLWhvdmVyKTtcbn1cbi5idG4tLWRlZmF1bHQ6Zm9jdXMtdmlzaWJsZSB7XG4gIG91dGxpbmU6IDFweCBhdXRvIHZhcigtLWNhbmNlbC1vdXRsaW5lLWZvY3VzKTtcbn1cblxuLnN1Y2Nlc3MtbWVzc2FnZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQpO1xuICBib3JkZXI6IHZhcigtLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICBib3gtc2hhZG93OiB2YXIoLS1ib3gtc2hhZG93KTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6IHZhcigtLXN1Y2Nlc3MpO1xuICBwYWRkaW5nOiAxMnB4IDI0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyNXB4O1xuICBkaXNwbGF5OiBncmlkO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBncmlkLWF1dG8tZmxvdzogY29sdW1uO1xuICBnYXA6IDZweDtcbiAgY3Vyc29yOiBkZWZhdWx0O1xufVxuXG4uc3VjY2Vzcy1pY29uIHBhdGgge1xuICBmaWxsOiB2YXIoLS1zdWNjZXNzKTtcbn1cbmA7XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBnZXRUaGVtZWRDc3NWYXJpYWJsZXModGhlbWUpIHtcbiAgcmV0dXJuIGBcbiAgLS1iYWNrZ3JvdW5kOiAke3RoZW1lLmJhY2tncm91bmR9O1xuICAtLWJhY2tncm91bmQtaG92ZXI6ICR7dGhlbWUuYmFja2dyb3VuZEhvdmVyfTtcbiAgLS1mb3JlZ3JvdW5kOiAke3RoZW1lLmZvcmVncm91bmR9O1xuICAtLWVycm9yOiAke3RoZW1lLmVycm9yfTtcbiAgLS1zdWNjZXNzOiAke3RoZW1lLnN1Y2Nlc3N9O1xuICAtLWJvcmRlcjogJHt0aGVtZS5ib3JkZXJ9O1xuICAtLWJvcmRlci1yYWRpdXM6ICR7dGhlbWUuYm9yZGVyUmFkaXVzfTtcbiAgLS1ib3gtc2hhZG93OiAke3RoZW1lLmJveFNoYWRvd307XG5cbiAgLS1zdWJtaXQtYmFja2dyb3VuZDogJHt0aGVtZS5zdWJtaXRCYWNrZ3JvdW5kfTtcbiAgLS1zdWJtaXQtYmFja2dyb3VuZC1ob3ZlcjogJHt0aGVtZS5zdWJtaXRCYWNrZ3JvdW5kSG92ZXJ9O1xuICAtLXN1Ym1pdC1ib3JkZXI6ICR7dGhlbWUuc3VibWl0Qm9yZGVyfTtcbiAgLS1zdWJtaXQtb3V0bGluZS1mb2N1czogJHt0aGVtZS5zdWJtaXRPdXRsaW5lRm9jdXN9O1xuICAtLXN1Ym1pdC1mb3JlZ3JvdW5kOiAke3RoZW1lLnN1Ym1pdEZvcmVncm91bmR9O1xuICAtLXN1Ym1pdC1mb3JlZ3JvdW5kLWhvdmVyOiAke3RoZW1lLnN1Ym1pdEZvcmVncm91bmRIb3Zlcn07XG5cbiAgLS1jYW5jZWwtYmFja2dyb3VuZDogJHt0aGVtZS5jYW5jZWxCYWNrZ3JvdW5kfTtcbiAgLS1jYW5jZWwtYmFja2dyb3VuZC1ob3ZlcjogJHt0aGVtZS5jYW5jZWxCYWNrZ3JvdW5kSG92ZXJ9O1xuICAtLWNhbmNlbC1ib3JkZXI6ICR7dGhlbWUuY2FuY2VsQm9yZGVyfTtcbiAgLS1jYW5jZWwtb3V0bGluZS1mb2N1czogJHt0aGVtZS5jYW5jZWxPdXRsaW5lRm9jdXN9O1xuICAtLWNhbmNlbC1mb3JlZ3JvdW5kOiAke3RoZW1lLmNhbmNlbEZvcmVncm91bmR9O1xuICAtLWNhbmNlbC1mb3JlZ3JvdW5kLWhvdmVyOiAke3RoZW1lLmNhbmNlbEZvcmVncm91bmRIb3Zlcn07XG5cbiAgLS1pbnB1dC1iYWNrZ3JvdW5kOiAke3RoZW1lLmlucHV0QmFja2dyb3VuZH07XG4gIC0taW5wdXQtZm9yZWdyb3VuZDogJHt0aGVtZS5pbnB1dEZvcmVncm91bmR9O1xuICAtLWlucHV0LWJvcmRlcjogJHt0aGVtZS5pbnB1dEJvcmRlcn07XG4gIC0taW5wdXQtb3V0bGluZS1mb2N1czogJHt0aGVtZS5pbnB1dE91dGxpbmVGb2N1c307XG5cbiAgLS1mb3JtLWJvcmRlci1yYWRpdXM6ICR7dGhlbWUuZm9ybUJvcmRlclJhZGl1c307XG4gIC0tZm9ybS1jb250ZW50LWJvcmRlci1yYWRpdXM6ICR7dGhlbWUuZm9ybUNvbnRlbnRCb3JkZXJSYWRpdXN9O1xuICBgO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgPHN0eWxlPiBlbGVtZW50IGZvciB3aWRnZXQgYWN0b3IgKGJ1dHRvbiB0aGF0IG9wZW5zIHRoZSBkaWFsb2cpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1haW5TdHlsZXMoXG4gIGQsXG4gIGNvbG9yU2NoZW1lLFxuICB0aGVtZXMsXG4pIHtcbiAgY29uc3Qgc3R5bGUgPSBkLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gYFxuOmhvc3Qge1xuICAtLWJvdHRvbTogMXJlbTtcbiAgLS1yaWdodDogMXJlbTtcbiAgLS10b3A6IGF1dG87XG4gIC0tbGVmdDogYXV0bztcbiAgLS16LWluZGV4OiAxMDAwMDA7XG4gIC0tZm9udC1mYW1pbHk6ICR7dGhlbWVzLmxpZ2h0LmZvbnRGYW1pbHl9O1xuICAtLWZvbnQtc2l6ZTogJHt0aGVtZXMubGlnaHQuZm9udFNpemV9O1xuXG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgbGVmdDogdmFyKC0tbGVmdCk7XG4gIHJpZ2h0OiB2YXIoLS1yaWdodCk7XG4gIGJvdHRvbTogdmFyKC0tYm90dG9tKTtcbiAgdG9wOiB2YXIoLS10b3ApO1xuICB6LWluZGV4OiB2YXIoLS16LWluZGV4KTtcblxuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHkpO1xuICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZSk7XG5cbiAgJHtnZXRUaGVtZWRDc3NWYXJpYWJsZXMoY29sb3JTY2hlbWUgPT09ICdkYXJrJyA/IHRoZW1lcy5kYXJrIDogdGhlbWVzLmxpZ2h0KX1cbn1cblxuJHtcbiAgY29sb3JTY2hlbWUgPT09ICdzeXN0ZW0nXG4gICAgPyBgXG5AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XG4gIDpob3N0IHtcbiAgICAke2dldFRoZW1lZENzc1ZhcmlhYmxlcyh0aGVtZXMuZGFyayl9XG4gIH1cbn1gXG4gICAgOiAnJ1xufVxufWA7XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgc2hhZG93IGhvc3RcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2hhZG93SG9zdCh7IGlkLCBjb2xvclNjaGVtZSwgdGhlbWVEYXJrLCB0aGVtZUxpZ2h0IH0pXG5cbiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZG9jID0gV0lORE9XLmRvY3VtZW50O1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBob3N0XG4gICAgY29uc3QgaG9zdCA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBob3N0LmlkID0gaWQ7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHNoYWRvdyByb290XG4gICAgY29uc3Qgc2hhZG93ID0gaG9zdC5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG5cbiAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoY3JlYXRlTWFpblN0eWxlcyhkb2MsIGNvbG9yU2NoZW1lLCB7IGRhcms6IHRoZW1lRGFyaywgbGlnaHQ6IHRoZW1lTGlnaHQgfSkpO1xuICAgIHNoYWRvdy5hcHBlbmRDaGlsZChjcmVhdGVEaWFsb2dTdHlsZXMoZG9jKSk7XG5cbiAgICByZXR1cm4geyBzaGFkb3csIGhvc3QgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFNoYWRvdyBET00gcHJvYmFibHkgbm90IHN1cHBvcnRlZFxuICAgIGxvZ2dlci53YXJuKCdbRmVlZGJhY2tdIEJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzaGFkb3cgRE9NIEFQSScpO1xuICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNoYWRvdyBET00gQVBJLicpO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlcyBVSSBiZWhhdmlvciBvZiBkaWFsb2cgd2hlbiBmZWVkYmFjayBpcyBzdWJtaXR0ZWQsIGNhbGxzXG4gKiBgc2VuZEZlZWRiYWNrYCB0byBzZW5kIGZlZWRiYWNrLlxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVGZWVkYmFja1N1Ym1pdChcbiAgZGlhbG9nLFxuICBmZWVkYmFjayxcbiAgb3B0aW9ucyxcbikge1xuICBpZiAoIWRpYWxvZykge1xuICAgIC8vIE5vdCBzdXJlIHdoZW4gdGhpcyB3b3VsZCBoYXBwZW5cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzaG93RmV0Y2hFcnJvciA9ICgpID0+IHtcbiAgICBpZiAoIWRpYWxvZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkaWFsb2cuc2hvd0Vycm9yKCdUaGVyZSB3YXMgYSBwcm9ibGVtIHN1Ym1pdHRpbmcgZmVlZGJhY2ssIHBsZWFzZSB3YWl0IGFuZCB0cnkgYWdhaW4uJyk7XG4gIH07XG5cbiAgZGlhbG9nLmhpZGVFcnJvcigpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IHNlbmRGZWVkYmFjayh7IC4uLmZlZWRiYWNrLCBzb3VyY2U6IEZFRURCQUNLX1dJREdFVF9TT1VSQ0UgfSwgb3B0aW9ucyk7XG5cbiAgICAvLyBTdWNjZXNzIVxuICAgIHJldHVybiByZXNwO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgICBzaG93RmV0Y2hFcnJvcigpO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHNldCBhIGRpY3Qgb2YgYXR0cmlidXRlcyBvbiBlbGVtZW50ICh3LyBzcGVjaWZpZWQgbmFtZXNwYWNlKVxuICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzTlMoZWwsIGF0dHJpYnV0ZXMpIHtcbiAgT2JqZWN0LmVudHJpZXMoYXR0cmlidXRlcykuZm9yRWFjaCgoW2tleSwgdmFsXSkgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIGtleSwgdmFsKTtcbiAgfSk7XG4gIHJldHVybiBlbDtcbn1cblxuY29uc3QgU0laRSA9IDIwO1xuY29uc3QgWE1MTlMkMiA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogRmVlZGJhY2sgSWNvblxuICovXG5mdW5jdGlvbiBJY29uKCkge1xuICBjb25zdCBjcmVhdGVFbGVtZW50TlMgPSAodGFnTmFtZSkgPT5cbiAgICBXSU5ET1cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFhNTE5TJDIsIHRhZ05hbWUpO1xuICBjb25zdCBzdmcgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdzdmcnKSwge1xuICAgIGNsYXNzOiAnZmVlZGJhY2staWNvbicsXG4gICAgd2lkdGg6IGAke1NJWkV9YCxcbiAgICBoZWlnaHQ6IGAke1NJWkV9YCxcbiAgICB2aWV3Qm94OiBgMCAwICR7U0laRX0gJHtTSVpFfWAsXG4gICAgZmlsbDogJ25vbmUnLFxuICB9KTtcblxuICBjb25zdCBnID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnZycpLCB7XG4gICAgY2xpcFBhdGg6ICd1cmwoI2NsaXAwXzU3XzgwKScsXG4gIH0pO1xuXG4gIGNvbnN0IHBhdGggPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdwYXRoJyksIHtcbiAgICBbJ2ZpbGwtcnVsZSddOiAnZXZlbm9kZCcsXG4gICAgWydjbGlwLXJ1bGUnXTogJ2V2ZW5vZGQnLFxuICAgIGQ6ICdNMTUuNjYyMiAxNUgxMi4zOTk3QzEyLjIxMjkgMTQuOTk1OSAxMi4wMzEgMTQuOTM5NiAxMS44NzQ3IDE0LjgzNzVMOC4wNDk2NSAxMi4ySDcuNDk5NTZWMTkuMUM3LjQ4NzUgMTkuMzM0OCA3LjM4ODggMTkuNTU2OCA3LjIyMjU2IDE5LjcyM0M3LjA1NjMyIDE5Ljg4OTIgNi44MzQzNSAxOS45ODc5IDYuNTk5NTYgMjBIMi4wNDk1NkMxLjgwMTkzIDE5Ljk5NjggMS41NjUzNSAxOS44OTY5IDEuMzkwMjMgMTkuNzIxOEMxLjIxNTExIDE5LjU0NjcgMS4xMTUzIDE5LjMxMDEgMS4xMTIwNiAxOS4wNjI1VjEyLjJIMC45NDk2NTJDMC44MjQ0MzEgMTIuMjAxNyAwLjcwMDE0MiAxMi4xNzgzIDAuNTg0MTIzIDEyLjEzMTFDMC40NjgxMDQgMTIuMDg0IDAuMzYyNzA4IDEyLjAxNCAwLjI3NDE1NSAxMS45MjU1QzAuMTg1NjAyIDExLjgzNjkgMC4xMTU2ODkgMTEuNzMxNSAwLjA2ODU0MTkgMTEuNjE1NUMwLjAyMTM5NTIgMTEuNDk5NSAtMC4wMDIwMjkxMyAxMS4zNzUyIC0wLjAwMDM0ODA4IDExLjI1VjMuNzVDLTAuMDA5MDA0OTggMy42MjA2NyAwLjAwOTI1MDQgMy40OTA5NSAwLjA1MzI2NTEgMy4zNjkwNEMwLjA5NzI3OTggMy4yNDcxMiAwLjE2NjA5NyAzLjEzNTY2IDAuMjU1MzcyIDMuMDQxNjhDMC4zNDQ2NDYgMi45NDc3MSAwLjQ1MjQzNyAyLjg3MzI3IDAuNTcxOTM3IDIuODIzMDdDMC42OTE0MzcgMi43NzI4NiAwLjgyMDA1IDIuNzQ3OTggMC45NDk2NTIgMi43NUg4LjA0OTY1TDExLjg3NDcgMC4xNjI1QzEyLjAzMSAwLjA2MDM2NDkgMTIuMjEyOSAwLjAwNDA3MjIxIDEyLjM5OTcgMEgxNS42NjIyQzE1LjkwOTggMC4wMDMyMzc0NiAxNi4xNDY0IDAuMTAzMDQ5IDE2LjMyMTUgMC4yNzgxNjdDMTYuNDk2NiAwLjQ1MzI4NiAxNi41OTY0IDAuNjg5ODY2IDE2LjU5OTcgMC45Mzc1VjMuMjUyNjlDMTcuMzk2OSAzLjQyOTU5IDE4LjEzNDUgMy44MzAyNiAxOC43MjExIDQuNDE2NzlDMTkuNTMyMiA1LjIyNzg4IDE5Ljk4NzggNi4zMjc5NiAxOS45ODc4IDcuNDc1MDJDMTkuOTg3OCA4LjYyMjA5IDE5LjUzMjIgOS43MjIxNyAxOC43MjExIDEwLjUzMzNDMTguMTM0NSAxMS4xMTk4IDE3LjM5NjkgMTEuNTIwNSAxNi41OTk3IDExLjY5NzRWMTQuMDEyNUMxNi42MDQ3IDE0LjEzOTMgMTYuNTg0MiAxNC4yNjU5IDE2LjUzOTUgMTQuMzg0N0MxNi40OTQ4IDE0LjUwMzUgMTYuNDI2OCAxNC42MTIxIDE2LjMzOTQgMTQuNzA0MkMxNi4yNTIgMTQuNzk2MiAxNi4xNDcgMTQuODY5OCAxNi4wMzA3IDE0LjkyMDZDMTUuOTE0NCAxNC45NzE0IDE1Ljc4OTEgMTQuOTk4NCAxNS42NjIyIDE1Wk0xLjg5Njk1IDEwLjMyNUgxLjg4NzE1VjQuNjI1SDguMzM3MTVDOC41MjQyMyA0LjYyMzAxIDguNzA2NjYgNC41NjY1NCA4Ljg2MjE1IDQuNDYyNUwxMi42ODcyIDEuODc1SDE0LjcyNDdWMTMuMTI1SDEyLjY4NzJMOC44NjIxNSAxMC40ODc1QzguNzA2NjYgMTAuMzgzNSA4LjUyNDIzIDEwLjMyNyA4LjMzNzE1IDEwLjMyNUgyLjIwMjE3QzIuMTUyMDUgMTAuMzE2NyAyLjEwMTAyIDEwLjMxMjUgMi4wNDk1NiAxMC4zMTI1QzEuOTk4MSAxMC4zMTI1IDEuOTQ3MDggMTAuMzE2NyAxLjg5Njk1IDEwLjMyNVpNMi45ODcwNiAxMi4yVjE4LjE2MjVINS42NjIwNlYxMi4ySDIuOTg3MDZaTTE2LjU5OTcgOS45MzYxMlY1LjAxMzkzQzE2LjY1MzYgNS4wMjM1NSAxNi43MDcyIDUuMDM0OTUgMTYuNzYwNSA1LjA0ODE0QzE3LjEyMDIgNS4xMzcwOSAxNy40NTU2IDUuMzA0ODcgMTcuNzQyNSA1LjUzOTM0QzE4LjAyOTMgNS43NzM4MSAxOC4yNjA1IDYuMDY5MTIgMTguNDE5MiA2LjQwMzg5QzE4LjU3OCA2LjczODY2IDE4LjY2MDMgNy4xMDQ1MiAxOC42NjAzIDcuNDc1MDJDMTguNjYwMyA3Ljg0NTUyIDE4LjU3OCA4LjIxMTM5IDE4LjQxOTIgOC41NDYxNkMxOC4yNjA1IDguODgwOTMgMTguMDI5MyA5LjE3NjI0IDE3Ljc0MjUgOS40MTA3MUMxNy40NTU2IDkuNjQ1MTggMTcuMTIwMiA5LjgxMjk2IDE2Ljc2MDUgOS45MDE5MUMxNi43MDcyIDkuOTE1MDkgMTYuNjUzNiA5LjkyNjUgMTYuNTk5NyA5LjkzNjEyWicsXG4gIH0pO1xuICBzdmcuYXBwZW5kQ2hpbGQoZykuYXBwZW5kQ2hpbGQocGF0aCk7XG5cbiAgY29uc3Qgc3BlYWtlckRlZnMgPSBjcmVhdGVFbGVtZW50TlMoJ2RlZnMnKTtcbiAgY29uc3Qgc3BlYWtlckNsaXBQYXRoRGVmID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnY2xpcFBhdGgnKSwge1xuICAgIGlkOiAnY2xpcDBfNTdfODAnLFxuICB9KTtcblxuICBjb25zdCBzcGVha2VyUmVjdCA9IHNldEF0dHJpYnV0ZXNOUyhjcmVhdGVFbGVtZW50TlMoJ3JlY3QnKSwge1xuICAgIHdpZHRoOiBgJHtTSVpFfWAsXG4gICAgaGVpZ2h0OiBgJHtTSVpFfWAsXG4gICAgZmlsbDogJ3doaXRlJyxcbiAgfSk7XG5cbiAgc3BlYWtlckNsaXBQYXRoRGVmLmFwcGVuZENoaWxkKHNwZWFrZXJSZWN0KTtcbiAgc3BlYWtlckRlZnMuYXBwZW5kQ2hpbGQoc3BlYWtlckNsaXBQYXRoRGVmKTtcblxuICBzdmcuYXBwZW5kQ2hpbGQoc3BlYWtlckRlZnMpLmFwcGVuZENoaWxkKHNwZWFrZXJDbGlwUGF0aERlZikuYXBwZW5kQ2hpbGQoc3BlYWtlclJlY3QpO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0IGVsKCkge1xuICAgICAgcmV0dXJuIHN2ZztcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYW4gZWxlbWVudC4gQ291bGQgYmUgdXNlZCBhcyBhIEpTWCBmYWN0b3J5XG4gKiAoaS5lLiBSZWFjdC1saWtlIHN5bnRheCkuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoXG4gIHRhZ05hbWUsXG4gIGF0dHJpYnV0ZXMsXG4gIC4uLmNoaWxkcmVuXG4pIHtcbiAgY29uc3QgZG9jID0gV0lORE9XLmRvY3VtZW50O1xuICBjb25zdCBlbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG5cbiAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChbYXR0cmlidXRlLCBhdHRyaWJ1dGVWYWx1ZV0pID0+IHtcbiAgICAgIGlmIChhdHRyaWJ1dGUgPT09ICdjbGFzc05hbWUnICYmIHR5cGVvZiBhdHRyaWJ1dGVWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSlNYIGRvZXMgbm90IGFsbG93IGNsYXNzIGFzIGEgdmFsaWQgbmFtZVxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhdHRyaWJ1dGVWYWx1ZSA9PT0gJ2Jvb2xlYW4nICYmIGF0dHJpYnV0ZVZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgJycpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXR0cmlidXRlVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUuc3RhcnRzV2l0aCgnb24nKSAmJiB0eXBlb2YgYXR0cmlidXRlVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGF0dHJpYnV0ZS5zdWJzdHJpbmcoMikudG9Mb3dlckNhc2UoKSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICBhcHBlbmRDaGlsZChlbGVtZW50LCBjaGlsZCk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gYXBwZW5kQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICBjb25zdCBkb2MgPSBXSU5ET1cuZG9jdW1lbnQ7XG4gIGlmICh0eXBlb2YgY2hpbGQgPT09ICd1bmRlZmluZWQnIHx8IGNoaWxkID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiBjaGlsZCkge1xuICAgICAgYXBwZW5kQ2hpbGQocGFyZW50LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkID09PSBmYWxzZSkgOyBlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShjaGlsZCkpO1xuICB9IGVsc2UgaWYgKGNoaWxkIGluc3RhbmNlb2YgTm9kZSkge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY2hpbGQpKSk7XG4gIH1cbn1cblxuLyoqXG4gKlxuICovXG5mdW5jdGlvbiBBY3Rvcih7IGJ1dHRvbkxhYmVsLCBvbkNsaWNrIH0pIHtcbiAgZnVuY3Rpb24gX2hhbmRsZUNsaWNrKGUpIHtcbiAgICBvbkNsaWNrICYmIG9uQ2xpY2soZSk7XG4gIH1cblxuICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoXG4gICAgJ2J1dHRvbicsXG4gICAge1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICBjbGFzc05hbWU6ICd3aWRnZXRfX2FjdG9yJyxcbiAgICAgIFsnYXJpYS1sYWJlbCddOiBidXR0b25MYWJlbCxcbiAgICAgIFsnYXJpYS1oaWRkZW4nXTogJ2ZhbHNlJyxcbiAgICB9LFxuICAgIEljb24oKS5lbCxcbiAgICBidXR0b25MYWJlbFxuICAgICAgPyBjcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICd3aWRnZXRfX2FjdG9yX190ZXh0JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJ1dHRvbkxhYmVsLFxuICAgICAgICApXG4gICAgICA6IG51bGwsXG4gICk7XG5cbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfaGFuZGxlQ2xpY2spO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0IGVsKCkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgc2hvdzogKCkgPT4ge1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnd2lkZ2V0X19hY3Rvci0taGlkZGVuJyk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgfSxcbiAgICBoaWRlOiAoKSA9PiB7XG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCd3aWRnZXRfX2FjdG9yLS1oaWRkZW4nKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH0sXG4gIH07XG59XG5cbi8qKlxuICpcbiAqL1xuZnVuY3Rpb24gU3VibWl0QnV0dG9uKHsgbGFiZWwgfSkge1xuICBjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoXG4gICAgJ2J1dHRvbicsXG4gICAge1xuICAgICAgdHlwZTogJ3N1Ym1pdCcsXG4gICAgICBjbGFzc05hbWU6ICdidG4gYnRuLS1wcmltYXJ5JyxcbiAgICAgIFsnYXJpYS1sYWJlbCddOiBsYWJlbCxcbiAgICB9LFxuICAgIGxhYmVsLFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgZWwsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlU3RyaW5nVmFsdWUoZm9ybURhdGEsIGtleSkge1xuICBjb25zdCB2YWx1ZSA9IGZvcm1EYXRhLmdldChrZXkpO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgdGhlIGZvcm0gZWxlbWVudFxuICovXG5mdW5jdGlvbiBGb3JtKHtcbiAgbmFtZUxhYmVsLFxuICBuYW1lUGxhY2Vob2xkZXIsXG4gIGVtYWlsTGFiZWwsXG4gIGVtYWlsUGxhY2Vob2xkZXIsXG4gIG1lc3NhZ2VMYWJlbCxcbiAgbWVzc2FnZVBsYWNlaG9sZGVyLFxuICBpc1JlcXVpcmVkTGFiZWwsXG4gIGNhbmNlbEJ1dHRvbkxhYmVsLFxuICBzdWJtaXRCdXR0b25MYWJlbCxcblxuICBzaG93TmFtZSxcbiAgc2hvd0VtYWlsLFxuICBpc05hbWVSZXF1aXJlZCxcbiAgaXNFbWFpbFJlcXVpcmVkLFxuXG4gIGRlZmF1bHROYW1lLFxuICBkZWZhdWx0RW1haWwsXG4gIG9uQ2FuY2VsLFxuICBvblN1Ym1pdCxcbn0pIHtcbiAgY29uc3QgeyBlbDogc3VibWl0RWwgfSA9IFN1Ym1pdEJ1dHRvbih7XG4gICAgbGFiZWw6IHN1Ym1pdEJ1dHRvbkxhYmVsLFxuICB9KTtcblxuICBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICghKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAob25TdWJtaXQpIHtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZS50YXJnZXQgKTtcbiAgICAgICAgY29uc3QgZmVlZGJhY2sgPSB7XG4gICAgICAgICAgbmFtZTogcmV0cmlldmVTdHJpbmdWYWx1ZShmb3JtRGF0YSwgJ25hbWUnKSxcbiAgICAgICAgICBlbWFpbDogcmV0cmlldmVTdHJpbmdWYWx1ZShmb3JtRGF0YSwgJ2VtYWlsJyksXG4gICAgICAgICAgbWVzc2FnZTogcmV0cmlldmVTdHJpbmdWYWx1ZShmb3JtRGF0YSwgJ21lc3NhZ2UnKSxcbiAgICAgICAgfTtcblxuICAgICAgICBvblN1Ym1pdChmZWVkYmFjayk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgIC8vIHBhc3NcbiAgICB9XG4gIH1cblxuICBjb25zdCBlcnJvckVsID0gY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgIGNsYXNzTmFtZTogJ2Zvcm1fX2Vycm9yLWNvbnRhaW5lciBmb3JtX19lcnJvci1jb250YWluZXItLWhpZGRlbicsXG4gICAgWydhcmlhLWhpZGRlbiddOiAndHJ1ZScsXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlKSB7XG4gICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgZXJyb3JFbC5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtX19lcnJvci1jb250YWluZXItLWhpZGRlbicpO1xuICAgIGVycm9yRWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlkZUVycm9yKCkge1xuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSAnJztcbiAgICBlcnJvckVsLmNsYXNzTGlzdC5hZGQoJ2Zvcm1fX2Vycm9yLWNvbnRhaW5lci0taGlkZGVuJyk7XG4gICAgZXJyb3JFbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgfVxuXG4gIGNvbnN0IG5hbWVFbCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgIGlkOiAnbmFtZScsXG4gICAgdHlwZTogc2hvd05hbWUgPyAndGV4dCcgOiAnaGlkZGVuJyxcbiAgICBbJ2FyaWEtaGlkZGVuJ106IHNob3dOYW1lID8gJ2ZhbHNlJyA6ICd0cnVlJyxcbiAgICBuYW1lOiAnbmFtZScsXG4gICAgcmVxdWlyZWQ6IGlzTmFtZVJlcXVpcmVkLFxuICAgIGNsYXNzTmFtZTogJ2Zvcm1fX2lucHV0JyxcbiAgICBwbGFjZWhvbGRlcjogbmFtZVBsYWNlaG9sZGVyLFxuICAgIHZhbHVlOiBkZWZhdWx0TmFtZSxcbiAgfSk7XG5cbiAgY29uc3QgZW1haWxFbCA9IGNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgIGlkOiAnZW1haWwnLFxuICAgIHR5cGU6IHNob3dFbWFpbCA/ICd0ZXh0JyA6ICdoaWRkZW4nLFxuICAgIFsnYXJpYS1oaWRkZW4nXTogc2hvd0VtYWlsID8gJ2ZhbHNlJyA6ICd0cnVlJyxcbiAgICBuYW1lOiAnZW1haWwnLFxuICAgIHJlcXVpcmVkOiBpc0VtYWlsUmVxdWlyZWQsXG4gICAgY2xhc3NOYW1lOiAnZm9ybV9faW5wdXQnLFxuICAgIHBsYWNlaG9sZGVyOiBlbWFpbFBsYWNlaG9sZGVyLFxuICAgIHZhbHVlOiBkZWZhdWx0RW1haWwsXG4gIH0pO1xuXG4gIGNvbnN0IG1lc3NhZ2VFbCA9IGNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJywge1xuICAgIGlkOiAnbWVzc2FnZScsXG4gICAgYXV0b0ZvY3VzOiAndHJ1ZScsXG4gICAgcm93czogJzUnLFxuICAgIG5hbWU6ICdtZXNzYWdlJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjbGFzc05hbWU6ICdmb3JtX19pbnB1dCBmb3JtX19pbnB1dC0tdGV4dGFyZWEnLFxuICAgIHBsYWNlaG9sZGVyOiBtZXNzYWdlUGxhY2Vob2xkZXIsXG4gIH0pO1xuXG4gIGNvbnN0IGNhbmNlbEVsID0gY3JlYXRlRWxlbWVudChcbiAgICAnYnV0dG9uJyxcbiAgICB7XG4gICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgIGNsYXNzTmFtZTogJ2J0biBidG4tLWRlZmF1bHQnLFxuICAgICAgWydhcmlhLWxhYmVsJ106IGNhbmNlbEJ1dHRvbkxhYmVsLFxuICAgICAgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgb25DYW5jZWwgJiYgb25DYW5jZWwoZSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgY2FuY2VsQnV0dG9uTGFiZWwsXG4gICk7XG5cbiAgY29uc3QgZm9ybUVsID0gY3JlYXRlRWxlbWVudChcbiAgICAnZm9ybScsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiAnZm9ybScsXG4gICAgICBvblN1Ym1pdDogaGFuZGxlU3VibWl0LFxuICAgIH0sXG4gICAgW1xuICAgICAgZXJyb3JFbCxcblxuICAgICAgc2hvd05hbWUgJiZcbiAgICAgICAgY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGh0bWxGb3I6ICduYW1lJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm1fX2xhYmVsJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtX19sYWJlbF9fdGV4dCcgfSxcbiAgICAgICAgICAgICAgbmFtZUxhYmVsLFxuICAgICAgICAgICAgICBpc05hbWVSZXF1aXJlZCAmJlxuICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2Zvcm1fX2xhYmVsX190ZXh0LS1yZXF1aXJlZCcgfSwgYCAke2lzUmVxdWlyZWRMYWJlbH1gKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBuYW1lRWwsXG4gICAgICAgICAgXSxcbiAgICAgICAgKSxcbiAgICAgICFzaG93TmFtZSAmJiBuYW1lRWwsXG5cbiAgICAgIHNob3dFbWFpbCAmJlxuICAgICAgICBjcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaHRtbEZvcjogJ2VtYWlsJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm1fX2xhYmVsJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtX19sYWJlbF9fdGV4dCcgfSxcbiAgICAgICAgICAgICAgZW1haWxMYWJlbCxcbiAgICAgICAgICAgICAgaXNFbWFpbFJlcXVpcmVkICYmXG4gICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZm9ybV9fbGFiZWxfX3RleHQtLXJlcXVpcmVkJyB9LCBgICR7aXNSZXF1aXJlZExhYmVsfWApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGVtYWlsRWwsXG4gICAgICAgICAgXSxcbiAgICAgICAgKSxcbiAgICAgICFzaG93RW1haWwgJiYgZW1haWxFbCxcblxuICAgICAgY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAge1xuICAgICAgICAgIGh0bWxGb3I6ICdtZXNzYWdlJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdmb3JtX19sYWJlbCcsXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBjcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdmb3JtX19sYWJlbF9fdGV4dCcgfSxcbiAgICAgICAgICAgIG1lc3NhZ2VMYWJlbCxcbiAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2Zvcm1fX2xhYmVsX190ZXh0LS1yZXF1aXJlZCcgfSwgYCAke2lzUmVxdWlyZWRMYWJlbH1gKSxcbiAgICAgICAgICApLFxuICAgICAgICAgIG1lc3NhZ2VFbCxcbiAgICAgICAgXSxcbiAgICAgICksXG5cbiAgICAgIGNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLWdyb3VwJyxcbiAgICAgICAgfSxcbiAgICAgICAgW3N1Ym1pdEVsLCBjYW5jZWxFbF0sXG4gICAgICApLFxuICAgIF0sXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXQgZWwoKSB7XG4gICAgICByZXR1cm4gZm9ybUVsO1xuICAgIH0sXG4gICAgc2hvd0Vycm9yLFxuICAgIGhpZGVFcnJvcixcbiAgfTtcbn1cblxuY29uc3QgWE1MTlMkMSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogU2VudHJ5IExvZ29cbiAqL1xuZnVuY3Rpb24gTG9nbyh7IGNvbG9yU2NoZW1lIH0pIHtcbiAgY29uc3QgY3JlYXRlRWxlbWVudE5TID0gKHRhZ05hbWUpID0+XG4gICAgV0lORE9XLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhYTUxOUyQxLCB0YWdOYW1lKTtcbiAgY29uc3Qgc3ZnID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnc3ZnJyksIHtcbiAgICBjbGFzczogJ3NlbnRyeS1sb2dvJyxcbiAgICB3aWR0aDogJzMyJyxcbiAgICBoZWlnaHQ6ICczMCcsXG4gICAgdmlld0JveDogJzAgMCA3MiA2NicsXG4gICAgZmlsbDogJ25vbmUnLFxuICB9KTtcblxuICBjb25zdCBwYXRoID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygncGF0aCcpLCB7XG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDExLCAxMSknLFxuICAgIGQ6ICdNMjksMi4yNmE0LjY3LDQuNjcsMCwwLDAtOCwwTDE0LjQyLDEzLjUzQTMyLjIxLDMyLjIxLDAsMCwxLDMyLjE3LDQwLjE5SDI3LjU1QTI3LjY4LDI3LjY4LDAsMCwwLDEyLjA5LDE3LjQ3TDYsMjhhMTUuOTIsMTUuOTIsMCwwLDEsOS4yMywxMi4xN0g0LjYyQS43Ni43NiwwLDAsMSw0LDM5LjA2bDIuOTQtNWExMC43NCwxMC43NCwwLDAsMC0zLjM2LTEuOWwtMi45MSw1YTQuNTQsNC41NCwwLDAsMCwxLjY5LDYuMjRBNC42Niw0LjY2LDAsMCwwLDQuNjIsNDRIMTkuMTVhMTkuNCwxOS40LDAsMCwwLTgtMTcuMzFsMi4zMS00QTIzLjg3LDIzLjg3LDAsMCwxLDIzLjc2LDQ0SDM2LjA3YTM1Ljg4LDM1Ljg4LDAsMCwwLTE2LjQxLTMxLjhsNC42Ny04YS43Ny43NywwLDAsMSwxLjA1LS4yN2MuNTMuMjksMjAuMjksMzQuNzcsMjAuNjYsMzUuMTdhLjc2Ljc2LDAsMCwxLS42OCwxLjEzSDQwLjZxLjA5LDEuOTEsMCwzLjgxaDQuNzhBNC41OSw0LjU5LDAsMCwwLDUwLDM5LjQzYTQuNDksNC40OSwwLDAsMC0uNjItMi4yOFonLFxuICB9KTtcbiAgc3ZnLmFwcGVuZChwYXRoKTtcblxuICBjb25zdCBkZWZzID0gY3JlYXRlRWxlbWVudE5TKCdkZWZzJyk7XG4gIGNvbnN0IHN0eWxlID0gY3JlYXRlRWxlbWVudE5TKCdzdHlsZScpO1xuXG4gIHN0eWxlLnRleHRDb250ZW50ID0gYFxuICAgIHBhdGgge1xuICAgICAgZmlsbDogJHtjb2xvclNjaGVtZSA9PT0gJ2RhcmsnID8gJyNmZmYnIDogJyMzNjJkNTknfTtcbiAgICB9YDtcblxuICBpZiAoY29sb3JTY2hlbWUgPT09ICdzeXN0ZW0nKSB7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgKz0gYFxuICAgIEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcbiAgICAgIHBhdGg6IHtcbiAgICAgICAgZmlsbDogJyNmZmYnO1xuICAgICAgfVxuICAgIH1cbiAgICBgO1xuICB9XG5cbiAgZGVmcy5hcHBlbmQoc3R5bGUpO1xuICBzdmcuYXBwZW5kKGRlZnMpO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0IGVsKCkge1xuICAgICAgcmV0dXJuIHN2ZztcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEZlZWRiYWNrIGRpYWxvZyBjb21wb25lbnQgdGhhdCBoYXMgdGhlIGZvcm1cbiAqL1xuZnVuY3Rpb24gRGlhbG9nKHtcbiAgZm9ybVRpdGxlLFxuICBzaG93QnJhbmRpbmcsXG4gIHNob3dOYW1lLFxuICBzaG93RW1haWwsXG4gIGlzTmFtZVJlcXVpcmVkLFxuICBpc0VtYWlsUmVxdWlyZWQsXG4gIGNvbG9yU2NoZW1lLFxuICBkZWZhdWx0TmFtZSxcbiAgZGVmYXVsdEVtYWlsLFxuICBvbkNsb3NlZCxcbiAgb25DYW5jZWwsXG4gIG9uU3VibWl0LFxuICAuLi50ZXh0TGFiZWxzXG59KSB7XG4gIGxldCBlbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgd2hlbiB0aGUgZGlhbG9nIGlzIGNsaWNrZWQuIEluIG91ciBjYXNlLCB0aGUgZGlhbG9nIGlzIHRoZVxuICAgKiBzZW1pLXRyYW5zcGFyZW50IGJnIGJlaGluZCB0aGUgZm9ybS4gV2Ugd2FudCBjbGlja3Mgb3V0c2lkZSBvZiB0aGUgZm9ybSB0b1xuICAgKiBoaWRlIHRoZSBmb3JtLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlRGlhbG9nQ2xpY2soKSB7XG4gICAgY2xvc2UoKTtcblxuICAgIC8vIE9ubHkgdGhpcyBzaG91bGQgdHJpZ2dlciBgb25DbG9zZWAsIHdlIGRvbid0IHdhbnQgdGhlIGBjbG9zZSgpYCBtZXRob2QgdG9cbiAgICAvLyB0cmlnZ2VyIGl0LCBvdGhlcndpc2UgaXQgY2FuIGNhdXNlIGN5Y2xlcy5cbiAgICBvbkNsb3NlZCAmJiBvbkNsb3NlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBkaWFsb2dcbiAgICovXG4gIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIGlmIChlbCkge1xuICAgICAgZWwub3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgZGlhbG9nXG4gICAqL1xuICBmdW5jdGlvbiBvcGVuKCkge1xuICAgIGlmIChlbCkge1xuICAgICAgZWwub3BlbiA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGRpYWxvZyBpcyBjdXJyZW50bHkgb3BlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBjaGVja0lzT3BlbigpIHtcbiAgICByZXR1cm4gKGVsICYmIGVsLm9wZW4gPT09IHRydWUpIHx8IGZhbHNlO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIGVsOiBmb3JtRWwsXG4gICAgc2hvd0Vycm9yLFxuICAgIGhpZGVFcnJvcixcbiAgfSA9IEZvcm0oe1xuICAgIHNob3dFbWFpbCxcbiAgICBzaG93TmFtZSxcbiAgICBpc0VtYWlsUmVxdWlyZWQsXG4gICAgaXNOYW1lUmVxdWlyZWQsXG5cbiAgICBkZWZhdWx0TmFtZSxcbiAgICBkZWZhdWx0RW1haWwsXG4gICAgb25TdWJtaXQsXG4gICAgb25DYW5jZWwsXG4gICAgLi4udGV4dExhYmVscyxcbiAgfSk7XG5cbiAgZWwgPSBjcmVhdGVFbGVtZW50KFxuICAgICdkaWFsb2cnLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogJ2RpYWxvZycsXG4gICAgICBvcGVuOiB0cnVlLFxuICAgICAgb25DbGljazogaGFuZGxlRGlhbG9nQ2xpY2ssXG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogJ2RpYWxvZ19fY29udGVudCcsXG4gICAgICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgICAgIC8vIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24gc28gY2xpY2tzIG9uIGNvbnRlbnQgbW9kYWwgZG8gbm90IHByb3BhZ2F0ZSB0byBkaWFsb2cgKHdoaWNoIHdpbGwgY2xvc2UgZGlhbG9nKVxuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2gyJyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdkaWFsb2dfX2hlYWRlcicgfSxcbiAgICAgICAgZm9ybVRpdGxlLFxuICAgICAgICBzaG93QnJhbmRpbmcgJiZcbiAgICAgICAgICBjcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdicmFuZC1saW5rJyxcbiAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJyxcbiAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vc2VudHJ5LmlvL3dlbGNvbWUvJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdQb3dlcmVkIGJ5IFNlbnRyeScsXG4gICAgICAgICAgICAgIHJlbDogJ25vb3BlbmVyIG5vcmVmZXJyZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIExvZ28oeyBjb2xvclNjaGVtZSB9KS5lbCxcbiAgICAgICAgICApLFxuICAgICAgKSxcbiAgICAgIGZvcm1FbCxcbiAgICApLFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0IGVsKCkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgc2hvd0Vycm9yLFxuICAgIGhpZGVFcnJvcixcbiAgICBvcGVuLFxuICAgIGNsb3NlLFxuICAgIGNoZWNrSXNPcGVuLFxuICB9O1xufVxuXG5jb25zdCBXSURUSCA9IDE2O1xuY29uc3QgSEVJR0hUID0gMTc7XG5jb25zdCBYTUxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogU3VjY2VzcyBJY29uIChjaGVja21hcmspXG4gKi9cbmZ1bmN0aW9uIFN1Y2Nlc3NJY29uKCkge1xuICBjb25zdCBjcmVhdGVFbGVtZW50TlMgPSAodGFnTmFtZSkgPT5cbiAgICBXSU5ET1cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFhNTE5TLCB0YWdOYW1lKTtcbiAgY29uc3Qgc3ZnID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnc3ZnJyksIHtcbiAgICBjbGFzczogJ3N1Y2Nlc3MtaWNvbicsXG4gICAgd2lkdGg6IGAke1dJRFRIfWAsXG4gICAgaGVpZ2h0OiBgJHtIRUlHSFR9YCxcbiAgICB2aWV3Qm94OiBgMCAwICR7V0lEVEh9ICR7SEVJR0hUfWAsXG4gICAgZmlsbDogJ25vbmUnLFxuICB9KTtcblxuICBjb25zdCBnID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnZycpLCB7XG4gICAgY2xpcFBhdGg6ICd1cmwoI2NsaXAwXzU3XzE1NiknLFxuICB9KTtcblxuICBjb25zdCBwYXRoMiA9IHNldEF0dHJpYnV0ZXNOUyhjcmVhdGVFbGVtZW50TlMoJ3BhdGgnKSwge1xuICAgIFsnZmlsbC1ydWxlJ106ICdldmVub2RkJyxcbiAgICBbJ2NsaXAtcnVsZSddOiAnZXZlbm9kZCcsXG4gICAgZDogJ00zLjU1NTQ0IDE1LjE1MThDNC44NzEwMyAxNi4wMzA4IDYuNDE3NzUgMTYuNSA4IDE2LjVDMTAuMTIxNyAxNi41IDEyLjE1NjYgMTUuNjU3MSAxMy42NTY5IDE0LjE1NjlDMTUuMTU3MSAxMi42NTY2IDE2IDEwLjYyMTcgMTYgOC41QzE2IDYuOTE3NzUgMTUuNTMwOCA1LjM3MTAzIDE0LjY1MTggNC4wNTU0NEMxMy43NzI3IDIuNzM5ODUgMTIuNTIzMyAxLjcxNDQ3IDExLjA2MTUgMS4xMDg5N0M5LjU5OTY2IDAuNTAzNDY2IDcuOTkxMTMgMC4zNDUwNCA2LjQzOTI4IDAuNjUzNzIxQzQuODg3NDMgMC45NjI0MDMgMy40NjE5NyAxLjcyNDMzIDIuMzQzMTUgMi44NDMxNUMxLjIyNDMzIDMuOTYxOTcgMC40NjI0MDMgNS4zODc0MyAwLjE1MzcyMSA2LjkzOTI4Qy0wLjE1NDk2IDguNDkxMTMgMC4wMDM0NjYyNSAxMC4wOTk3IDAuNjA4OTY3IDExLjU2MTVDMS4yMTQ0NyAxMy4wMjMzIDIuMjM5ODUgMTQuMjcyNyAzLjU1NTQ0IDE1LjE1MThaTTQuNDA1NDYgMy4xMjA0QzUuNDY5NDUgMi40MDk0NiA2LjcyMDM2IDIuMDMgOCAyLjAzQzkuNzE1OTUgMi4wMyAxMS4zNjE2IDIuNzExNjYgMTIuNTc1IDMuOTI1MDJDMTMuNzg4MyA1LjEzODM4IDE0LjQ3IDYuNzg0MDUgMTQuNDcgOC41QzE0LjQ3IDkuNzc5NjUgMTQuMDkwNSAxMS4wMzA2IDEzLjM3OTYgMTIuMDk0NUMxMi42Njg3IDEzLjE1ODUgMTEuNjU4MiAxMy45ODc4IDEwLjQ3NiAxNC40Nzc1QzkuMjkzNzMgMTQuOTY3MiA3Ljk5MjgzIDE1LjA5NTMgNi43Mzc3NyAxNC44NDU3QzUuNDgyNzEgMTQuNTk2IDQuMzI5ODcgMTMuOTc5OCAzLjQyNTAyIDEzLjA3NUMyLjUyMDE4IDEyLjE3MDEgMS45MDM5NyAxMS4wMTczIDEuNjU0MzIgOS43NjIyNEMxLjQwNDY4IDguNTA3MTggMS41MzI4IDcuMjA2MjggMi4wMjI1IDYuMDI0MDRDMi41MTIyIDQuODQxOCAzLjM0MTQ4IDMuODMxMzMgNC40MDU0NiAzLjEyMDRaJyxcbiAgfSk7XG4gIGNvbnN0IHBhdGggPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdwYXRoJyksIHtcbiAgICBkOiAnTTYuNjg3NzUgMTIuNDI5N0M2Ljc4NTg2IDEyLjQ3NDUgNi44OTIxOCAxMi40OTg0IDcgMTIuNUM3LjExMjc1IDEyLjQ5NTUgNy4yMjMxNSAxMi40NjY0IDcuMzIzMzcgMTIuNDE0NUM3LjQyMzYgMTIuMzYyNyA3LjUxMTIxIDEyLjI4OTQgNy41OCAxMi4yTDEyIDUuNjM5OTlDMTIuMDg0OCA1LjQ3NzI0IDEyLjEwNzEgNS4yODkwMiAxMi4wNjI1IDUuMTEwOThDMTIuMDE3OCA0LjkzMjk0IDExLjkwOTUgNC43Nzc0NCAxMS43NTc5IDQuNjczOTJDMTEuNjA2NCA0LjU3MDQxIDExLjQyMjEgNC41MjYwOCAxMS4yNCA0LjU0OTMxQzExLjA1NzkgNC41NzI1NCAxMC44OTA3IDQuNjYxNzMgMTAuNzcgNC43OTk5OUw2Ljg4IDEwLjU3TDUuMTMgOC41Njk5OUM1LjA2NTA4IDguNDk1NjYgNC45ODYxMyA4LjQzNDg4IDQuODk3NjggOC4zOTExMUM0LjgwOTIyIDguMzQ3MzUgNC43MTMgOC4zMjE0OCA0LjYxNDUzIDguMzE0OThDNC41MTYwNSA4LjMwODQ3IDQuNDE3MjcgOC4zMjE0NyA0LjMyMzgyIDguMzUzMjJDNC4yMzAzOCA4LjM4NDk3IDQuMTQ0MTMgOC40MzQ4NCA0LjA3IDguNDk5OTlDMy45MjUxMSA4LjYzMjE3IDMuODM2OTIgOC44MTUyMyAzLjgyMzg3IDkuMDEwOTJDMy44MTA4MyA5LjIwNjYgMy44NzM5MyA5LjM5OTc2IDQgOS41NDk5OUw2LjQzIDEyLjI0QzYuNTAxODcgMTIuMzIwNCA2LjU4OTY0IDEyLjM4NSA2LjY4Nzc1IDEyLjQyOTdaJyxcbiAgfSk7XG5cbiAgc3ZnLmFwcGVuZENoaWxkKGcpLmFwcGVuZChwYXRoLCBwYXRoMik7XG5cbiAgY29uc3Qgc3BlYWtlckRlZnMgPSBjcmVhdGVFbGVtZW50TlMoJ2RlZnMnKTtcbiAgY29uc3Qgc3BlYWtlckNsaXBQYXRoRGVmID0gc2V0QXR0cmlidXRlc05TKGNyZWF0ZUVsZW1lbnROUygnY2xpcFBhdGgnKSwge1xuICAgIGlkOiAnY2xpcDBfNTdfMTU2JyxcbiAgfSk7XG5cbiAgY29uc3Qgc3BlYWtlclJlY3QgPSBzZXRBdHRyaWJ1dGVzTlMoY3JlYXRlRWxlbWVudE5TKCdyZWN0JyksIHtcbiAgICB3aWR0aDogYCR7V0lEVEh9YCxcbiAgICBoZWlnaHQ6IGAke1dJRFRIfWAsXG4gICAgZmlsbDogJ3doaXRlJyxcbiAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCAwLjUpJyxcbiAgfSk7XG5cbiAgc3BlYWtlckNsaXBQYXRoRGVmLmFwcGVuZENoaWxkKHNwZWFrZXJSZWN0KTtcbiAgc3BlYWtlckRlZnMuYXBwZW5kQ2hpbGQoc3BlYWtlckNsaXBQYXRoRGVmKTtcblxuICBzdmcuYXBwZW5kQ2hpbGQoc3BlYWtlckRlZnMpLmFwcGVuZENoaWxkKHNwZWFrZXJDbGlwUGF0aERlZikuYXBwZW5kQ2hpbGQoc3BlYWtlclJlY3QpO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0IGVsKCkge1xuICAgICAgcmV0dXJuIHN2ZztcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEZlZWRiYWNrIGRpYWxvZyBjb21wb25lbnQgdGhhdCBoYXMgdGhlIGZvcm1cbiAqL1xuZnVuY3Rpb24gU3VjY2Vzc01lc3NhZ2UoeyBtZXNzYWdlLCBvblJlbW92ZSB9KSB7XG4gIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWwucmVtb3ZlKCk7XG4gICAgb25SZW1vdmUgJiYgb25SZW1vdmUoKTtcbiAgfVxuXG4gIGNvbnN0IGVsID0gY3JlYXRlRWxlbWVudChcbiAgICAnZGl2JyxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6ICdzdWNjZXNzLW1lc3NhZ2UnLFxuICAgICAgb25DbGljazogcmVtb3ZlLFxuICAgIH0sXG4gICAgU3VjY2Vzc0ljb24oKS5lbCxcbiAgICBtZXNzYWdlLFxuICApO1xuXG4gIHJldHVybiB7XG4gICAgZWwsXG4gICAgcmVtb3ZlLFxuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgd2lkZ2V0LiBSZXR1cm5zIHB1YmxpYyBtZXRob2RzIHRoYXQgY29udHJvbCB3aWRnZXQgYmVoYXZpb3IuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdpZGdldCh7XG4gIHNoYWRvdyxcbiAgb3B0aW9uczogeyBzaG91bGRDcmVhdGVBY3RvciA9IHRydWUsIC4uLm9wdGlvbnMgfSxcbiAgYXR0YWNoVG8sXG59KSB7XG4gIGxldCBhY3RvcjtcbiAgbGV0IGRpYWxvZztcbiAgbGV0IGlzRGlhbG9nT3BlbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBzdWNjZXNzIG1lc3NhZ2UgZm9yIDUgc2Vjb25kc1xuICAgKi9cbiAgZnVuY3Rpb24gc2hvd1N1Y2Nlc3NNZXNzYWdlKCkge1xuICAgIGlmICghc2hhZG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBTdWNjZXNzTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMuc3VjY2Vzc01lc3NhZ2VUZXh0LFxuICAgICAgICBvblJlbW92ZTogKCkgPT4ge1xuICAgICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaG93QWN0b3IoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXN1Y2Nlc3MuZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2hvdyBzdWNjZXNzIG1lc3NhZ2UnKTtcbiAgICAgIH1cblxuICAgICAgc2hhZG93LmFwcGVuZENoaWxkKHN1Y2Nlc3MuZWwpO1xuXG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICBzdWNjZXNzLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIFRPRE86IGVycm9yIGhhbmRsaW5nXG4gICAgICBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3Igd2hlbiB0aGUgZmVlZGJhY2sgZm9ybSBpcyBjb21wbGV0ZWQgYnkgdGhlIHVzZXIuIFRoaXMgd2lsbFxuICAgKiBjcmVhdGUgYW5kIHNlbmQgdGhlIGZlZWRiYWNrIG1lc3NhZ2UgYXMgYW4gZXZlbnQuXG4gICAqL1xuICBhc3luYyBmdW5jdGlvbiBfaGFuZGxlRmVlZGJhY2tTdWJtaXQoZmVlZGJhY2spIHtcbiAgICBpZiAoIWRpYWxvZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNpbXBsZSB2YWxpZGF0aW9uIGZvciBub3csIGp1c3QgY2hlY2sgZm9yIG5vbi1lbXB0eSByZXF1aXJlZCBmaWVsZHNcbiAgICBjb25zdCBlbXB0eUZpZWxkID0gW107XG4gICAgaWYgKG9wdGlvbnMuaXNOYW1lUmVxdWlyZWQgJiYgIWZlZWRiYWNrLm5hbWUpIHtcbiAgICAgIGVtcHR5RmllbGQucHVzaChvcHRpb25zLm5hbWVMYWJlbCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmlzRW1haWxSZXF1aXJlZCAmJiAhZmVlZGJhY2suZW1haWwpIHtcbiAgICAgIGVtcHR5RmllbGQucHVzaChvcHRpb25zLmVtYWlsTGFiZWwpO1xuICAgIH1cbiAgICBpZiAoIWZlZWRiYWNrLm1lc3NhZ2UpIHtcbiAgICAgIGVtcHR5RmllbGQucHVzaChvcHRpb25zLm1lc3NhZ2VMYWJlbCk7XG4gICAgfVxuICAgIGlmIChlbXB0eUZpZWxkLmxlbmd0aCA+IDApIHtcbiAgICAgIGRpYWxvZy5zaG93RXJyb3IoYFBsZWFzZSBlbnRlciBpbiB0aGUgZm9sbG93aW5nIHJlcXVpcmVkIGZpZWxkczogJHtlbXB0eUZpZWxkLmpvaW4oJywgJyl9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlRmVlZGJhY2tTdWJtaXQoZGlhbG9nLCBmZWVkYmFjayk7XG5cbiAgICAvLyBFcnJvciBzdWJtaXR0aW5nIGZlZWRiYWNrXG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIGlmIChvcHRpb25zLm9uU3VibWl0RXJyb3IpIHtcbiAgICAgICAgb3B0aW9ucy5vblN1Ym1pdEVycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdWNjZXNzXG4gICAgcmVtb3ZlRGlhbG9nKCk7XG4gICAgc2hvd1N1Y2Nlc3NNZXNzYWdlKCk7XG5cbiAgICBpZiAob3B0aW9ucy5vblN1Ym1pdFN1Y2Nlc3MpIHtcbiAgICAgIG9wdGlvbnMub25TdWJtaXRTdWNjZXNzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIGhhbmRsZXIgd2hlbiBkaWFsb2cgaXMgb3BlbmVkXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVPcGVuRGlhbG9nKCkge1xuICAgIC8vIEZsdXNoIHJlcGxheSBpZiBpbnRlZ3JhdGlvbiBleGlzdHNcbiAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnQoKTtcbiAgICBjb25zdCByZXBsYXkgPVxuICAgICAgY2xpZW50ICYmXG4gICAgICBjbGllbnQuZ2V0SW50ZWdyYXRpb25CeU5hbWUgJiZcbiAgICAgIGNsaWVudC5nZXRJbnRlZ3JhdGlvbkJ5TmFtZSgnUmVwbGF5Jyk7XG4gICAgaWYgKCFyZXBsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVwbGF5LmZsdXNoKCkuY2F0Y2goZXJyID0+IHtcbiAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5lcnJvcihlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBkZWZhdWx0IGFjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBzaG93QWN0b3IoKSB7XG4gICAgYWN0b3IgJiYgYWN0b3Iuc2hvdygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBkZWZhdWx0IGFjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlQWN0b3IoKSB7XG4gICAgYWN0b3IgJiYgYWN0b3IuaGlkZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGRlZmF1bHQgYWN0b3IgZWxlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlQWN0b3IoKSB7XG4gICAgYWN0b3IgJiYgYWN0b3IuZWwgJiYgYWN0b3IuZWwucmVtb3ZlKCk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIG9wZW5EaWFsb2coKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChkaWFsb2cpIHtcbiAgICAgICAgZGlhbG9nLm9wZW4oKTtcbiAgICAgICAgaXNEaWFsb2dPcGVuID0gdHJ1ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMub25Gb3JtT3Blbikge1xuICAgICAgICAgIG9wdGlvbnMub25Gb3JtT3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZU9wZW5EaWFsb2coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyS2V5ID0gb3B0aW9ucy51c2VTZW50cnlVc2VyO1xuICAgICAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBzY29wZSAmJiBzY29wZS5nZXRVc2VyKCk7XG5cbiAgICAgIGRpYWxvZyA9IERpYWxvZyh7XG4gICAgICAgIGNvbG9yU2NoZW1lOiBvcHRpb25zLmNvbG9yU2NoZW1lLFxuICAgICAgICBzaG93QnJhbmRpbmc6IG9wdGlvbnMuc2hvd0JyYW5kaW5nLFxuICAgICAgICBzaG93TmFtZTogb3B0aW9ucy5zaG93TmFtZSB8fCBvcHRpb25zLmlzTmFtZVJlcXVpcmVkLFxuICAgICAgICBzaG93RW1haWw6IG9wdGlvbnMuc2hvd0VtYWlsIHx8IG9wdGlvbnMuaXNFbWFpbFJlcXVpcmVkLFxuICAgICAgICBpc05hbWVSZXF1aXJlZDogb3B0aW9ucy5pc05hbWVSZXF1aXJlZCxcbiAgICAgICAgaXNFbWFpbFJlcXVpcmVkOiBvcHRpb25zLmlzRW1haWxSZXF1aXJlZCxcbiAgICAgICAgZm9ybVRpdGxlOiBvcHRpb25zLmZvcm1UaXRsZSxcbiAgICAgICAgY2FuY2VsQnV0dG9uTGFiZWw6IG9wdGlvbnMuY2FuY2VsQnV0dG9uTGFiZWwsXG4gICAgICAgIHN1Ym1pdEJ1dHRvbkxhYmVsOiBvcHRpb25zLnN1Ym1pdEJ1dHRvbkxhYmVsLFxuICAgICAgICBlbWFpbExhYmVsOiBvcHRpb25zLmVtYWlsTGFiZWwsXG4gICAgICAgIGVtYWlsUGxhY2Vob2xkZXI6IG9wdGlvbnMuZW1haWxQbGFjZWhvbGRlcixcbiAgICAgICAgbWVzc2FnZUxhYmVsOiBvcHRpb25zLm1lc3NhZ2VMYWJlbCxcbiAgICAgICAgbWVzc2FnZVBsYWNlaG9sZGVyOiBvcHRpb25zLm1lc3NhZ2VQbGFjZWhvbGRlcixcbiAgICAgICAgbmFtZUxhYmVsOiBvcHRpb25zLm5hbWVMYWJlbCxcbiAgICAgICAgbmFtZVBsYWNlaG9sZGVyOiBvcHRpb25zLm5hbWVQbGFjZWhvbGRlcixcbiAgICAgICAgaXNSZXF1aXJlZExhYmVsOiBvcHRpb25zLmlzUmVxdWlyZWRMYWJlbCxcbiAgICAgICAgZGVmYXVsdE5hbWU6ICh1c2VyS2V5ICYmIHVzZXIgJiYgdXNlclt1c2VyS2V5Lm5hbWVdKSB8fCAnJyxcbiAgICAgICAgZGVmYXVsdEVtYWlsOiAodXNlcktleSAmJiB1c2VyICYmIHVzZXJbdXNlcktleS5lbWFpbF0pIHx8ICcnLFxuICAgICAgICBvbkNsb3NlZDogKCkgPT4ge1xuICAgICAgICAgIHNob3dBY3RvcigpO1xuICAgICAgICAgIGlzRGlhbG9nT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMub25Gb3JtQ2xvc2UpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25Gb3JtQ2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgY2xvc2VEaWFsb2coKTtcbiAgICAgICAgICBzaG93QWN0b3IoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TdWJtaXQ6IF9oYW5kbGVGZWVkYmFja1N1Ym1pdCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWRpYWxvZy5lbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBvcGVuIEZlZWRiYWNrIGRpYWxvZycpO1xuICAgICAgfVxuXG4gICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoZGlhbG9nLmVsKTtcblxuICAgICAgLy8gSGlkZXMgdGhlIGRlZmF1bHQgYWN0b3Igd2hlbmV2ZXIgZGlhbG9nIGlzIG9wZW5lZFxuICAgICAgaGlkZUFjdG9yKCk7XG5cbiAgICAgIGlmIChvcHRpb25zLm9uRm9ybU9wZW4pIHtcbiAgICAgICAgb3B0aW9ucy5vbkZvcm1PcGVuKCk7XG4gICAgICB9XG4gICAgICBoYW5kbGVPcGVuRGlhbG9nKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZz9cbiAgICAgIGxvZ2dlci5lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGRpYWxvZ1xuICAgKi9cbiAgZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7XG4gICAgaWYgKGRpYWxvZykge1xuICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICBpc0RpYWxvZ09wZW4gPSBmYWxzZTtcblxuICAgICAgaWYgKG9wdGlvbnMub25Gb3JtQ2xvc2UpIHtcbiAgICAgICAgb3B0aW9ucy5vbkZvcm1DbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBkaWFsb2cgZWxlbWVudCBmcm9tIERPTVxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlRGlhbG9nKCkge1xuICAgIGlmIChkaWFsb2cpIHtcbiAgICAgIGNsb3NlRGlhbG9nKCk7XG4gICAgICBjb25zdCBkaWFsb2dFbCA9IGRpYWxvZy5lbDtcbiAgICAgIGRpYWxvZ0VsICYmIGRpYWxvZ0VsLnJlbW92ZSgpO1xuICAgICAgZGlhbG9nID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlQWN0b3JDbGljaygpIHtcbiAgICAvLyBPcGVuIGRpYWxvZ1xuICAgIGlmICghaXNEaWFsb2dPcGVuKSB7XG4gICAgICBvcGVuRGlhbG9nKCk7XG4gICAgfVxuXG4gICAgLy8gSGlkZSBhY3RvciBidXR0b25cbiAgICBoaWRlQWN0b3IoKTtcbiAgfVxuXG4gIGlmIChhdHRhY2hUbykge1xuICAgIGF0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQWN0b3JDbGljayk7XG4gIH0gZWxzZSBpZiAoc2hvdWxkQ3JlYXRlQWN0b3IpIHtcbiAgICBhY3RvciA9IEFjdG9yKHsgYnV0dG9uTGFiZWw6IG9wdGlvbnMuYnV0dG9uTGFiZWwsIG9uQ2xpY2s6IGhhbmRsZUFjdG9yQ2xpY2sgfSk7XG4gICAgYWN0b3IuZWwgJiYgc2hhZG93LmFwcGVuZENoaWxkKGFjdG9yLmVsKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0IGFjdG9yKCkge1xuICAgICAgcmV0dXJuIGFjdG9yO1xuICAgIH0sXG4gICAgZ2V0IGRpYWxvZygpIHtcbiAgICAgIHJldHVybiBkaWFsb2c7XG4gICAgfSxcblxuICAgIHNob3dBY3RvcixcbiAgICBoaWRlQWN0b3IsXG4gICAgcmVtb3ZlQWN0b3IsXG5cbiAgICBvcGVuRGlhbG9nLFxuICAgIGNsb3NlRGlhbG9nLFxuICAgIHJlbW92ZURpYWxvZyxcbiAgfTtcbn1cblxuY29uc3QgZG9jID0gV0lORE9XLmRvY3VtZW50O1xuXG5jb25zdCBmZWVkYmFja0ludGVncmF0aW9uID0gKChvcHRpb25zKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICByZXR1cm4gbmV3IEZlZWRiYWNrKG9wdGlvbnMpO1xufSkgO1xuXG4vKipcbiAqIEZlZWRiYWNrIGludGVncmF0aW9uLiBXaGVuIGFkZGVkIGFzIGFuIGludGVncmF0aW9uIHRvIHRoZSBTREssIGl0IHdpbGxcbiAqIGluamVjdCBhIGJ1dHRvbiBpbiB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBvZiB0aGUgd2luZG93IHRoYXQgb3BlbnMgYVxuICogZmVlZGJhY2sgbW9kYWwgd2hlbiBjbGlja2VkLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgZmVlZGJhY2tJbnRlZ3JhdGlvbigpYCBpbnN0ZWFkLlxuICovXG5jbGFzcyBGZWVkYmFjayAge1xuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMuaWQgPSAnRmVlZGJhY2snO31cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG5cbiAgLyoqXG4gICAqIEZlZWRiYWNrIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKi9cblxuICAvKipcbiAgICogUmVmZXJlbmNlIHRvIHdpZGdldCBlbGVtZW50IHRoYXQgaXMgY3JlYXRlZCB3aGVuIGF1dG9JbmplY3QgaXMgdHJ1ZVxuICAgKi9cblxuICAvKipcbiAgICogTGlzdCBvZiBhbGwgd2lkZ2V0cyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdGhlIGludGVncmF0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIGhvc3QgZWxlbWVudCB3aGVyZSB3aWRnZXQgaXMgaW5zZXJ0ZWRcbiAgICovXG5cbiAgLyoqXG4gICAqIFJlZmVybmNlIHRvIFNoYWRvdyBET00gcm9vdFxuICAgKi9cblxuICAvKipcbiAgICogVHJhY2tzIGlmIGFjdG9yIHN0eWxlcyBoYXZlIGV2ZXIgYmVlbiBpbnNlcnRlZCBpbnRvIHNoYWRvdyBET01cbiAgICovXG5cbiAgIGNvbnN0cnVjdG9yKHtcbiAgICBhdXRvSW5qZWN0ID0gdHJ1ZSxcbiAgICBpZCA9ICdzZW50cnktZmVlZGJhY2snLFxuICAgIGlzRW1haWxSZXF1aXJlZCA9IGZhbHNlLFxuICAgIGlzTmFtZVJlcXVpcmVkID0gZmFsc2UsXG4gICAgc2hvd0JyYW5kaW5nID0gdHJ1ZSxcbiAgICBzaG93RW1haWwgPSB0cnVlLFxuICAgIHNob3dOYW1lID0gdHJ1ZSxcbiAgICB1c2VTZW50cnlVc2VyID0ge1xuICAgICAgZW1haWw6ICdlbWFpbCcsXG4gICAgICBuYW1lOiAndXNlcm5hbWUnLFxuICAgIH0sXG5cbiAgICB0aGVtZURhcmssXG4gICAgdGhlbWVMaWdodCxcbiAgICBjb2xvclNjaGVtZSA9ICdzeXN0ZW0nLFxuXG4gICAgYnV0dG9uTGFiZWwgPSBBQ1RPUl9MQUJFTCxcbiAgICBjYW5jZWxCdXR0b25MYWJlbCA9IENBTkNFTF9CVVRUT05fTEFCRUwsXG4gICAgc3VibWl0QnV0dG9uTGFiZWwgPSBTVUJNSVRfQlVUVE9OX0xBQkVMLFxuICAgIGZvcm1UaXRsZSA9IEZPUk1fVElUTEUsXG4gICAgZW1haWxQbGFjZWhvbGRlciA9IEVNQUlMX1BMQUNFSE9MREVSLFxuICAgIGVtYWlsTGFiZWwgPSBFTUFJTF9MQUJFTCxcbiAgICBtZXNzYWdlUGxhY2Vob2xkZXIgPSBNRVNTQUdFX1BMQUNFSE9MREVSLFxuICAgIG1lc3NhZ2VMYWJlbCA9IE1FU1NBR0VfTEFCRUwsXG4gICAgbmFtZVBsYWNlaG9sZGVyID0gTkFNRV9QTEFDRUhPTERFUixcbiAgICBuYW1lTGFiZWwgPSBOQU1FX0xBQkVMLFxuICAgIGlzUmVxdWlyZWRMYWJlbCA9IElTX1JFUVVJUkVEX0xBQkVMLFxuICAgIHN1Y2Nlc3NNZXNzYWdlVGV4dCA9IFNVQ0NFU1NfTUVTU0FHRV9URVhULFxuXG4gICAgb25Gb3JtQ2xvc2UsXG4gICAgb25Gb3JtT3BlbixcbiAgICBvblN1Ym1pdEVycm9yLFxuICAgIG9uU3VibWl0U3VjY2VzcyxcbiAgfSA9IHt9KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgdGhpcy5uYW1lID0gRmVlZGJhY2suaWQ7XG5cbiAgICAvLyB0c2MgZmFpbHMgaWYgdGhlc2UgYXJlIG5vdCBpbml0aWFsaXplZCBleHBsaWNpdGx5IGNvbnN0cnVjdG9yLCBlLmcuIGNhbid0IGNhbGwgYF9pbml0aWFsaXplKClgXG4gICAgdGhpcy5faG9zdCA9IG51bGw7XG4gICAgdGhpcy5fc2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLl93aWRnZXQgPSBudWxsO1xuICAgIHRoaXMuX3dpZGdldHMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5faGFzSW5zZXJ0ZWRBY3RvclN0eWxlcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgYXV0b0luamVjdCxcbiAgICAgIHNob3dCcmFuZGluZyxcbiAgICAgIGlkLFxuICAgICAgaXNFbWFpbFJlcXVpcmVkLFxuICAgICAgaXNOYW1lUmVxdWlyZWQsXG4gICAgICBzaG93RW1haWwsXG4gICAgICBzaG93TmFtZSxcbiAgICAgIHVzZVNlbnRyeVVzZXIsXG5cbiAgICAgIGNvbG9yU2NoZW1lLFxuICAgICAgdGhlbWVEYXJrOiB7XG4gICAgICAgIC4uLkRFRkFVTFRfVEhFTUUuZGFyayxcbiAgICAgICAgLi4udGhlbWVEYXJrLFxuICAgICAgfSxcbiAgICAgIHRoZW1lTGlnaHQ6IHtcbiAgICAgICAgLi4uREVGQVVMVF9USEVNRS5saWdodCxcbiAgICAgICAgLi4udGhlbWVMaWdodCxcbiAgICAgIH0sXG5cbiAgICAgIGJ1dHRvbkxhYmVsLFxuICAgICAgY2FuY2VsQnV0dG9uTGFiZWwsXG4gICAgICBzdWJtaXRCdXR0b25MYWJlbCxcbiAgICAgIGZvcm1UaXRsZSxcbiAgICAgIGVtYWlsTGFiZWwsXG4gICAgICBlbWFpbFBsYWNlaG9sZGVyLFxuICAgICAgbWVzc2FnZUxhYmVsLFxuICAgICAgbWVzc2FnZVBsYWNlaG9sZGVyLFxuICAgICAgbmFtZUxhYmVsLFxuICAgICAgbmFtZVBsYWNlaG9sZGVyLFxuICAgICAgaXNSZXF1aXJlZExhYmVsLFxuICAgICAgc3VjY2Vzc01lc3NhZ2VUZXh0LFxuXG4gICAgICBvbkZvcm1DbG9zZSxcbiAgICAgIG9uRm9ybU9wZW4sXG4gICAgICBvblN1Ym1pdEVycm9yLFxuICAgICAgb25TdWJtaXRTdWNjZXNzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgYW5kIGluaXRpYWxpemUgZmVlZGJhY2sgY29udGFpbmVyXG4gICAqL1xuICAgc2V0dXBPbmNlKCkge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fY2xlYW51cFdpZGdldElmRXhpc3RzKCk7XG5cbiAgICAgIGNvbnN0IHsgYXV0b0luamVjdCB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICBpZiAoIWF1dG9JbmplY3QpIHtcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY3JlYXRlV2lkZ2V0KHRoaXMub3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIHVzZXIgdG8gb3BlbiB0aGUgZGlhbG9nIGJveC4gQ3JlYXRlcyBhIG5ldyB3aWRnZXQgaWZcbiAgICogYGF1dG9JbmplY3RgIHdhcyBmYWxzZSwgb3RoZXJ3aXNlIHJlLXVzZXMgdGhlIGRlZmF1bHQgd2lkZ2V0IHRoYXQgd2FzXG4gICAqIGNyZWF0ZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uIG9mIHRoZSBpbnRlZ3JhdGlvbi5cbiAgICovXG4gICBvcGVuRGlhbG9nKCkge1xuICAgIGlmICghdGhpcy5fd2lkZ2V0KSB7XG4gICAgICB0aGlzLl9jcmVhdGVXaWRnZXQoeyAuLi50aGlzLm9wdGlvbnMsIHNob3VsZENyZWF0ZUFjdG9yOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3dpZGdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3dpZGdldC5vcGVuRGlhbG9nKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBkaWFsb2cgZm9yIHRoZSBkZWZhdWx0IHdpZGdldCwgaWYgaXQgZXhpc3RzXG4gICAqL1xuICAgY2xvc2VEaWFsb2coKSB7XG4gICAgaWYgKCF0aGlzLl93aWRnZXQpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaWYgd2lkZ2V0IGRvZXMgbm90IGV4aXN0XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fd2lkZ2V0LmNsb3NlRGlhbG9nKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjbGljayBsaXN0ZW5lciB0byBhdHRhY2hlZCBlbGVtZW50IHRvIG9wZW4gYSBmZWVkYmFjayBkaWFsb2dcbiAgICovXG4gICBhdHRhY2hUbyhlbCwgb3B0aW9uT3ZlcnJpZGVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBvcHRpb25PdmVycmlkZXMgfHwge30pO1xuXG4gICAgICByZXR1cm4gdGhpcy5fZW5zdXJlU2hhZG93SG9zdChvcHRpb25zLCAoeyBzaGFkb3cgfSkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRFbCA9XG4gICAgICAgICAgdHlwZW9mIGVsID09PSAnc3RyaW5nJyA/IGRvYy5xdWVyeVNlbGVjdG9yKGVsKSA6IHR5cGVvZiBlbC5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nID8gZWwgOiBudWxsO1xuXG4gICAgICAgIGlmICghdGFyZ2V0RWwpIHtcbiAgICAgICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoJ1tGZWVkYmFja10gVW5hYmxlIHRvIGF0dGFjaCB0byB0YXJnZXQgZWxlbWVudCcpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2lkZ2V0ID0gY3JlYXRlV2lkZ2V0KHsgc2hhZG93LCBvcHRpb25zLCBhdHRhY2hUbzogdGFyZ2V0RWwgfSk7XG4gICAgICAgIHRoaXMuX3dpZGdldHMuYWRkKHdpZGdldCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl93aWRnZXQpIHtcbiAgICAgICAgICB0aGlzLl93aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2lkZ2V0O1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHdpZGdldC4gQWNjZXB0cyBwYXJ0aWFsIG9wdGlvbnMgdG8gb3ZlcnJpZGUgYW55IG9wdGlvbnMgcGFzc2VkIHRvIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgIGNyZWF0ZVdpZGdldChcbiAgICBvcHRpb25PdmVycmlkZXMsXG4gICkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0KG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG9wdGlvbk92ZXJyaWRlcyB8fCB7fSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKGVycik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHNpbmdsZSB3aWRnZXRcbiAgICovXG4gICByZW1vdmVXaWRnZXQod2lkZ2V0KSB7XG4gICAgaWYgKCF3aWRnZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuX3dpZGdldHMuaGFzKHdpZGdldCkpIHtcbiAgICAgICAgd2lkZ2V0LnJlbW92ZUFjdG9yKCk7XG4gICAgICAgIHdpZGdldC5yZW1vdmVEaWFsb2coKTtcbiAgICAgICAgdGhpcy5fd2lkZ2V0cy5kZWxldGUod2lkZ2V0KTtcblxuICAgICAgICBpZiAodGhpcy5fd2lkZ2V0ID09PSB3aWRnZXQpIHtcbiAgICAgICAgICAvLyBUT0RPOiBpcyBtb3JlIGNsZWFuLXVwIG5lZWRlZD8gZS5nLiBjYWxsIHJlbW92ZSgpXG4gICAgICAgICAgdGhpcy5fd2lkZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRlZmF1bHQgKGZpcnN0LWNyZWF0ZWQpIHdpZGdldFxuICAgKi9cbiAgIGdldFdpZGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2lkZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIEZlZWRiYWNrIGludGVncmF0aW9uIChpbmNsdWRpbmcgaG9zdCwgc2hhZG93IERPTSwgYW5kIGFsbCB3aWRnZXRzKVxuICAgKi9cbiAgIHJlbW92ZSgpIHtcbiAgICBpZiAodGhpcy5faG9zdCkge1xuICAgICAgdGhpcy5faG9zdC5yZW1vdmUoKTtcbiAgICB9XG4gICAgdGhpcy5faW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHZhbHVlcyBvZiBwcm90ZWN0ZWQgcHJvcGVydGllc1xuICAgKi9cbiAgIF9pbml0aWFsaXplKCkge1xuICAgIHRoaXMuX2hvc3QgPSBudWxsO1xuICAgIHRoaXMuX3NoYWRvdyA9IG51bGw7XG4gICAgdGhpcy5fd2lkZ2V0ID0gbnVsbDtcbiAgICB0aGlzLl93aWRnZXRzID0gbmV3IFNldCgpO1xuICAgIHRoaXMuX2hhc0luc2VydGVkQWN0b3JTdHlsZXMgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhbi11cCB0aGUgd2lkZ2V0IGlmIGl0IGFscmVhZHkgZXhpc3RzIGluIHRoZSBET00uIFRoaXMgc2hvdWxkbid0IGhhcHBlblxuICAgKiBpbiBwcm9kLCBidXQgY2FuIGhhcHBlbiBpbiBkZXZlbG9wbWVudCB3aXRoIGhvdCBtb2R1bGUgcmVsb2FkaW5nLlxuICAgKi9cbiAgIF9jbGVhbnVwV2lkZ2V0SWZFeGlzdHMoKSB7XG4gICAgaWYgKHRoaXMuX2hvc3QpIHtcbiAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgfVxuICAgIGNvbnN0IGV4aXN0aW5nRmVlZGJhY2sgPSBkb2MucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5vcHRpb25zLmlkfWApO1xuICAgIGlmIChleGlzdGluZ0ZlZWRiYWNrKSB7XG4gICAgICBleGlzdGluZ0ZlZWRiYWNrLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHdpZGdldCwgYWZ0ZXIgZW5zdXJpbmcgc2hhZG93IERPTSBleGlzdHNcbiAgICovXG4gICBfY3JlYXRlV2lkZ2V0KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5zdXJlU2hhZG93SG9zdChvcHRpb25zLCAoeyBzaGFkb3cgfSkgPT4ge1xuICAgICAgY29uc3Qgd2lkZ2V0ID0gY3JlYXRlV2lkZ2V0KHsgc2hhZG93LCBvcHRpb25zIH0pO1xuXG4gICAgICBpZiAoIXRoaXMuX2hhc0luc2VydGVkQWN0b3JTdHlsZXMgJiYgd2lkZ2V0LmFjdG9yKSB7XG4gICAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChjcmVhdGVBY3RvclN0eWxlcyhkb2MpKTtcbiAgICAgICAgdGhpcy5faGFzSW5zZXJ0ZWRBY3RvclN0eWxlcyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3dpZGdldHMuYWRkKHdpZGdldCk7XG5cbiAgICAgIGlmICghdGhpcy5fd2lkZ2V0KSB7XG4gICAgICAgIHRoaXMuX3dpZGdldCA9IHdpZGdldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdpZGdldDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmVzIHRoYXQgc2hhZG93IERPTSBleGlzdHMgYW5kIGlzIGFkZGVkIHRvIHRoZSBET01cbiAgICovXG4gICBfZW5zdXJlU2hhZG93SG9zdChcbiAgICBvcHRpb25zLFxuICAgIGNiLFxuICApIHtcbiAgICBsZXQgbmVlZHNBcHBlbmRIb3N0ID0gZmFsc2U7XG5cbiAgICAvLyBEb24ndCBjcmVhdGUgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICBpZiAoIXRoaXMuX3NoYWRvdyB8fCAhdGhpcy5faG9zdCkge1xuICAgICAgY29uc3QgeyBpZCwgY29sb3JTY2hlbWUsIHRoZW1lTGlnaHQsIHRoZW1lRGFyayB9ID0gb3B0aW9ucztcbiAgICAgIGNvbnN0IHsgc2hhZG93LCBob3N0IH0gPSBjcmVhdGVTaGFkb3dIb3N0KHtcbiAgICAgICAgaWQsXG4gICAgICAgIGNvbG9yU2NoZW1lLFxuICAgICAgICB0aGVtZUxpZ2h0LFxuICAgICAgICB0aGVtZURhcmssXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3NoYWRvdyA9IHNoYWRvdztcbiAgICAgIHRoaXMuX2hvc3QgPSBob3N0O1xuICAgICAgbmVlZHNBcHBlbmRIb3N0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBzZXQgZGF0YSBhdHRyaWJ1dGUgb24gaG9zdCBmb3IgZGlmZmVyZW50IHRoZW1lc1xuICAgIHRoaXMuX2hvc3QuZGF0YXNldC5zZW50cnlGZWVkYmFja0NvbG9yc2NoZW1lID0gb3B0aW9ucy5jb2xvclNjaGVtZTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGNiKHsgc2hhZG93OiB0aGlzLl9zaGFkb3csIGhvc3Q6IHRoaXMuX2hvc3QgfSk7XG5cbiAgICBpZiAobmVlZHNBcHBlbmRIb3N0KSB7XG4gICAgICBkb2MuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9ob3N0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59IEZlZWRiYWNrLl9faW5pdFN0YXRpYygpO1xuXG5leHBvcnQgeyBGZWVkYmFjaywgZmVlZGJhY2tJbnRlZ3JhdGlvbiwgc2VuZEZlZWRiYWNrIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/feedback/esm/index.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/replay-canvas/esm/index.js":
/*!*******************************************************************!*\
  !*** ../node_modules/@sentry-internal/replay-canvas/esm/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReplayCanvas: () => (/* binding */ ReplayCanvas),\n/* harmony export */   replayCanvasIntegration: () => (/* binding */ replayCanvasIntegration)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/integration.js\");\n\n\n\nvar NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Document\"] = 0] = \"Document\";\n    NodeType[NodeType[\"DocumentType\"] = 1] = \"DocumentType\";\n    NodeType[NodeType[\"Element\"] = 2] = \"Element\";\n    NodeType[NodeType[\"Text\"] = 3] = \"Text\";\n    NodeType[NodeType[\"CDATA\"] = 4] = \"CDATA\";\n    NodeType[NodeType[\"Comment\"] = 5] = \"Comment\";\n})(NodeType || (NodeType = {}));\nfunction elementClassMatchesRegex(el, regex) {\n    for (let eIndex = el.classList.length; eIndex--;) {\n        const className = el.classList[eIndex];\n        if (regex.test(className)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction distanceToMatch(node, matchPredicate, limit = Infinity, distance = 0) {\n    if (!node)\n        return -1;\n    if (node.nodeType !== node.ELEMENT_NODE)\n        return -1;\n    if (distance > limit)\n        return -1;\n    if (matchPredicate(node))\n        return distance;\n    return distanceToMatch(node.parentNode, matchPredicate, limit, distance + 1);\n}\nfunction createMatchPredicate(className, selector) {\n    return (node) => {\n        const el = node;\n        if (el === null)\n            return false;\n        try {\n            if (className) {\n                if (typeof className === 'string') {\n                    if (el.matches(`.${className}`))\n                        return true;\n                }\n                else if (elementClassMatchesRegex(el, className)) {\n                    return true;\n                }\n            }\n            if (selector && el.matches(selector))\n                return true;\n            return false;\n        }\n        catch (e2) {\n            return false;\n        }\n    };\n}\n\nconst DEPARTED_MIRROR_ACCESS_WARNING = 'Please stop import mirror directly. Instead of that,' +\n    '\\r\\n' +\n    'now you can use replayer.getMirror() to access the mirror instance of a replayer,' +\n    '\\r\\n' +\n    'or you can use record.mirror to access the mirror instance during recording.';\nlet _mirror = {\n    map: {},\n    getId() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n        return -1;\n    },\n    getNode() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n        return null;\n    },\n    removeNodeFromMap() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    },\n    has() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n        return false;\n    },\n    reset() {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    },\n};\nif (typeof window !== 'undefined' && window.Proxy && window.Reflect) {\n    _mirror = new Proxy(_mirror, {\n        get(target, prop, receiver) {\n            if (prop === 'map') {\n                console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n            }\n            return Reflect.get(target, prop, receiver);\n        },\n    });\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n    const original = win.Object.getOwnPropertyDescriptor(target, key);\n    win.Object.defineProperty(target, key, isRevoked\n        ? d\n        : {\n            set(value) {\n                setTimeout(() => {\n                    d.set.call(this, value);\n                }, 0);\n                if (original && original.set) {\n                    original.set.call(this, value);\n                }\n            },\n        });\n    return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n    try {\n        if (!(name in source)) {\n            return () => {\n            };\n        }\n        const original = source[name];\n        const wrapped = replacement(original);\n        if (typeof wrapped === 'function') {\n            wrapped.prototype = wrapped.prototype || {};\n            Object.defineProperties(wrapped, {\n                __rrweb_original__: {\n                    enumerable: false,\n                    value: original,\n                },\n            });\n        }\n        source[name] = wrapped;\n        return () => {\n            source[name] = original;\n        };\n    }\n    catch (e2) {\n        return () => {\n        };\n    }\n}\nif (!(/[1-9][0-9]{12}/.test(Date.now().toString()))) ;\nfunction closestElementOfNode(node) {\n    if (!node) {\n        return null;\n    }\n    const el = node.nodeType === node.ELEMENT_NODE\n        ? node\n        : node.parentElement;\n    return el;\n}\nfunction isBlocked(node, blockClass, blockSelector, unblockSelector, checkAncestors) {\n    if (!node) {\n        return false;\n    }\n    const el = closestElementOfNode(node);\n    if (!el) {\n        return false;\n    }\n    const blockedPredicate = createMatchPredicate(blockClass, blockSelector);\n    if (!checkAncestors) {\n        const isUnblocked = unblockSelector && el.matches(unblockSelector);\n        return blockedPredicate(el) && !isUnblocked;\n    }\n    const blockDistance = distanceToMatch(el, blockedPredicate);\n    let unblockDistance = -1;\n    if (blockDistance < 0) {\n        return false;\n    }\n    if (unblockSelector) {\n        unblockDistance = distanceToMatch(el, createMatchPredicate(null, unblockSelector));\n    }\n    if (blockDistance > -1 && unblockDistance < 0) {\n        return true;\n    }\n    return blockDistance < unblockDistance;\n}\nconst cachedImplementations = {};\nfunction getImplementation(name) {\n    const cached = cachedImplementations[name];\n    if (cached) {\n        return cached;\n    }\n    const document = window.document;\n    let impl = window[name];\n    if (document && typeof document.createElement === 'function') {\n        try {\n            const sandbox = document.createElement('iframe');\n            sandbox.hidden = true;\n            document.head.appendChild(sandbox);\n            const contentWindow = sandbox.contentWindow;\n            if (contentWindow && contentWindow[name]) {\n                impl =\n                    contentWindow[name];\n            }\n            document.head.removeChild(sandbox);\n        }\n        catch (e) {\n        }\n    }\n    return (cachedImplementations[name] = impl.bind(window));\n}\nfunction onRequestAnimationFrame(...rest) {\n    return getImplementation('requestAnimationFrame')(...rest);\n}\nfunction setTimeout(...rest) {\n    return getImplementation('setTimeout')(...rest);\n}\n\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\n\nlet errorHandler;\nfunction registerErrorHandler(handler) {\n    errorHandler = handler;\n}\nconst callbackWrapper = (cb) => {\n    if (!errorHandler) {\n        return cb;\n    }\n    const rrwebWrapped = ((...rest) => {\n        try {\n            return cb(...rest);\n        }\n        catch (error) {\n            if (errorHandler && errorHandler(error) === true) {\n                return () => {\n                };\n            }\n            throw error;\n        }\n    });\n    return rrwebWrapped;\n};\n\n/*\n * base64-arraybuffer 1.0.1 <https://github.com/niklasvh/base64-arraybuffer>\n * Copyright (c) 2021 Niklas von Hertzen <https://hertzen.com>\n * Released under MIT License\n */\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nvar encode = function (arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\n\nconst canvasVarMap = new Map();\nfunction variableListFor(ctx, ctor) {\n    let contextMap = canvasVarMap.get(ctx);\n    if (!contextMap) {\n        contextMap = new Map();\n        canvasVarMap.set(ctx, contextMap);\n    }\n    if (!contextMap.has(ctor)) {\n        contextMap.set(ctor, []);\n    }\n    return contextMap.get(ctor);\n}\nconst saveWebGLVar = (value, win, ctx) => {\n    if (!value ||\n        !(isInstanceOfWebGLObject(value, win) || typeof value === 'object'))\n        return;\n    const name = value.constructor.name;\n    const list = variableListFor(ctx, name);\n    let index = list.indexOf(value);\n    if (index === -1) {\n        index = list.length;\n        list.push(value);\n    }\n    return index;\n};\nfunction serializeArg(value, win, ctx) {\n    if (value instanceof Array) {\n        return value.map((arg) => serializeArg(arg, win, ctx));\n    }\n    else if (value === null) {\n        return value;\n    }\n    else if (value instanceof Float32Array ||\n        value instanceof Float64Array ||\n        value instanceof Int32Array ||\n        value instanceof Uint32Array ||\n        value instanceof Uint8Array ||\n        value instanceof Uint16Array ||\n        value instanceof Int16Array ||\n        value instanceof Int8Array ||\n        value instanceof Uint8ClampedArray) {\n        const name = value.constructor.name;\n        return {\n            rr_type: name,\n            args: [Object.values(value)],\n        };\n    }\n    else if (value instanceof ArrayBuffer) {\n        const name = value.constructor.name;\n        const base64 = encode(value);\n        return {\n            rr_type: name,\n            base64,\n        };\n    }\n    else if (value instanceof DataView) {\n        const name = value.constructor.name;\n        return {\n            rr_type: name,\n            args: [\n                serializeArg(value.buffer, win, ctx),\n                value.byteOffset,\n                value.byteLength,\n            ],\n        };\n    }\n    else if (value instanceof HTMLImageElement) {\n        const name = value.constructor.name;\n        const { src } = value;\n        return {\n            rr_type: name,\n            src,\n        };\n    }\n    else if (value instanceof HTMLCanvasElement) {\n        const name = 'HTMLImageElement';\n        const src = value.toDataURL();\n        return {\n            rr_type: name,\n            src,\n        };\n    }\n    else if (value instanceof ImageData) {\n        const name = value.constructor.name;\n        return {\n            rr_type: name,\n            args: [serializeArg(value.data, win, ctx), value.width, value.height],\n        };\n    }\n    else if (isInstanceOfWebGLObject(value, win) || typeof value === 'object') {\n        const name = value.constructor.name;\n        const index = saveWebGLVar(value, win, ctx);\n        return {\n            rr_type: name,\n            index: index,\n        };\n    }\n    return value;\n}\nconst serializeArgs = (args, win, ctx) => {\n    return args.map((arg) => serializeArg(arg, win, ctx));\n};\nconst isInstanceOfWebGLObject = (value, win) => {\n    const webGLConstructorNames = [\n        'WebGLActiveInfo',\n        'WebGLBuffer',\n        'WebGLFramebuffer',\n        'WebGLProgram',\n        'WebGLRenderbuffer',\n        'WebGLShader',\n        'WebGLShaderPrecisionFormat',\n        'WebGLTexture',\n        'WebGLUniformLocation',\n        'WebGLVertexArrayObject',\n        'WebGLVertexArrayObjectOES',\n    ];\n    const supportedWebGLConstructorNames = webGLConstructorNames.filter((name) => typeof win[name] === 'function');\n    return Boolean(supportedWebGLConstructorNames.find((name) => value instanceof win[name]));\n};\n\nfunction initCanvas2DMutationObserver(cb, win, blockClass, blockSelector, unblockSelector) {\n    const handlers = [];\n    const props2D = Object.getOwnPropertyNames(win.CanvasRenderingContext2D.prototype);\n    for (const prop of props2D) {\n        try {\n            if (typeof win.CanvasRenderingContext2D.prototype[prop] !== 'function') {\n                continue;\n            }\n            const restoreHandler = patch(win.CanvasRenderingContext2D.prototype, prop, function (original) {\n                return function (...args) {\n                    if (!isBlocked(this.canvas, blockClass, blockSelector, unblockSelector, true)) {\n                        setTimeout(() => {\n                            const recordArgs = serializeArgs(args, win, this);\n                            cb(this.canvas, {\n                                type: CanvasContext['2D'],\n                                property: prop,\n                                args: recordArgs,\n                            });\n                        }, 0);\n                    }\n                    return original.apply(this, args);\n                };\n            });\n            handlers.push(restoreHandler);\n        }\n        catch (e) {\n            const hookHandler = hookSetter(win.CanvasRenderingContext2D.prototype, prop, {\n                set(v) {\n                    cb(this.canvas, {\n                        type: CanvasContext['2D'],\n                        property: prop,\n                        args: [v],\n                        setter: true,\n                    });\n                },\n            });\n            handlers.push(hookHandler);\n        }\n    }\n    return () => {\n        handlers.forEach((h) => h());\n    };\n}\n\nfunction getNormalizedContextName(contextType) {\n    return contextType === 'experimental-webgl' ? 'webgl' : contextType;\n}\nfunction initCanvasContextObserver(win, blockClass, blockSelector, unblockSelector, setPreserveDrawingBufferToTrue) {\n    const handlers = [];\n    try {\n        const restoreHandler = patch(win.HTMLCanvasElement.prototype, 'getContext', function (original) {\n            return function (contextType, ...args) {\n                if (!isBlocked(this, blockClass, blockSelector, unblockSelector, true)) {\n                    const ctxName = getNormalizedContextName(contextType);\n                    if (!('__context' in this))\n                        this.__context = ctxName;\n                    if (setPreserveDrawingBufferToTrue &&\n                        ['webgl', 'webgl2'].includes(ctxName)) {\n                        if (args[0] && typeof args[0] === 'object') {\n                            const contextAttributes = args[0];\n                            if (!contextAttributes.preserveDrawingBuffer) {\n                                contextAttributes.preserveDrawingBuffer = true;\n                            }\n                        }\n                        else {\n                            args.splice(0, 1, {\n                                preserveDrawingBuffer: true,\n                            });\n                        }\n                    }\n                }\n                return original.apply(this, [contextType, ...args]);\n            };\n        });\n        handlers.push(restoreHandler);\n    }\n    catch (e) {\n        console.error('failed to patch HTMLCanvasElement.prototype.getContext');\n    }\n    return () => {\n        handlers.forEach((h) => h());\n    };\n}\n\nfunction patchGLPrototype(prototype, type, cb, blockClass, blockSelector, unblockSelector, mirror, win) {\n    const handlers = [];\n    const props = Object.getOwnPropertyNames(prototype);\n    for (const prop of props) {\n        if ([\n            'isContextLost',\n            'canvas',\n            'drawingBufferWidth',\n            'drawingBufferHeight',\n        ].includes(prop)) {\n            continue;\n        }\n        try {\n            if (typeof prototype[prop] !== 'function') {\n                continue;\n            }\n            const restoreHandler = patch(prototype, prop, function (original) {\n                return function (...args) {\n                    const result = original.apply(this, args);\n                    saveWebGLVar(result, win, this);\n                    if ('tagName' in this.canvas &&\n                        !isBlocked(this.canvas, blockClass, blockSelector, unblockSelector, true)) {\n                        const recordArgs = serializeArgs(args, win, this);\n                        const mutation = {\n                            type,\n                            property: prop,\n                            args: recordArgs,\n                        };\n                        cb(this.canvas, mutation);\n                    }\n                    return result;\n                };\n            });\n            handlers.push(restoreHandler);\n        }\n        catch (e) {\n            const hookHandler = hookSetter(prototype, prop, {\n                set(v) {\n                    cb(this.canvas, {\n                        type,\n                        property: prop,\n                        args: [v],\n                        setter: true,\n                    });\n                },\n            });\n            handlers.push(hookHandler);\n        }\n    }\n    return handlers;\n}\nfunction initCanvasWebGLMutationObserver(cb, win, blockClass, blockSelector, unblockSelector, mirror) {\n    const handlers = [];\n    handlers.push(...patchGLPrototype(win.WebGLRenderingContext.prototype, CanvasContext.WebGL, cb, blockClass, blockSelector, unblockSelector, mirror, win));\n    if (typeof win.WebGL2RenderingContext !== 'undefined') {\n        handlers.push(...patchGLPrototype(win.WebGL2RenderingContext.prototype, CanvasContext.WebGL2, cb, blockClass, blockSelector, unblockSelector, mirror, win));\n    }\n    return () => {\n        handlers.forEach((h) => h());\n    };\n}\n\nvar r = `for(var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",t=\"undefined\"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s=\"\";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+\"=\":r%3==1&&(s=s.substring(0,s.length-2)+\"==\"),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!(\"OffscreenCanvas\"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+\"-\"+t;if(\"OffscreenCanvas\"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext(\"2d\");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return\"\"}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext(\"bitmaprenderer\"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:\"low\"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};`;\n\nfunction t(){const t=new Blob([r]);return URL.createObjectURL(t)}\n\nclass CanvasManager {\n    reset() {\n        this.pendingCanvasMutations.clear();\n        this.resetObservers && this.resetObservers();\n    }\n    freeze() {\n        this.frozen = true;\n    }\n    unfreeze() {\n        this.frozen = false;\n    }\n    lock() {\n        this.locked = true;\n    }\n    unlock() {\n        this.locked = false;\n    }\n    constructor(options) {\n        this.pendingCanvasMutations = new Map();\n        this.rafStamps = { latestId: 0, invokeId: null };\n        this.frozen = false;\n        this.locked = false;\n        this.processMutation = (target, mutation) => {\n            const newFrame = this.rafStamps.invokeId &&\n                this.rafStamps.latestId !== this.rafStamps.invokeId;\n            if (newFrame || !this.rafStamps.invokeId)\n                this.rafStamps.invokeId = this.rafStamps.latestId;\n            if (!this.pendingCanvasMutations.has(target)) {\n                this.pendingCanvasMutations.set(target, []);\n            }\n            this.pendingCanvasMutations.get(target).push(mutation);\n        };\n        const { sampling = 'all', win, blockClass, blockSelector, unblockSelector, maxCanvasSize, recordCanvas, dataURLOptions, errorHandler, } = options;\n        this.mutationCb = options.mutationCb;\n        this.mirror = options.mirror;\n        this.options = options;\n        if (errorHandler) {\n            registerErrorHandler(errorHandler);\n        }\n        if (options.enableManualSnapshot) {\n            return;\n        }\n        callbackWrapper(() => {\n            if (recordCanvas && sampling === 'all')\n                this.initCanvasMutationObserver(win, blockClass, blockSelector, unblockSelector);\n            if (recordCanvas && typeof sampling === 'number')\n                this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, unblockSelector, maxCanvasSize, {\n                    dataURLOptions,\n                });\n        })();\n    }\n    initCanvasFPSObserver(fps, win, blockClass, blockSelector, unblockSelector, maxCanvasSize, options) {\n        const canvasContextReset = initCanvasContextObserver(win, blockClass, blockSelector, unblockSelector, true);\n        const rafId = this.takeSnapshot(false, fps, win, blockClass, blockSelector, unblockSelector, maxCanvasSize, options.dataURLOptions);\n        this.resetObservers = () => {\n            canvasContextReset();\n            cancelAnimationFrame(rafId);\n        };\n    }\n    initCanvasMutationObserver(win, blockClass, blockSelector, unblockSelector) {\n        this.startRAFTimestamping();\n        this.startPendingCanvasMutationFlusher();\n        const canvasContextReset = initCanvasContextObserver(win, blockClass, blockSelector, unblockSelector, false);\n        const canvas2DReset = initCanvas2DMutationObserver(this.processMutation.bind(this), win, blockClass, blockSelector, unblockSelector);\n        const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(this.processMutation.bind(this), win, blockClass, blockSelector, unblockSelector, this.mirror);\n        this.resetObservers = () => {\n            canvasContextReset();\n            canvas2DReset();\n            canvasWebGL1and2Reset();\n        };\n    }\n    snapshot(canvasElement) {\n        const { options } = this;\n        const rafId = this.takeSnapshot(true, options.sampling === 'all' ? 2 : options.sampling || 2, options.win, options.blockClass, options.blockSelector, options.unblockSelector, options.maxCanvasSize, options.dataURLOptions, canvasElement);\n        this.resetObservers = () => {\n            cancelAnimationFrame(rafId);\n        };\n    }\n    takeSnapshot(isManualSnapshot, fps, win, blockClass, blockSelector, unblockSelector, maxCanvasSize, dataURLOptions, canvasElement) {\n        const snapshotInProgressMap = new Map();\n        const worker = new Worker(t());\n        worker.onmessage = (e) => {\n            const data = e.data;\n            const { id } = data;\n            snapshotInProgressMap.set(id, false);\n            if (!('base64' in data))\n                return;\n            const { base64, type, width, height } = data;\n            this.mutationCb({\n                id,\n                type: CanvasContext['2D'],\n                commands: [\n                    {\n                        property: 'clearRect',\n                        args: [0, 0, width, height],\n                    },\n                    {\n                        property: 'drawImage',\n                        args: [\n                            {\n                                rr_type: 'ImageBitmap',\n                                args: [\n                                    {\n                                        rr_type: 'Blob',\n                                        data: [{ rr_type: 'ArrayBuffer', base64 }],\n                                        type,\n                                    },\n                                ],\n                            },\n                            0,\n                            0,\n                            width,\n                            height,\n                        ],\n                    },\n                ],\n            });\n        };\n        const timeBetweenSnapshots = 1000 / fps;\n        let lastSnapshotTime = 0;\n        let rafId;\n        const getCanvas = (canvasElement) => {\n            if (canvasElement) {\n                return [canvasElement];\n            }\n            const matchedCanvas = [];\n            win.document.querySelectorAll('canvas').forEach((canvas) => {\n                if (!isBlocked(canvas, blockClass, blockSelector, unblockSelector, true)) {\n                    matchedCanvas.push(canvas);\n                }\n            });\n            return matchedCanvas;\n        };\n        const takeCanvasSnapshots = (timestamp) => {\n            if (lastSnapshotTime &&\n                timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n                rafId = onRequestAnimationFrame(takeCanvasSnapshots);\n                return;\n            }\n            lastSnapshotTime = timestamp;\n            getCanvas(canvasElement).forEach((canvas) => {\n                const id = this.mirror.getId(canvas);\n                if (snapshotInProgressMap.get(id))\n                    return;\n                if (!canvas.width || !canvas.height)\n                    return;\n                snapshotInProgressMap.set(id, true);\n                if (!isManualSnapshot &&\n                    ['webgl', 'webgl2'].includes(canvas.__context)) {\n                    const context = canvas.getContext(canvas.__context);\n                    if ((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__._optionalChain)([context, 'optionalAccess', _ => _.getContextAttributes, 'call', _2 => _2(), 'optionalAccess', _3 => _3.preserveDrawingBuffer]) === false) {\n                        context.clear(context.COLOR_BUFFER_BIT);\n                    }\n                }\n                createImageBitmap(canvas)\n                    .then((bitmap) => {\n                    worker.postMessage({\n                        id,\n                        bitmap,\n                        width: canvas.width,\n                        height: canvas.height,\n                        dataURLOptions,\n                        maxCanvasSize,\n                    }, [bitmap]);\n                })\n                    .catch((error) => {\n                    callbackWrapper(() => {\n                        throw error;\n                    })();\n                });\n            });\n            rafId = onRequestAnimationFrame(takeCanvasSnapshots);\n        };\n        rafId = onRequestAnimationFrame(takeCanvasSnapshots);\n        return rafId;\n    }\n    startPendingCanvasMutationFlusher() {\n        onRequestAnimationFrame(() => this.flushPendingCanvasMutations());\n    }\n    startRAFTimestamping() {\n        const setLatestRAFTimestamp = (timestamp) => {\n            this.rafStamps.latestId = timestamp;\n            onRequestAnimationFrame(setLatestRAFTimestamp);\n        };\n        onRequestAnimationFrame(setLatestRAFTimestamp);\n    }\n    flushPendingCanvasMutations() {\n        this.pendingCanvasMutations.forEach((values, canvas) => {\n            const id = this.mirror.getId(canvas);\n            this.flushPendingCanvasMutationFor(canvas, id);\n        });\n        onRequestAnimationFrame(() => this.flushPendingCanvasMutations());\n    }\n    flushPendingCanvasMutationFor(canvas, id) {\n        if (this.frozen || this.locked) {\n            return;\n        }\n        const valuesWithType = this.pendingCanvasMutations.get(canvas);\n        if (!valuesWithType || id === -1)\n            return;\n        const values = valuesWithType.map((value) => {\n            const { type, ...rest } = value;\n            return rest;\n        });\n        const { type } = valuesWithType[0];\n        this.mutationCb({ id, type, commands: values });\n        this.pendingCanvasMutations.delete(canvas);\n    }\n}\n\nconst CANVAS_QUALITY = {\n  low: {\n    sampling: {\n      canvas: 1,\n    },\n    dataURLOptions: {\n      type: 'image/webp',\n      quality: 0.25,\n    },\n  },\n  medium: {\n    sampling: {\n      canvas: 2,\n    },\n    dataURLOptions: {\n      type: 'image/webp',\n      quality: 0.4,\n    },\n  },\n  high: {\n    sampling: {\n      canvas: 4,\n    },\n    dataURLOptions: {\n      type: 'image/webp',\n      quality: 0.5,\n    },\n  },\n};\n\nconst INTEGRATION_NAME = 'ReplayCanvas';\nconst DEFAULT_MAX_CANVAS_SIZE = 1280;\n\n/** Exported only for type safe tests. */\nconst _replayCanvasIntegration = ((options = {}) => {\n  const [maxCanvasWidth, maxCanvasHeight] = options.maxCanvasSize || [];\n  const _canvasOptions = {\n    quality: options.quality || 'medium',\n    enableManualSnapshot: options.enableManualSnapshot,\n    maxCanvasSize: [\n      maxCanvasWidth ? Math.min(maxCanvasWidth, DEFAULT_MAX_CANVAS_SIZE) : DEFAULT_MAX_CANVAS_SIZE,\n      maxCanvasHeight ? Math.min(maxCanvasHeight, DEFAULT_MAX_CANVAS_SIZE) : DEFAULT_MAX_CANVAS_SIZE,\n    ] ,\n  };\n\n  let canvasManagerResolve;\n  const _canvasManager = new Promise(resolve => (canvasManagerResolve = resolve));\n\n  return {\n    name: INTEGRATION_NAME,\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce() {},\n    getOptions() {\n      const { quality, enableManualSnapshot, maxCanvasSize } = _canvasOptions;\n\n      return {\n        enableManualSnapshot,\n        recordCanvas: true,\n        getCanvasManager: (getCanvasManagerOptions) => {\n          const manager = new CanvasManager({\n            ...getCanvasManagerOptions,\n            enableManualSnapshot,\n            maxCanvasSize,\n            errorHandler: (err) => {\n              try {\n                if (typeof err === 'object') {\n                  (err ).__rrweb__ = true;\n                }\n              } catch (error) {\n                // ignore errors here\n                // this can happen if the error is frozen or does not allow mutation for other reasons\n              }\n            },\n          });\n          canvasManagerResolve(manager);\n          return manager;\n        },\n        ...(CANVAS_QUALITY[quality || 'medium'] || CANVAS_QUALITY.medium),\n      };\n    },\n    async snapshot(canvasElement) {\n      const canvasManager = await _canvasManager;\n      canvasManager.snapshot(canvasElement);\n    },\n  };\n}) ;\n\n/**\n * Add this in addition to `replayIntegration()` to enable canvas recording.\n */\nconst replayCanvasIntegration = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.defineIntegration)(_replayCanvasIntegration);\n\n/**\n * @deprecated Use `replayCanvasIntegration()` instead\n */\n// eslint-disable-next-line deprecation/deprecation\nconst ReplayCanvas = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.convertIntegrationFnToClass)(INTEGRATION_NAME, replayCanvasIntegration)\n\n;\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvcmVwbGF5LWNhbnZhcy9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQztBQUMrQjs7QUFFOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxVQUFVO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsR0FBRztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtKQUFrSixLQUFLLHlCQUF5QixrQkFBa0IsMENBQTBDLFFBQVEsSUFBSSw4RkFBOEYsNEZBQTRGLDBCQUEwQixhQUFhLDhCQUE4QiwyREFBMkQsYUFBYSxHQUFHLE1BQU0sZ0VBQWdFLGdDQUFnQyxnQkFBZ0IsbUNBQW1DLDRCQUE0QixpQ0FBaUMsbUJBQW1CLGdFQUFnRSxvQkFBb0IsU0FBUyw4QkFBOEIsa0JBQWtCLGFBQWEsMEJBQTBCLFlBQVksMkVBQTJFLGdIQUFnSCxpREFBaUQsRUFBRSx1Q0FBdUMseUVBQXlFLHFFQUFxRSxLQUFLLEVBQUUsc0NBQXNDLEtBQUssRUFBRSxlQUFlLHNDQUFzQyxlQUFlOztBQUV0Z0QsYUFBYSxzQkFBc0I7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnSUFBZ0k7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEtBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhCQUE4QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGdDQUFnQztBQUNqRjtBQUNBLHFDQUFxQztBQUNyQztBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDZEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0EsU0FBUztBQUNULGdCQUFnQixPQUFPO0FBQ3ZCLDBCQUEwQiw0QkFBNEI7QUFDdEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxjQUFjLCtDQUErQzs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0RBQWlCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5RUFBMkI7O0FBRWhEOztBQUVpRDtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZGdpdHkteWllbGQtZnJvbnRlbmQvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvcmVwbGF5LWNhbnZhcy9lc20vaW5kZXguanM/MGMzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfb3B0aW9uYWxDaGFpbiB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgZGVmaW5lSW50ZWdyYXRpb24sIGNvbnZlcnRJbnRlZ3JhdGlvbkZuVG9DbGFzcyB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5cbnZhciBOb2RlVHlwZTtcbihmdW5jdGlvbiAoTm9kZVR5cGUpIHtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkRvY3VtZW50XCJdID0gMF0gPSBcIkRvY3VtZW50XCI7XG4gICAgTm9kZVR5cGVbTm9kZVR5cGVbXCJEb2N1bWVudFR5cGVcIl0gPSAxXSA9IFwiRG9jdW1lbnRUeXBlXCI7XG4gICAgTm9kZVR5cGVbTm9kZVR5cGVbXCJFbGVtZW50XCJdID0gMl0gPSBcIkVsZW1lbnRcIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIlRleHRcIl0gPSAzXSA9IFwiVGV4dFwiO1xuICAgIE5vZGVUeXBlW05vZGVUeXBlW1wiQ0RBVEFcIl0gPSA0XSA9IFwiQ0RBVEFcIjtcbiAgICBOb2RlVHlwZVtOb2RlVHlwZVtcIkNvbW1lbnRcIl0gPSA1XSA9IFwiQ29tbWVudFwiO1xufSkoTm9kZVR5cGUgfHwgKE5vZGVUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGVsZW1lbnRDbGFzc01hdGNoZXNSZWdleChlbCwgcmVnZXgpIHtcbiAgICBmb3IgKGxldCBlSW5kZXggPSBlbC5jbGFzc0xpc3QubGVuZ3RoOyBlSW5kZXgtLTspIHtcbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gZWwuY2xhc3NMaXN0W2VJbmRleF07XG4gICAgICAgIGlmIChyZWdleC50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGRpc3RhbmNlVG9NYXRjaChub2RlLCBtYXRjaFByZWRpY2F0ZSwgbGltaXQgPSBJbmZpbml0eSwgZGlzdGFuY2UgPSAwKSB7XG4gICAgaWYgKCFub2RlKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgIT09IG5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGRpc3RhbmNlID4gbGltaXQpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAobWF0Y2hQcmVkaWNhdGUobm9kZSkpXG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcbiAgICByZXR1cm4gZGlzdGFuY2VUb01hdGNoKG5vZGUucGFyZW50Tm9kZSwgbWF0Y2hQcmVkaWNhdGUsIGxpbWl0LCBkaXN0YW5jZSArIDEpO1xufVxuZnVuY3Rpb24gY3JlYXRlTWF0Y2hQcmVkaWNhdGUoY2xhc3NOYW1lLCBzZWxlY3Rvcikge1xuICAgIHJldHVybiAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IG5vZGU7XG4gICAgICAgIGlmIChlbCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLm1hdGNoZXMoYC4ke2NsYXNzTmFtZX1gKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlbGVtZW50Q2xhc3NNYXRjaGVzUmVnZXgoZWwsIGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGVjdG9yICYmIGVsLm1hdGNoZXMoc2VsZWN0b3IpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlMikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3QgREVQQVJURURfTUlSUk9SX0FDQ0VTU19XQVJOSU5HID0gJ1BsZWFzZSBzdG9wIGltcG9ydCBtaXJyb3IgZGlyZWN0bHkuIEluc3RlYWQgb2YgdGhhdCwnICtcbiAgICAnXFxyXFxuJyArXG4gICAgJ25vdyB5b3UgY2FuIHVzZSByZXBsYXllci5nZXRNaXJyb3IoKSB0byBhY2Nlc3MgdGhlIG1pcnJvciBpbnN0YW5jZSBvZiBhIHJlcGxheWVyLCcgK1xuICAgICdcXHJcXG4nICtcbiAgICAnb3IgeW91IGNhbiB1c2UgcmVjb3JkLm1pcnJvciB0byBhY2Nlc3MgdGhlIG1pcnJvciBpbnN0YW5jZSBkdXJpbmcgcmVjb3JkaW5nLic7XG5sZXQgX21pcnJvciA9IHtcbiAgICBtYXA6IHt9LFxuICAgIGdldElkKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKERFUEFSVEVEX01JUlJPUl9BQ0NFU1NfV0FSTklORyk7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9LFxuICAgIGdldE5vZGUoKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoREVQQVJURURfTUlSUk9SX0FDQ0VTU19XQVJOSU5HKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByZW1vdmVOb2RlRnJvbU1hcCgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihERVBBUlRFRF9NSVJST1JfQUNDRVNTX1dBUk5JTkcpO1xuICAgIH0sXG4gICAgaGFzKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKERFUEFSVEVEX01JUlJPUl9BQ0NFU1NfV0FSTklORyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIHJlc2V0KCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKERFUEFSVEVEX01JUlJPUl9BQ0NFU1NfV0FSTklORyk7XG4gICAgfSxcbn07XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlByb3h5ICYmIHdpbmRvdy5SZWZsZWN0KSB7XG4gICAgX21pcnJvciA9IG5ldyBQcm94eShfbWlycm9yLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ21hcCcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKERFUEFSVEVEX01JUlJPUl9BQ0NFU1NfV0FSTklORyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBob29rU2V0dGVyKHRhcmdldCwga2V5LCBkLCBpc1Jldm9rZWQsIHdpbiA9IHdpbmRvdykge1xuICAgIGNvbnN0IG9yaWdpbmFsID0gd2luLk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpO1xuICAgIHdpbi5PYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGlzUmV2b2tlZFxuICAgICAgICA/IGRcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZC5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsICYmIG9yaWdpbmFsLnNldCkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbC5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuICgpID0+IGhvb2tTZXR0ZXIodGFyZ2V0LCBrZXksIG9yaWdpbmFsIHx8IHt9LCB0cnVlKTtcbn1cbmZ1bmN0aW9uIHBhdGNoKHNvdXJjZSwgbmFtZSwgcmVwbGFjZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoIShuYW1lIGluIHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gc291cmNlW25hbWVdO1xuICAgICAgICBjb25zdCB3cmFwcGVkID0gcmVwbGFjZW1lbnQob3JpZ2luYWwpO1xuICAgICAgICBpZiAodHlwZW9mIHdyYXBwZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHdyYXBwZWQucHJvdG90eXBlID0gd3JhcHBlZC5wcm90b3R5cGUgfHwge307XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3cmFwcGVkLCB7XG4gICAgICAgICAgICAgICAgX19ycndlYl9vcmlnaW5hbF9fOiB7XG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3JpZ2luYWwsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZVtuYW1lXSA9IHdyYXBwZWQ7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzb3VyY2VbbmFtZV0gPSBvcmlnaW5hbDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGUyKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIH07XG4gICAgfVxufVxuaWYgKCEoL1sxLTldWzAtOV17MTJ9Ly50ZXN0KERhdGUubm93KCkudG9TdHJpbmcoKSkpKSA7XG5mdW5jdGlvbiBjbG9zZXN0RWxlbWVudE9mTm9kZShub2RlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBlbCA9IG5vZGUubm9kZVR5cGUgPT09IG5vZGUuRUxFTUVOVF9OT0RFXG4gICAgICAgID8gbm9kZVxuICAgICAgICA6IG5vZGUucGFyZW50RWxlbWVudDtcbiAgICByZXR1cm4gZWw7XG59XG5mdW5jdGlvbiBpc0Jsb2NrZWQobm9kZSwgYmxvY2tDbGFzcywgYmxvY2tTZWxlY3RvciwgdW5ibG9ja1NlbGVjdG9yLCBjaGVja0FuY2VzdG9ycykge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGVsID0gY2xvc2VzdEVsZW1lbnRPZk5vZGUobm9kZSk7XG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGJsb2NrZWRQcmVkaWNhdGUgPSBjcmVhdGVNYXRjaFByZWRpY2F0ZShibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yKTtcbiAgICBpZiAoIWNoZWNrQW5jZXN0b3JzKSB7XG4gICAgICAgIGNvbnN0IGlzVW5ibG9ja2VkID0gdW5ibG9ja1NlbGVjdG9yICYmIGVsLm1hdGNoZXModW5ibG9ja1NlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGJsb2NrZWRQcmVkaWNhdGUoZWwpICYmICFpc1VuYmxvY2tlZDtcbiAgICB9XG4gICAgY29uc3QgYmxvY2tEaXN0YW5jZSA9IGRpc3RhbmNlVG9NYXRjaChlbCwgYmxvY2tlZFByZWRpY2F0ZSk7XG4gICAgbGV0IHVuYmxvY2tEaXN0YW5jZSA9IC0xO1xuICAgIGlmIChibG9ja0Rpc3RhbmNlIDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh1bmJsb2NrU2VsZWN0b3IpIHtcbiAgICAgICAgdW5ibG9ja0Rpc3RhbmNlID0gZGlzdGFuY2VUb01hdGNoKGVsLCBjcmVhdGVNYXRjaFByZWRpY2F0ZShudWxsLCB1bmJsb2NrU2VsZWN0b3IpKTtcbiAgICB9XG4gICAgaWYgKGJsb2NrRGlzdGFuY2UgPiAtMSAmJiB1bmJsb2NrRGlzdGFuY2UgPCAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gYmxvY2tEaXN0YW5jZSA8IHVuYmxvY2tEaXN0YW5jZTtcbn1cbmNvbnN0IGNhY2hlZEltcGxlbWVudGF0aW9ucyA9IHt9O1xuZnVuY3Rpb24gZ2V0SW1wbGVtZW50YXRpb24obmFtZSkge1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlZEltcGxlbWVudGF0aW9uc1tuYW1lXTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIGxldCBpbXBsID0gd2luZG93W25hbWVdO1xuICAgIGlmIChkb2N1bWVudCAmJiB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2FuZGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgICAgICAgc2FuZGJveC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzYW5kYm94KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRXaW5kb3cgPSBzYW5kYm94LmNvbnRlbnRXaW5kb3c7XG4gICAgICAgICAgICBpZiAoY29udGVudFdpbmRvdyAmJiBjb250ZW50V2luZG93W25hbWVdKSB7XG4gICAgICAgICAgICAgICAgaW1wbCA9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaW5kb3dbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHNhbmRib3gpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChjYWNoZWRJbXBsZW1lbnRhdGlvbnNbbmFtZV0gPSBpbXBsLmJpbmQod2luZG93KSk7XG59XG5mdW5jdGlvbiBvblJlcXVlc3RBbmltYXRpb25GcmFtZSguLi5yZXN0KSB7XG4gICAgcmV0dXJuIGdldEltcGxlbWVudGF0aW9uKCdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnKSguLi5yZXN0KTtcbn1cbmZ1bmN0aW9uIHNldFRpbWVvdXQoLi4ucmVzdCkge1xuICAgIHJldHVybiBnZXRJbXBsZW1lbnRhdGlvbignc2V0VGltZW91dCcpKC4uLnJlc3QpO1xufVxuXG52YXIgQ2FudmFzQ29udGV4dCA9IC8qIEBfX1BVUkVfXyAqLyAoKENhbnZhc0NvbnRleHQyKSA9PiB7XG4gIENhbnZhc0NvbnRleHQyW0NhbnZhc0NvbnRleHQyW1wiMkRcIl0gPSAwXSA9IFwiMkRcIjtcbiAgQ2FudmFzQ29udGV4dDJbQ2FudmFzQ29udGV4dDJbXCJXZWJHTFwiXSA9IDFdID0gXCJXZWJHTFwiO1xuICBDYW52YXNDb250ZXh0MltDYW52YXNDb250ZXh0MltcIldlYkdMMlwiXSA9IDJdID0gXCJXZWJHTDJcIjtcbiAgcmV0dXJuIENhbnZhc0NvbnRleHQyO1xufSkoQ2FudmFzQ29udGV4dCB8fCB7fSk7XG5cbmxldCBlcnJvckhhbmRsZXI7XG5mdW5jdGlvbiByZWdpc3RlckVycm9ySGFuZGxlcihoYW5kbGVyKSB7XG4gICAgZXJyb3JIYW5kbGVyID0gaGFuZGxlcjtcbn1cbmNvbnN0IGNhbGxiYWNrV3JhcHBlciA9IChjYikgPT4ge1xuICAgIGlmICghZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBjYjtcbiAgICB9XG4gICAgY29uc3QgcnJ3ZWJXcmFwcGVkID0gKCguLi5yZXN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoLi4ucmVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3JIYW5kbGVyICYmIGVycm9ySGFuZGxlcihlcnJvcikgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBycndlYldyYXBwZWQ7XG59O1xuXG4vKlxuICogYmFzZTY0LWFycmF5YnVmZmVyIDEuMC4xIDxodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvYmFzZTY0LWFycmF5YnVmZmVyPlxuICogQ29weXJpZ2h0IChjKSAyMDIxIE5pa2xhcyB2b24gSGVydHplbiA8aHR0cHM6Ly9oZXJ0emVuLmNvbT5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlXG4gKi9cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbnZhciBsb29rdXAgPSB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyBbXSA6IG5ldyBVaW50OEFycmF5KDI1Nik7XG5mb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbG9va3VwW2NoYXJzLmNoYXJDb2RlQXQoaSldID0gaTtcbn1cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiAoYXJyYXlidWZmZXIpIHtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlciksIGksIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gJyc7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSAzKSB7XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpXSA+PiAyXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaV0gJiAzKSA8PCA0KSB8IChieXRlc1tpICsgMV0gPj4gNCldO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpICsgMV0gJiAxNSkgPDwgMikgfCAoYnl0ZXNbaSArIDJdID4+IDYpXTtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kgKyAyXSAmIDYzXTtcbiAgICB9XG4gICAgaWYgKGxlbiAlIDMgPT09IDIpIHtcbiAgICAgICAgYmFzZTY0ID0gYmFzZTY0LnN1YnN0cmluZygwLCBiYXNlNjQubGVuZ3RoIC0gMSkgKyAnPSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxlbiAlIDMgPT09IDEpIHtcbiAgICAgICAgYmFzZTY0ID0gYmFzZTY0LnN1YnN0cmluZygwLCBiYXNlNjQubGVuZ3RoIC0gMikgKyAnPT0nO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTY0O1xufTtcblxuY29uc3QgY2FudmFzVmFyTWFwID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gdmFyaWFibGVMaXN0Rm9yKGN0eCwgY3Rvcikge1xuICAgIGxldCBjb250ZXh0TWFwID0gY2FudmFzVmFyTWFwLmdldChjdHgpO1xuICAgIGlmICghY29udGV4dE1hcCkge1xuICAgICAgICBjb250ZXh0TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBjYW52YXNWYXJNYXAuc2V0KGN0eCwgY29udGV4dE1hcCk7XG4gICAgfVxuICAgIGlmICghY29udGV4dE1hcC5oYXMoY3RvcikpIHtcbiAgICAgICAgY29udGV4dE1hcC5zZXQoY3RvciwgW10pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dE1hcC5nZXQoY3Rvcik7XG59XG5jb25zdCBzYXZlV2ViR0xWYXIgPSAodmFsdWUsIHdpbiwgY3R4KSA9PiB7XG4gICAgaWYgKCF2YWx1ZSB8fFxuICAgICAgICAhKGlzSW5zdGFuY2VPZldlYkdMT2JqZWN0KHZhbHVlLCB3aW4pIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgbmFtZSA9IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgY29uc3QgbGlzdCA9IHZhcmlhYmxlTGlzdEZvcihjdHgsIG5hbWUpO1xuICAgIGxldCBpbmRleCA9IGxpc3QuaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBpbmRleCA9IGxpc3QubGVuZ3RoO1xuICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59O1xuZnVuY3Rpb24gc2VyaWFsaXplQXJnKHZhbHVlLCB3aW4sIGN0eCkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5tYXAoKGFyZykgPT4gc2VyaWFsaXplQXJnKGFyZywgd2luLCBjdHgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSB8fFxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSB8fFxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIEludDMyQXJyYXkgfHxcbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSB8fFxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHxcbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBVaW50MTZBcnJheSB8fFxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIEludDE2QXJyYXkgfHxcbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBJbnQ4QXJyYXkgfHxcbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJyX3R5cGU6IG5hbWUsXG4gICAgICAgICAgICBhcmdzOiBbT2JqZWN0LnZhbHVlcyh2YWx1ZSldLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUodmFsdWUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcnJfdHlwZTogbmFtZSxcbiAgICAgICAgICAgIGJhc2U2NCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRhVmlldykge1xuICAgICAgICBjb25zdCBuYW1lID0gdmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJyX3R5cGU6IG5hbWUsXG4gICAgICAgICAgICBhcmdzOiBbXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplQXJnKHZhbHVlLmJ1ZmZlciwgd2luLCBjdHgpLFxuICAgICAgICAgICAgICAgIHZhbHVlLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICAgICAgdmFsdWUuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgY29uc3QgeyBzcmMgfSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcnJfdHlwZTogbmFtZSxcbiAgICAgICAgICAgIHNyYyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICBjb25zdCBuYW1lID0gJ0hUTUxJbWFnZUVsZW1lbnQnO1xuICAgICAgICBjb25zdCBzcmMgPSB2YWx1ZS50b0RhdGFVUkwoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJyX3R5cGU6IG5hbWUsXG4gICAgICAgICAgICBzcmMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgSW1hZ2VEYXRhKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcnJfdHlwZTogbmFtZSxcbiAgICAgICAgICAgIGFyZ3M6IFtzZXJpYWxpemVBcmcodmFsdWUuZGF0YSwgd2luLCBjdHgpLCB2YWx1ZS53aWR0aCwgdmFsdWUuaGVpZ2h0XSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNJbnN0YW5jZU9mV2ViR0xPYmplY3QodmFsdWUsIHdpbikgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCBuYW1lID0gdmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBzYXZlV2ViR0xWYXIodmFsdWUsIHdpbiwgY3R4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJyX3R5cGU6IG5hbWUsXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHNlcmlhbGl6ZUFyZ3MgPSAoYXJncywgd2luLCBjdHgpID0+IHtcbiAgICByZXR1cm4gYXJncy5tYXAoKGFyZykgPT4gc2VyaWFsaXplQXJnKGFyZywgd2luLCBjdHgpKTtcbn07XG5jb25zdCBpc0luc3RhbmNlT2ZXZWJHTE9iamVjdCA9ICh2YWx1ZSwgd2luKSA9PiB7XG4gICAgY29uc3Qgd2ViR0xDb25zdHJ1Y3Rvck5hbWVzID0gW1xuICAgICAgICAnV2ViR0xBY3RpdmVJbmZvJyxcbiAgICAgICAgJ1dlYkdMQnVmZmVyJyxcbiAgICAgICAgJ1dlYkdMRnJhbWVidWZmZXInLFxuICAgICAgICAnV2ViR0xQcm9ncmFtJyxcbiAgICAgICAgJ1dlYkdMUmVuZGVyYnVmZmVyJyxcbiAgICAgICAgJ1dlYkdMU2hhZGVyJyxcbiAgICAgICAgJ1dlYkdMU2hhZGVyUHJlY2lzaW9uRm9ybWF0JyxcbiAgICAgICAgJ1dlYkdMVGV4dHVyZScsXG4gICAgICAgICdXZWJHTFVuaWZvcm1Mb2NhdGlvbicsXG4gICAgICAgICdXZWJHTFZlcnRleEFycmF5T2JqZWN0JyxcbiAgICAgICAgJ1dlYkdMVmVydGV4QXJyYXlPYmplY3RPRVMnLFxuICAgIF07XG4gICAgY29uc3Qgc3VwcG9ydGVkV2ViR0xDb25zdHJ1Y3Rvck5hbWVzID0gd2ViR0xDb25zdHJ1Y3Rvck5hbWVzLmZpbHRlcigobmFtZSkgPT4gdHlwZW9mIHdpbltuYW1lXSA9PT0gJ2Z1bmN0aW9uJyk7XG4gICAgcmV0dXJuIEJvb2xlYW4oc3VwcG9ydGVkV2ViR0xDb25zdHJ1Y3Rvck5hbWVzLmZpbmQoKG5hbWUpID0+IHZhbHVlIGluc3RhbmNlb2Ygd2luW25hbWVdKSk7XG59O1xuXG5mdW5jdGlvbiBpbml0Q2FudmFzMkRNdXRhdGlvbk9ic2VydmVyKGNiLCB3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3Rvcikge1xuICAgIGNvbnN0IGhhbmRsZXJzID0gW107XG4gICAgY29uc3QgcHJvcHMyRCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbi5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMyRCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW4uQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZVtwcm9wXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdG9yZUhhbmRsZXIgPSBwYXRjaCh3aW4uQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZSwgcHJvcCwgZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNCbG9ja2VkKHRoaXMuY2FudmFzLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWNvcmRBcmdzID0gc2VyaWFsaXplQXJncyhhcmdzLCB3aW4sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiKHRoaXMuY2FudmFzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IENhbnZhc0NvbnRleHRbJzJEJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiByZWNvcmRBcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnB1c2gocmVzdG9yZUhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zdCBob29rSGFuZGxlciA9IGhvb2tTZXR0ZXIod2luLkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUsIHByb3AsIHtcbiAgICAgICAgICAgICAgICBzZXQodikge1xuICAgICAgICAgICAgICAgICAgICBjYih0aGlzLmNhbnZhcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQ2FudmFzQ29udGV4dFsnMkQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW3ZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYW5kbGVycy5wdXNoKGhvb2tIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBoYW5kbGVycy5mb3JFYWNoKChoKSA9PiBoKCkpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRDb250ZXh0TmFtZShjb250ZXh0VHlwZSkge1xuICAgIHJldHVybiBjb250ZXh0VHlwZSA9PT0gJ2V4cGVyaW1lbnRhbC13ZWJnbCcgPyAnd2ViZ2wnIDogY29udGV4dFR5cGU7XG59XG5mdW5jdGlvbiBpbml0Q2FudmFzQ29udGV4dE9ic2VydmVyKHdpbiwgYmxvY2tDbGFzcywgYmxvY2tTZWxlY3RvciwgdW5ibG9ja1NlbGVjdG9yLCBzZXRQcmVzZXJ2ZURyYXdpbmdCdWZmZXJUb1RydWUpIHtcbiAgICBjb25zdCBoYW5kbGVycyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3RvcmVIYW5kbGVyID0gcGF0Y2god2luLkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZSwgJ2dldENvbnRleHQnLCBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dFR5cGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQmxvY2tlZCh0aGlzLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN0eE5hbWUgPSBnZXROb3JtYWxpemVkQ29udGV4dE5hbWUoY29udGV4dFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISgnX19jb250ZXh0JyBpbiB0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX19jb250ZXh0ID0gY3R4TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldFByZXNlcnZlRHJhd2luZ0J1ZmZlclRvVHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgWyd3ZWJnbCcsICd3ZWJnbDInXS5pbmNsdWRlcyhjdHhOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3NbMF0gJiYgdHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGV4dEF0dHJpYnV0ZXMgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29udGV4dEF0dHJpYnV0ZXMucHJlc2VydmVEcmF3aW5nQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRBdHRyaWJ1dGVzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5zcGxpY2UoMCwgMSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIFtjb250ZXh0VHlwZSwgLi4uYXJnc10pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZXJzLnB1c2gocmVzdG9yZUhhbmRsZXIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdmYWlsZWQgdG8gcGF0Y2ggSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQnKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaGFuZGxlcnMuZm9yRWFjaCgoaCkgPT4gaCgpKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBwYXRjaEdMUHJvdG90eXBlKHByb3RvdHlwZSwgdHlwZSwgY2IsIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgbWlycm9yLCB3aW4pIHtcbiAgICBjb25zdCBoYW5kbGVycyA9IFtdO1xuICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG90eXBlKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMpIHtcbiAgICAgICAgaWYgKFtcbiAgICAgICAgICAgICdpc0NvbnRleHRMb3N0JyxcbiAgICAgICAgICAgICdjYW52YXMnLFxuICAgICAgICAgICAgJ2RyYXdpbmdCdWZmZXJXaWR0aCcsXG4gICAgICAgICAgICAnZHJhd2luZ0J1ZmZlckhlaWdodCcsXG4gICAgICAgIF0uaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3RvdHlwZVtwcm9wXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzdG9yZUhhbmRsZXIgPSBwYXRjaChwcm90b3R5cGUsIHByb3AsIGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZVdlYkdMVmFyKHJlc3VsdCwgd2luLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCd0YWdOYW1lJyBpbiB0aGlzLmNhbnZhcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzQmxvY2tlZCh0aGlzLmNhbnZhcywgYmxvY2tDbGFzcywgYmxvY2tTZWxlY3RvciwgdW5ibG9ja1NlbGVjdG9yLCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkQXJncyA9IHNlcmlhbGl6ZUFyZ3MoYXJncywgd2luLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG11dGF0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogcmVjb3JkQXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYih0aGlzLmNhbnZhcywgbXV0YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFuZGxlcnMucHVzaChyZXN0b3JlSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2tIYW5kbGVyID0gaG9va1NldHRlcihwcm90b3R5cGUsIHByb3AsIHtcbiAgICAgICAgICAgICAgICBzZXQodikge1xuICAgICAgICAgICAgICAgICAgICBjYih0aGlzLmNhbnZhcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogW3ZdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoYW5kbGVycy5wdXNoKGhvb2tIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlcnM7XG59XG5mdW5jdGlvbiBpbml0Q2FudmFzV2ViR0xNdXRhdGlvbk9ic2VydmVyKGNiLCB3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgbWlycm9yKSB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBbXTtcbiAgICBoYW5kbGVycy5wdXNoKC4uLnBhdGNoR0xQcm90b3R5cGUod2luLldlYkdMUmVuZGVyaW5nQ29udGV4dC5wcm90b3R5cGUsIENhbnZhc0NvbnRleHQuV2ViR0wsIGNiLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIG1pcnJvciwgd2luKSk7XG4gICAgaWYgKHR5cGVvZiB3aW4uV2ViR0wyUmVuZGVyaW5nQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaGFuZGxlcnMucHVzaCguLi5wYXRjaEdMUHJvdG90eXBlKHdpbi5XZWJHTDJSZW5kZXJpbmdDb250ZXh0LnByb3RvdHlwZSwgQ2FudmFzQ29udGV4dC5XZWJHTDIsIGNiLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIG1pcnJvciwgd2luKSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGhhbmRsZXJzLmZvckVhY2goKGgpID0+IGgoKSk7XG4gICAgfTtcbn1cblxudmFyIHIgPSBgZm9yKHZhciBlPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLHQ9XCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQ4QXJyYXk/W106bmV3IFVpbnQ4QXJyYXkoMjU2KSxhPTA7YTw2NDthKyspdFtlLmNoYXJDb2RlQXQoYSldPWE7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGEsbj1uZXcgVWludDhBcnJheSh0KSxyPW4ubGVuZ3RoLHM9XCJcIjtmb3IoYT0wO2E8cjthKz0zKXMrPWVbblthXT4+Ml0scys9ZVsoMyZuW2FdKTw8NHxuW2ErMV0+PjRdLHMrPWVbKDE1Jm5bYSsxXSk8PDJ8blthKzJdPj42XSxzKz1lWzYzJm5bYSsyXV07cmV0dXJuIHIlMz09Mj9zPXMuc3Vic3RyaW5nKDAscy5sZW5ndGgtMSkrXCI9XCI6ciUzPT0xJiYocz1zLnN1YnN0cmluZygwLHMubGVuZ3RoLTIpK1wiPT1cIiksc307Y29uc3Qgcj1uZXcgTWFwLHM9bmV3IE1hcDtjb25zdCBpPXNlbGY7aS5vbm1lc3NhZ2U9YXN5bmMgZnVuY3Rpb24oZSl7aWYoIShcIk9mZnNjcmVlbkNhbnZhc1wiaW4gZ2xvYmFsVGhpcykpcmV0dXJuIGkucG9zdE1lc3NhZ2Uoe2lkOmUuZGF0YS5pZH0pO3tjb25zdHtpZDp0LGJpdG1hcDphLHdpZHRoOm8saGVpZ2h0OmYsbWF4Q2FudmFzU2l6ZTpjLGRhdGFVUkxPcHRpb25zOmd9PWUuZGF0YSx1PWFzeW5jIGZ1bmN0aW9uKGUsdCxhKXtjb25zdCByPWUrXCItXCIrdDtpZihcIk9mZnNjcmVlbkNhbnZhc1wiaW4gZ2xvYmFsVGhpcyl7aWYocy5oYXMocikpcmV0dXJuIHMuZ2V0KHIpO2NvbnN0IGk9bmV3IE9mZnNjcmVlbkNhbnZhcyhlLHQpO2kuZ2V0Q29udGV4dChcIjJkXCIpO2NvbnN0IG89YXdhaXQgaS5jb252ZXJ0VG9CbG9iKGEpLGY9YXdhaXQgby5hcnJheUJ1ZmZlcigpLGM9bihmKTtyZXR1cm4gcy5zZXQocixjKSxjfXJldHVyblwiXCJ9KG8sZixnKSxbaCxkXT1mdW5jdGlvbihlLHQsYSl7aWYoIWEpcmV0dXJuW2UsdF07Y29uc3RbbixyXT1hO2lmKGU8PW4mJnQ8PXIpcmV0dXJuW2UsdF07bGV0IHM9ZSxpPXQ7cmV0dXJuIHM+biYmKGk9TWF0aC5mbG9vcihuKnQvZSkscz1uKSxpPnImJihzPU1hdGguZmxvb3IociplL3QpLGk9ciksW3MsaV19KG8sZixjKSxsPW5ldyBPZmZzY3JlZW5DYW52YXMoaCxkKSx3PWwuZ2V0Q29udGV4dChcImJpdG1hcHJlbmRlcmVyXCIpLHA9aD09PW8mJmQ9PT1mP2E6YXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAoYSx7cmVzaXplV2lkdGg6aCxyZXNpemVIZWlnaHQ6ZCxyZXNpemVRdWFsaXR5OlwibG93XCJ9KTt3LnRyYW5zZmVyRnJvbUltYWdlQml0bWFwKHApLGEuY2xvc2UoKTtjb25zdCB5PWF3YWl0IGwuY29udmVydFRvQmxvYihnKSx2PXkudHlwZSxiPWF3YWl0IHkuYXJyYXlCdWZmZXIoKSxtPW4oYik7aWYocC5jbG9zZSgpLCFyLmhhcyh0KSYmYXdhaXQgdT09PW0pcmV0dXJuIHIuc2V0KHQsbSksaS5wb3N0TWVzc2FnZSh7aWQ6dH0pO2lmKHIuZ2V0KHQpPT09bSlyZXR1cm4gaS5wb3N0TWVzc2FnZSh7aWQ6dH0pO2kucG9zdE1lc3NhZ2Uoe2lkOnQsdHlwZTp2LGJhc2U2NDptLHdpZHRoOm8saGVpZ2h0OmZ9KSxyLnNldCh0LG0pfX07YDtcblxuZnVuY3Rpb24gdCgpe2NvbnN0IHQ9bmV3IEJsb2IoW3JdKTtyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTCh0KX1cblxuY2xhc3MgQ2FudmFzTWFuYWdlciB7XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ0NhbnZhc011dGF0aW9ucy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJlc2V0T2JzZXJ2ZXJzICYmIHRoaXMucmVzZXRPYnNlcnZlcnMoKTtcbiAgICB9XG4gICAgZnJlZXplKCkge1xuICAgICAgICB0aGlzLmZyb3plbiA9IHRydWU7XG4gICAgfVxuICAgIHVuZnJlZXplKCkge1xuICAgICAgICB0aGlzLmZyb3plbiA9IGZhbHNlO1xuICAgIH1cbiAgICBsb2NrKCkge1xuICAgICAgICB0aGlzLmxvY2tlZCA9IHRydWU7XG4gICAgfVxuICAgIHVubG9jaygpIHtcbiAgICAgICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLnBlbmRpbmdDYW52YXNNdXRhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucmFmU3RhbXBzID0geyBsYXRlc3RJZDogMCwgaW52b2tlSWQ6IG51bGwgfTtcbiAgICAgICAgdGhpcy5mcm96ZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzTXV0YXRpb24gPSAodGFyZ2V0LCBtdXRhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJhbWUgPSB0aGlzLnJhZlN0YW1wcy5pbnZva2VJZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucmFmU3RhbXBzLmxhdGVzdElkICE9PSB0aGlzLnJhZlN0YW1wcy5pbnZva2VJZDtcbiAgICAgICAgICAgIGlmIChuZXdGcmFtZSB8fCAhdGhpcy5yYWZTdGFtcHMuaW52b2tlSWQpXG4gICAgICAgICAgICAgICAgdGhpcy5yYWZTdGFtcHMuaW52b2tlSWQgPSB0aGlzLnJhZlN0YW1wcy5sYXRlc3RJZDtcbiAgICAgICAgICAgIGlmICghdGhpcy5wZW5kaW5nQ2FudmFzTXV0YXRpb25zLmhhcyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2FudmFzTXV0YXRpb25zLnNldCh0YXJnZXQsIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NhbnZhc011dGF0aW9ucy5nZXQodGFyZ2V0KS5wdXNoKG11dGF0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBzYW1wbGluZyA9ICdhbGwnLCB3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgbWF4Q2FudmFzU2l6ZSwgcmVjb3JkQ2FudmFzLCBkYXRhVVJMT3B0aW9ucywgZXJyb3JIYW5kbGVyLCB9ID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5tdXRhdGlvbkNiID0gb3B0aW9ucy5tdXRhdGlvbkNiO1xuICAgICAgICB0aGlzLm1pcnJvciA9IG9wdGlvbnMubWlycm9yO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICByZWdpc3RlckVycm9ySGFuZGxlcihlcnJvckhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVuYWJsZU1hbnVhbFNuYXBzaG90KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2tXcmFwcGVyKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZWNvcmRDYW52YXMgJiYgc2FtcGxpbmcgPT09ICdhbGwnKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdENhbnZhc011dGF0aW9uT2JzZXJ2ZXIod2luLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKHJlY29yZENhbnZhcyAmJiB0eXBlb2Ygc2FtcGxpbmcgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdENhbnZhc0ZQU09ic2VydmVyKHNhbXBsaW5nLCB3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgbWF4Q2FudmFzU2l6ZSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhVVJMT3B0aW9ucyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgaW5pdENhbnZhc0ZQU09ic2VydmVyKGZwcywgd2luLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIG1heENhbnZhc1NpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY2FudmFzQ29udGV4dFJlc2V0ID0gaW5pdENhbnZhc0NvbnRleHRPYnNlcnZlcih3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHJhZklkID0gdGhpcy50YWtlU25hcHNob3QoZmFsc2UsIGZwcywgd2luLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIG1heENhbnZhc1NpemUsIG9wdGlvbnMuZGF0YVVSTE9wdGlvbnMpO1xuICAgICAgICB0aGlzLnJlc2V0T2JzZXJ2ZXJzID0gKCkgPT4ge1xuICAgICAgICAgICAgY2FudmFzQ29udGV4dFJlc2V0KCk7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGluaXRDYW52YXNNdXRhdGlvbk9ic2VydmVyKHdpbiwgYmxvY2tDbGFzcywgYmxvY2tTZWxlY3RvciwgdW5ibG9ja1NlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuc3RhcnRSQUZUaW1lc3RhbXBpbmcoKTtcbiAgICAgICAgdGhpcy5zdGFydFBlbmRpbmdDYW52YXNNdXRhdGlvbkZsdXNoZXIoKTtcbiAgICAgICAgY29uc3QgY2FudmFzQ29udGV4dFJlc2V0ID0gaW5pdENhbnZhc0NvbnRleHRPYnNlcnZlcih3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgZmFsc2UpO1xuICAgICAgICBjb25zdCBjYW52YXMyRFJlc2V0ID0gaW5pdENhbnZhczJETXV0YXRpb25PYnNlcnZlcih0aGlzLnByb2Nlc3NNdXRhdGlvbi5iaW5kKHRoaXMpLCB3aW4sIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IGNhbnZhc1dlYkdMMWFuZDJSZXNldCA9IGluaXRDYW52YXNXZWJHTE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5wcm9jZXNzTXV0YXRpb24uYmluZCh0aGlzKSwgd2luLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIHRoaXMubWlycm9yKTtcbiAgICAgICAgdGhpcy5yZXNldE9ic2VydmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHRSZXNldCgpO1xuICAgICAgICAgICAgY2FudmFzMkRSZXNldCgpO1xuICAgICAgICAgICAgY2FudmFzV2ViR0wxYW5kMlJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHNuYXBzaG90KGNhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCByYWZJZCA9IHRoaXMudGFrZVNuYXBzaG90KHRydWUsIG9wdGlvbnMuc2FtcGxpbmcgPT09ICdhbGwnID8gMiA6IG9wdGlvbnMuc2FtcGxpbmcgfHwgMiwgb3B0aW9ucy53aW4sIG9wdGlvbnMuYmxvY2tDbGFzcywgb3B0aW9ucy5ibG9ja1NlbGVjdG9yLCBvcHRpb25zLnVuYmxvY2tTZWxlY3Rvciwgb3B0aW9ucy5tYXhDYW52YXNTaXplLCBvcHRpb25zLmRhdGFVUkxPcHRpb25zLCBjYW52YXNFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yZXNldE9ic2VydmVycyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZklkKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGFrZVNuYXBzaG90KGlzTWFudWFsU25hcHNob3QsIGZwcywgd2luLCBibG9ja0NsYXNzLCBibG9ja1NlbGVjdG9yLCB1bmJsb2NrU2VsZWN0b3IsIG1heENhbnZhc1NpemUsIGRhdGFVUkxPcHRpb25zLCBjYW52YXNFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90SW5Qcm9ncmVzc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcih0KCkpO1xuICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBlLmRhdGE7XG4gICAgICAgICAgICBjb25zdCB7IGlkIH0gPSBkYXRhO1xuICAgICAgICAgICAgc25hcHNob3RJblByb2dyZXNzTWFwLnNldChpZCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKCEoJ2Jhc2U2NCcgaW4gZGF0YSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBiYXNlNjQsIHR5cGUsIHdpZHRoLCBoZWlnaHQgfSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uQ2Ioe1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IENhbnZhc0NvbnRleHRbJzJEJ10sXG4gICAgICAgICAgICAgICAgY29tbWFuZHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6ICdjbGVhclJlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogWzAsIDAsIHdpZHRoLCBoZWlnaHRdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogJ2RyYXdJbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBycl90eXBlOiAnSW1hZ2VCaXRtYXAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnJfdHlwZTogJ0Jsb2InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFt7IHJyX3R5cGU6ICdBcnJheUJ1ZmZlcicsIGJhc2U2NCB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGltZUJldHdlZW5TbmFwc2hvdHMgPSAxMDAwIC8gZnBzO1xuICAgICAgICBsZXQgbGFzdFNuYXBzaG90VGltZSA9IDA7XG4gICAgICAgIGxldCByYWZJZDtcbiAgICAgICAgY29uc3QgZ2V0Q2FudmFzID0gKGNhbnZhc0VsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChjYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjYW52YXNFbGVtZW50XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRDYW52YXMgPSBbXTtcbiAgICAgICAgICAgIHdpbi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdjYW52YXMnKS5mb3JFYWNoKChjYW52YXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQmxvY2tlZChjYW52YXMsIGJsb2NrQ2xhc3MsIGJsb2NrU2VsZWN0b3IsIHVuYmxvY2tTZWxlY3RvciwgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZENhbnZhcy5wdXNoKGNhbnZhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlZENhbnZhcztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGFrZUNhbnZhc1NuYXBzaG90cyA9ICh0aW1lc3RhbXApID0+IHtcbiAgICAgICAgICAgIGlmIChsYXN0U25hcHNob3RUaW1lICYmXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wIC0gbGFzdFNuYXBzaG90VGltZSA8IHRpbWVCZXR3ZWVuU25hcHNob3RzKSB7XG4gICAgICAgICAgICAgICAgcmFmSWQgPSBvblJlcXVlc3RBbmltYXRpb25GcmFtZSh0YWtlQ2FudmFzU25hcHNob3RzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U25hcHNob3RUaW1lID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgZ2V0Q2FudmFzKGNhbnZhc0VsZW1lbnQpLmZvckVhY2goKGNhbnZhcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5taXJyb3IuZ2V0SWQoY2FudmFzKTtcbiAgICAgICAgICAgICAgICBpZiAoc25hcHNob3RJblByb2dyZXNzTWFwLmdldChpZCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoIWNhbnZhcy53aWR0aCB8fCAhY2FudmFzLmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNuYXBzaG90SW5Qcm9ncmVzc01hcC5zZXQoaWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICghaXNNYW51YWxTbmFwc2hvdCAmJlxuICAgICAgICAgICAgICAgICAgICBbJ3dlYmdsJywgJ3dlYmdsMiddLmluY2x1ZGVzKGNhbnZhcy5fX2NvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChjYW52YXMuX19jb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9vcHRpb25hbENoYWluKFtjb250ZXh0LCAnb3B0aW9uYWxBY2Nlc3MnLCBfID0+IF8uZ2V0Q29udGV4dEF0dHJpYnV0ZXMsICdjYWxsJywgXzIgPT4gXzIoKSwgJ29wdGlvbmFsQWNjZXNzJywgXzMgPT4gXzMucHJlc2VydmVEcmF3aW5nQnVmZmVyXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNsZWFyKGNvbnRleHQuQ09MT1JfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3JlYXRlSW1hZ2VCaXRtYXAoY2FudmFzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoYml0bWFwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVVJMT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENhbnZhc1NpemUsXG4gICAgICAgICAgICAgICAgICAgIH0sIFtiaXRtYXBdKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrV3JhcHBlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmFmSWQgPSBvblJlcXVlc3RBbmltYXRpb25GcmFtZSh0YWtlQ2FudmFzU25hcHNob3RzKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmFmSWQgPSBvblJlcXVlc3RBbmltYXRpb25GcmFtZSh0YWtlQ2FudmFzU25hcHNob3RzKTtcbiAgICAgICAgcmV0dXJuIHJhZklkO1xuICAgIH1cbiAgICBzdGFydFBlbmRpbmdDYW52YXNNdXRhdGlvbkZsdXNoZXIoKSB7XG4gICAgICAgIG9uUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuZmx1c2hQZW5kaW5nQ2FudmFzTXV0YXRpb25zKCkpO1xuICAgIH1cbiAgICBzdGFydFJBRlRpbWVzdGFtcGluZygpIHtcbiAgICAgICAgY29uc3Qgc2V0TGF0ZXN0UkFGVGltZXN0YW1wID0gKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yYWZTdGFtcHMubGF0ZXN0SWQgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICBvblJlcXVlc3RBbmltYXRpb25GcmFtZShzZXRMYXRlc3RSQUZUaW1lc3RhbXApO1xuICAgICAgICB9O1xuICAgICAgICBvblJlcXVlc3RBbmltYXRpb25GcmFtZShzZXRMYXRlc3RSQUZUaW1lc3RhbXApO1xuICAgIH1cbiAgICBmbHVzaFBlbmRpbmdDYW52YXNNdXRhdGlvbnMoKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ0NhbnZhc011dGF0aW9ucy5mb3JFYWNoKCh2YWx1ZXMsIGNhbnZhcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLm1pcnJvci5nZXRJZChjYW52YXMpO1xuICAgICAgICAgICAgdGhpcy5mbHVzaFBlbmRpbmdDYW52YXNNdXRhdGlvbkZvcihjYW52YXMsIGlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG9uUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuZmx1c2hQZW5kaW5nQ2FudmFzTXV0YXRpb25zKCkpO1xuICAgIH1cbiAgICBmbHVzaFBlbmRpbmdDYW52YXNNdXRhdGlvbkZvcihjYW52YXMsIGlkKSB7XG4gICAgICAgIGlmICh0aGlzLmZyb3plbiB8fCB0aGlzLmxvY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlc1dpdGhUeXBlID0gdGhpcy5wZW5kaW5nQ2FudmFzTXV0YXRpb25zLmdldChjYW52YXMpO1xuICAgICAgICBpZiAoIXZhbHVlc1dpdGhUeXBlIHx8IGlkID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWVzV2l0aFR5cGUubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCAuLi5yZXN0IH0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiByZXN0O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyB0eXBlIH0gPSB2YWx1ZXNXaXRoVHlwZVswXTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbkNiKHsgaWQsIHR5cGUsIGNvbW1hbmRzOiB2YWx1ZXMgfSk7XG4gICAgICAgIHRoaXMucGVuZGluZ0NhbnZhc011dGF0aW9ucy5kZWxldGUoY2FudmFzKTtcbiAgICB9XG59XG5cbmNvbnN0IENBTlZBU19RVUFMSVRZID0ge1xuICBsb3c6IHtcbiAgICBzYW1wbGluZzoge1xuICAgICAgY2FudmFzOiAxLFxuICAgIH0sXG4gICAgZGF0YVVSTE9wdGlvbnM6IHtcbiAgICAgIHR5cGU6ICdpbWFnZS93ZWJwJyxcbiAgICAgIHF1YWxpdHk6IDAuMjUsXG4gICAgfSxcbiAgfSxcbiAgbWVkaXVtOiB7XG4gICAgc2FtcGxpbmc6IHtcbiAgICAgIGNhbnZhczogMixcbiAgICB9LFxuICAgIGRhdGFVUkxPcHRpb25zOiB7XG4gICAgICB0eXBlOiAnaW1hZ2Uvd2VicCcsXG4gICAgICBxdWFsaXR5OiAwLjQsXG4gICAgfSxcbiAgfSxcbiAgaGlnaDoge1xuICAgIHNhbXBsaW5nOiB7XG4gICAgICBjYW52YXM6IDQsXG4gICAgfSxcbiAgICBkYXRhVVJMT3B0aW9uczoge1xuICAgICAgdHlwZTogJ2ltYWdlL3dlYnAnLFxuICAgICAgcXVhbGl0eTogMC41LFxuICAgIH0sXG4gIH0sXG59O1xuXG5jb25zdCBJTlRFR1JBVElPTl9OQU1FID0gJ1JlcGxheUNhbnZhcyc7XG5jb25zdCBERUZBVUxUX01BWF9DQU5WQVNfU0laRSA9IDEyODA7XG5cbi8qKiBFeHBvcnRlZCBvbmx5IGZvciB0eXBlIHNhZmUgdGVzdHMuICovXG5jb25zdCBfcmVwbGF5Q2FudmFzSW50ZWdyYXRpb24gPSAoKG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBbbWF4Q2FudmFzV2lkdGgsIG1heENhbnZhc0hlaWdodF0gPSBvcHRpb25zLm1heENhbnZhc1NpemUgfHwgW107XG4gIGNvbnN0IF9jYW52YXNPcHRpb25zID0ge1xuICAgIHF1YWxpdHk6IG9wdGlvbnMucXVhbGl0eSB8fCAnbWVkaXVtJyxcbiAgICBlbmFibGVNYW51YWxTbmFwc2hvdDogb3B0aW9ucy5lbmFibGVNYW51YWxTbmFwc2hvdCxcbiAgICBtYXhDYW52YXNTaXplOiBbXG4gICAgICBtYXhDYW52YXNXaWR0aCA/IE1hdGgubWluKG1heENhbnZhc1dpZHRoLCBERUZBVUxUX01BWF9DQU5WQVNfU0laRSkgOiBERUZBVUxUX01BWF9DQU5WQVNfU0laRSxcbiAgICAgIG1heENhbnZhc0hlaWdodCA/IE1hdGgubWluKG1heENhbnZhc0hlaWdodCwgREVGQVVMVF9NQVhfQ0FOVkFTX1NJWkUpIDogREVGQVVMVF9NQVhfQ0FOVkFTX1NJWkUsXG4gICAgXSAsXG4gIH07XG5cbiAgbGV0IGNhbnZhc01hbmFnZXJSZXNvbHZlO1xuICBjb25zdCBfY2FudmFzTWFuYWdlciA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gKGNhbnZhc01hbmFnZXJSZXNvbHZlID0gcmVzb2x2ZSkpO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogSU5URUdSQVRJT05fTkFNRSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICAgc2V0dXBPbmNlKCkge30sXG4gICAgZ2V0T3B0aW9ucygpIHtcbiAgICAgIGNvbnN0IHsgcXVhbGl0eSwgZW5hYmxlTWFudWFsU25hcHNob3QsIG1heENhbnZhc1NpemUgfSA9IF9jYW52YXNPcHRpb25zO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbmFibGVNYW51YWxTbmFwc2hvdCxcbiAgICAgICAgcmVjb3JkQ2FudmFzOiB0cnVlLFxuICAgICAgICBnZXRDYW52YXNNYW5hZ2VyOiAoZ2V0Q2FudmFzTWFuYWdlck9wdGlvbnMpID0+IHtcbiAgICAgICAgICBjb25zdCBtYW5hZ2VyID0gbmV3IENhbnZhc01hbmFnZXIoe1xuICAgICAgICAgICAgLi4uZ2V0Q2FudmFzTWFuYWdlck9wdGlvbnMsXG4gICAgICAgICAgICBlbmFibGVNYW51YWxTbmFwc2hvdCxcbiAgICAgICAgICAgIG1heENhbnZhc1NpemUsXG4gICAgICAgICAgICBlcnJvckhhbmRsZXI6IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgIChlcnIgKS5fX3Jyd2ViX18gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGhlcmVcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNhbiBoYXBwZW4gaWYgdGhlIGVycm9yIGlzIGZyb3plbiBvciBkb2VzIG5vdCBhbGxvdyBtdXRhdGlvbiBmb3Igb3RoZXIgcmVhc29uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhbnZhc01hbmFnZXJSZXNvbHZlKG1hbmFnZXIpO1xuICAgICAgICAgIHJldHVybiBtYW5hZ2VyO1xuICAgICAgICB9LFxuICAgICAgICAuLi4oQ0FOVkFTX1FVQUxJVFlbcXVhbGl0eSB8fCAnbWVkaXVtJ10gfHwgQ0FOVkFTX1FVQUxJVFkubWVkaXVtKSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBhc3luYyBzbmFwc2hvdChjYW52YXNFbGVtZW50KSB7XG4gICAgICBjb25zdCBjYW52YXNNYW5hZ2VyID0gYXdhaXQgX2NhbnZhc01hbmFnZXI7XG4gICAgICBjYW52YXNNYW5hZ2VyLnNuYXBzaG90KGNhbnZhc0VsZW1lbnQpO1xuICAgIH0sXG4gIH07XG59KSA7XG5cbi8qKlxuICogQWRkIHRoaXMgaW4gYWRkaXRpb24gdG8gYHJlcGxheUludGVncmF0aW9uKClgIHRvIGVuYWJsZSBjYW52YXMgcmVjb3JkaW5nLlxuICovXG5jb25zdCByZXBsYXlDYW52YXNJbnRlZ3JhdGlvbiA9IGRlZmluZUludGVncmF0aW9uKF9yZXBsYXlDYW52YXNJbnRlZ3JhdGlvbik7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGByZXBsYXlDYW52YXNJbnRlZ3JhdGlvbigpYCBpbnN0ZWFkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuY29uc3QgUmVwbGF5Q2FudmFzID0gY29udmVydEludGVncmF0aW9uRm5Ub0NsYXNzKElOVEVHUkFUSU9OX05BTUUsIHJlcGxheUNhbnZhc0ludGVncmF0aW9uKVxuXG47XG5cbmV4cG9ydCB7IFJlcGxheUNhbnZhcywgcmVwbGF5Q2FudmFzSW50ZWdyYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/replay-canvas/esm/index.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/backgroundtab.js":
/*!*****************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/backgroundtab.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerBackgroundTabDetection: () => (/* binding */ registerBackgroundTabDetection)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/utils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/spanUtils.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/debug-build.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n\n\n\n/**\n * Add a listener that cancels and finishes a transaction when the global\n * document is hidden.\n */\nfunction registerBackgroundTabDetection() {\n  if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document) {\n    _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.addEventListener('visibilitychange', () => {\n      // eslint-disable-next-line deprecation/deprecation\n      const activeTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getActiveTransaction)() ;\n      if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.hidden && activeTransaction) {\n        const statusType = 'cancelled';\n\n        const { op, status } = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_2__.spanToJSON)(activeTransaction);\n\n        _common_debug_build_js__WEBPACK_IMPORTED_MODULE_3__.DEBUG_BUILD &&\n          _sentry_utils__WEBPACK_IMPORTED_MODULE_4__.logger.log(`[Tracing] Transaction: ${statusType} -> since tab moved to the background, op: ${op}`);\n        // We should not set status if it is already set, this prevent important statuses like\n        // error or data loss from being overwritten on transaction.\n        if (!status) {\n          activeTransaction.setStatus(statusType);\n        }\n        // TODO: Can we rewrite this to an attribute?\n        // eslint-disable-next-line deprecation/deprecation\n        activeTransaction.setTag('visibilitychange', 'document.hidden');\n        activeTransaction.end();\n      }\n    });\n  } else {\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_3__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_4__.logger.warn('[Tracing] Could not set up background tab detection due to lack of global document');\n  }\n}\n\n\n//# sourceMappingURL=backgroundtab.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9iYWNrZ3JvdW5kdGFiLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnRTtBQUN6QjtBQUNnQjtBQUNuQjs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkNBQU07QUFDWixJQUFJLDZDQUFNO0FBQ1Y7QUFDQSxnQ0FBZ0Msa0VBQW9CO0FBQ3BELFVBQVUsNkNBQU07QUFDaEI7O0FBRUEsZ0JBQWdCLGFBQWEsRUFBRSx3REFBVTs7QUFFekMsUUFBUSwrREFBVztBQUNuQixVQUFVLGlEQUFNLCtCQUErQixZQUFZLDRDQUE0QyxHQUFHO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSixJQUFJLCtEQUFXLElBQUksaURBQU07QUFDekI7QUFDQTs7QUFFMEM7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvYmFja2dyb3VuZHRhYi5qcz9hNWJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEFjdGl2ZVRyYW5zYWN0aW9uLCBzcGFuVG9KU09OIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgREVCVUdfQlVJTEQgfSBmcm9tICcuLi9jb21tb24vZGVidWctYnVpbGQuanMnO1xuaW1wb3J0IHsgV0lORE9XIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgdGhhdCBjYW5jZWxzIGFuZCBmaW5pc2hlcyBhIHRyYW5zYWN0aW9uIHdoZW4gdGhlIGdsb2JhbFxuICogZG9jdW1lbnQgaXMgaGlkZGVuLlxuICovXG5mdW5jdGlvbiByZWdpc3RlckJhY2tncm91bmRUYWJEZXRlY3Rpb24oKSB7XG4gIGlmIChXSU5ET1cuZG9jdW1lbnQpIHtcbiAgICBXSU5ET1cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsICgpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgY29uc3QgYWN0aXZlVHJhbnNhY3Rpb24gPSBnZXRBY3RpdmVUcmFuc2FjdGlvbigpIDtcbiAgICAgIGlmIChXSU5ET1cuZG9jdW1lbnQuaGlkZGVuICYmIGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1c1R5cGUgPSAnY2FuY2VsbGVkJztcblxuICAgICAgICBjb25zdCB7IG9wLCBzdGF0dXMgfSA9IHNwYW5Ub0pTT04oYWN0aXZlVHJhbnNhY3Rpb24pO1xuXG4gICAgICAgIERFQlVHX0JVSUxEICYmXG4gICAgICAgICAgbG9nZ2VyLmxvZyhgW1RyYWNpbmddIFRyYW5zYWN0aW9uOiAke3N0YXR1c1R5cGV9IC0+IHNpbmNlIHRhYiBtb3ZlZCB0byB0aGUgYmFja2dyb3VuZCwgb3A6ICR7b3B9YCk7XG4gICAgICAgIC8vIFdlIHNob3VsZCBub3Qgc2V0IHN0YXR1cyBpZiBpdCBpcyBhbHJlYWR5IHNldCwgdGhpcyBwcmV2ZW50IGltcG9ydGFudCBzdGF0dXNlcyBsaWtlXG4gICAgICAgIC8vIGVycm9yIG9yIGRhdGEgbG9zcyBmcm9tIGJlaW5nIG92ZXJ3cml0dGVuIG9uIHRyYW5zYWN0aW9uLlxuICAgICAgICBpZiAoIXN0YXR1cykge1xuICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLnNldFN0YXR1cyhzdGF0dXNUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBDYW4gd2UgcmV3cml0ZSB0aGlzIHRvIGFuIGF0dHJpYnV0ZT9cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLnNldFRhZygndmlzaWJpbGl0eWNoYW5nZScsICdkb2N1bWVudC5oaWRkZW4nKTtcbiAgICAgICAgYWN0aXZlVHJhbnNhY3Rpb24uZW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLndhcm4oJ1tUcmFjaW5nXSBDb3VsZCBub3Qgc2V0IHVwIGJhY2tncm91bmQgdGFiIGRldGVjdGlvbiBkdWUgdG8gbGFjayBvZiBnbG9iYWwgZG9jdW1lbnQnKTtcbiAgfVxufVxuXG5leHBvcnQgeyByZWdpc3RlckJhY2tncm91bmRUYWJEZXRlY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhY2tncm91bmR0YWIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/backgroundtab.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/browserTracingIntegration.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/browserTracingIntegration.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BROWSER_TRACING_INTEGRATION_ID: () => (/* binding */ BROWSER_TRACING_INTEGRATION_ID),\n/* harmony export */   browserTracingIntegration: () => (/* binding */ browserTracingIntegration),\n/* harmony export */   getMetaContent: () => (/* binding */ getMetaContent),\n/* harmony export */   startBrowserTracingNavigationSpan: () => (/* binding */ startBrowserTracingNavigationSpan),\n/* harmony export */   startBrowserTracingPageLoadSpan: () => (/* binding */ startBrowserTracingPageLoadSpan)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/idletransaction.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/hubextensions.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/hub.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/spanUtils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/semanticAttributes.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/trace.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/utils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/exports.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/tracing.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/time.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/instrument/history.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/browser.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/debug-build.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _backgroundtab_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./backgroundtab.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/backgroundtab.js\");\n/* harmony import */ var _instrument_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./instrument.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/instrument.js\");\n/* harmony import */ var _metrics_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./metrics/index.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/index.js\");\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/request.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n\n\n\n\n\n\n\nconst BROWSER_TRACING_INTEGRATION_ID = 'BrowserTracing';\n\n/** Options for Browser Tracing integration */\n\nconst DEFAULT_BROWSER_TRACING_OPTIONS = {\n  ..._sentry_core__WEBPACK_IMPORTED_MODULE_0__.TRACING_DEFAULTS,\n  instrumentNavigation: true,\n  instrumentPageLoad: true,\n  markBackgroundSpan: true,\n  enableLongTask: true,\n  enableInp: false,\n  interactionsSampleRate: 1,\n  _experiments: {},\n  ..._request_js__WEBPACK_IMPORTED_MODULE_1__.defaultRequestInstrumentationOptions,\n};\n\n/**\n * The Browser Tracing integration automatically instruments browser pageload/navigation\n * actions as transactions, and captures requests, metrics and errors as spans.\n *\n * The integration can be configured with a variety of options, and can be extended to use\n * any routing library. This integration uses {@see IdleTransaction} to create transactions.\n *\n * We explicitly export the proper type here, as this has to be extended in some cases.\n */\nconst browserTracingIntegration = ((_options = {}) => {\n  const _hasSetTracePropagationTargets = _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD\n    ? !!(\n        // eslint-disable-next-line deprecation/deprecation\n        (_options.tracePropagationTargets || _options.tracingOrigins)\n      )\n    : false;\n\n  (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.addTracingExtensions)();\n\n  // TODO (v8): remove this block after tracingOrigins is removed\n  // Set tracePropagationTargets to tracingOrigins if specified by the user\n  // In case both are specified, tracePropagationTargets takes precedence\n  // eslint-disable-next-line deprecation/deprecation\n  if (!_options.tracePropagationTargets && _options.tracingOrigins) {\n    // eslint-disable-next-line deprecation/deprecation\n    _options.tracePropagationTargets = _options.tracingOrigins;\n  }\n\n  const options = {\n    ...DEFAULT_BROWSER_TRACING_OPTIONS,\n    ..._options,\n  };\n\n  const _collectWebVitals = (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_4__.startTrackingWebVitals)();\n\n  /** Stores a mapping of interactionIds from PerformanceEventTimings to the origin interaction path */\n  const interactionIdToRouteNameMapping = {};\n  if (options.enableInp) {\n    (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_4__.startTrackingINP)(interactionIdToRouteNameMapping, options.interactionsSampleRate);\n  }\n\n  if (options.enableLongTask) {\n    (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_4__.startTrackingLongTasks)();\n  }\n  if (options._experiments.enableInteractions) {\n    (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_4__.startTrackingInteractions)();\n  }\n\n  const latestRoute\n\n = {\n    name: undefined,\n    context: undefined,\n  };\n\n  /** Create routing idle transaction. */\n  function _createRouteTransaction(context) {\n    // eslint-disable-next-line deprecation/deprecation\n    const hub = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_5__.getCurrentHub)();\n\n    const { beforeStartSpan, idleTimeout, finalTimeout, heartbeatInterval } = options;\n\n    const isPageloadTransaction = context.op === 'pageload';\n\n    let expandedContext;\n    if (isPageloadTransaction) {\n      const sentryTrace = isPageloadTransaction ? getMetaContent('sentry-trace') : '';\n      const baggage = isPageloadTransaction ? getMetaContent('baggage') : undefined;\n      const { traceId, dsc, parentSpanId, sampled } = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__.propagationContextFromHeaders)(sentryTrace, baggage);\n      expandedContext = {\n        traceId,\n        parentSpanId,\n        parentSampled: sampled,\n        ...context,\n        metadata: {\n          // eslint-disable-next-line deprecation/deprecation\n          ...context.metadata,\n          dynamicSamplingContext: dsc,\n        },\n        trimEnd: true,\n      };\n    } else {\n      expandedContext = {\n        trimEnd: true,\n        ...context,\n      };\n    }\n\n    const finalContext = beforeStartSpan ? beforeStartSpan(expandedContext) : expandedContext;\n\n    // If `beforeStartSpan` set a custom name, record that fact\n    // eslint-disable-next-line deprecation/deprecation\n    finalContext.metadata =\n      finalContext.name !== expandedContext.name\n        ? // eslint-disable-next-line deprecation/deprecation\n          { ...finalContext.metadata, source: 'custom' }\n        : // eslint-disable-next-line deprecation/deprecation\n          finalContext.metadata;\n\n    latestRoute.name = finalContext.name;\n    latestRoute.context = finalContext;\n\n    if (finalContext.sampled === false) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.log(`[Tracing] Will not send ${finalContext.op} transaction because of beforeNavigate.`);\n    }\n\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.log(`[Tracing] Starting ${finalContext.op} transaction on scope`);\n\n    const { location } = _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW;\n\n    const idleTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.startIdleTransaction)(\n      hub,\n      finalContext,\n      idleTimeout,\n      finalTimeout,\n      true,\n      { location }, // for use in the tracesSampler\n      heartbeatInterval,\n      isPageloadTransaction, // should wait for finish signal if it's a pageload transaction\n    );\n\n    if (isPageloadTransaction && _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.document) {\n      _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.document.addEventListener('readystatechange', () => {\n        if (['interactive', 'complete'].includes(_types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.document.readyState)) {\n          idleTransaction.sendAutoFinishSignal();\n        }\n      });\n\n      if (['interactive', 'complete'].includes(_types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.document.readyState)) {\n        idleTransaction.sendAutoFinishSignal();\n      }\n    }\n\n    idleTransaction.registerBeforeFinishCallback(transaction => {\n      _collectWebVitals();\n      (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_4__.addPerformanceEntries)(transaction);\n    });\n\n    return idleTransaction ;\n  }\n\n  return {\n    name: BROWSER_TRACING_INTEGRATION_ID,\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    setupOnce: () => {},\n    afterAllSetup(client) {\n      const clientOptions = client.getOptions();\n\n      const { markBackgroundSpan, traceFetch, traceXHR, shouldCreateSpanForRequest, enableHTTPTimings, _experiments } =\n        options;\n\n      const clientOptionsTracePropagationTargets = clientOptions && clientOptions.tracePropagationTargets;\n      // There are three ways to configure tracePropagationTargets:\n      // 1. via top level client option `tracePropagationTargets`\n      // 2. via BrowserTracing option `tracePropagationTargets`\n      // 3. via BrowserTracing option `tracingOrigins` (deprecated)\n      //\n      // To avoid confusion, favour top level client option `tracePropagationTargets`, and fallback to\n      // BrowserTracing option `tracePropagationTargets` and then `tracingOrigins` (deprecated).\n      // This is done as it minimizes bundle size (we don't have to have undefined checks).\n      //\n      // If both 1 and either one of 2 or 3 are set (from above), we log out a warning.\n      // eslint-disable-next-line deprecation/deprecation\n      const tracePropagationTargets = clientOptionsTracePropagationTargets || options.tracePropagationTargets;\n      if (_common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _hasSetTracePropagationTargets && clientOptionsTracePropagationTargets) {\n        _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.warn(\n          '[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.',\n        );\n      }\n\n      let activeSpan;\n      let startingUrl = _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.location && _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.location.href;\n\n      if (client.on) {\n        client.on('startNavigationSpan', (context) => {\n          if (activeSpan) {\n            _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.log(`[Tracing] Finishing current transaction with op: ${(0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.spanToJSON)(activeSpan).op}`);\n            // If there's an open transaction on the scope, we need to finish it before creating an new one.\n            activeSpan.end();\n          }\n          activeSpan = _createRouteTransaction({\n            op: 'navigation',\n            ...context,\n          });\n        });\n\n        client.on('startPageLoadSpan', (context) => {\n          if (activeSpan) {\n            _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.log(`[Tracing] Finishing current transaction with op: ${(0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.spanToJSON)(activeSpan).op}`);\n            // If there's an open transaction on the scope, we need to finish it before creating an new one.\n            activeSpan.end();\n          }\n          activeSpan = _createRouteTransaction({\n            op: 'pageload',\n            ...context,\n          });\n        });\n      }\n\n      if (options.instrumentPageLoad && client.emit && _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.location) {\n        const context = {\n          name: _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.location.pathname,\n          // pageload should always start at timeOrigin (and needs to be in s, not ms)\n          startTimestamp: _sentry_utils__WEBPACK_IMPORTED_MODULE_10__.browserPerformanceTimeOrigin ? _sentry_utils__WEBPACK_IMPORTED_MODULE_10__.browserPerformanceTimeOrigin / 1000 : undefined,\n          origin: 'auto.pageload.browser',\n          attributes: {\n            [_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: 'url',\n          },\n        };\n        startBrowserTracingPageLoadSpan(client, context);\n      }\n\n      if (options.instrumentNavigation && client.emit && _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.location) {\n        (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_12__.addHistoryInstrumentationHandler)(({ to, from }) => {\n          /**\n           * This early return is there to account for some cases where a navigation transaction starts right after\n           * long-running pageload. We make sure that if `from` is undefined and a valid `startingURL` exists, we don't\n           * create an uneccessary navigation transaction.\n           *\n           * This was hard to duplicate, but this behavior stopped as soon as this fix was applied. This issue might also\n           * only be caused in certain development environments where the usage of a hot module reloader is causing\n           * errors.\n           */\n          if (from === undefined && startingUrl && startingUrl.indexOf(to) !== -1) {\n            startingUrl = undefined;\n            return;\n          }\n\n          if (from !== to) {\n            startingUrl = undefined;\n            const context = {\n              name: _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.location.pathname,\n              origin: 'auto.navigation.browser',\n              attributes: {\n                [_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: 'url',\n              },\n            };\n\n            startBrowserTracingNavigationSpan(client, context);\n          }\n        });\n      }\n\n      if (markBackgroundSpan) {\n        (0,_backgroundtab_js__WEBPACK_IMPORTED_MODULE_13__.registerBackgroundTabDetection)();\n      }\n\n      if (_experiments.enableInteractions) {\n        registerInteractionListener(options, latestRoute);\n      }\n\n      if (options.enableInp) {\n        registerInpInteractionListener(interactionIdToRouteNameMapping, latestRoute);\n      }\n\n      (0,_request_js__WEBPACK_IMPORTED_MODULE_1__.instrumentOutgoingRequests)({\n        traceFetch,\n        traceXHR,\n        tracePropagationTargets,\n        shouldCreateSpanForRequest,\n        enableHTTPTimings,\n      });\n    },\n    // TODO v8: Remove this again\n    // This is private API that we use to fix converted BrowserTracing integrations in Next.js & SvelteKit\n    options,\n  };\n}) ;\n\n/**\n * Manually start a page load span.\n * This will only do something if the BrowserTracing integration has been setup.\n */\nfunction startBrowserTracingPageLoadSpan(client, spanOptions) {\n  if (!client.emit) {\n    return;\n  }\n\n  client.emit('startPageLoadSpan', spanOptions);\n\n  const span = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_14__.getActiveSpan)();\n  const op = span && (0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.spanToJSON)(span).op;\n  return op === 'pageload' ? span : undefined;\n}\n\n/**\n * Manually start a navigation span.\n * This will only do something if the BrowserTracing integration has been setup.\n */\nfunction startBrowserTracingNavigationSpan(client, spanOptions) {\n  if (!client.emit) {\n    return;\n  }\n\n  client.emit('startNavigationSpan', spanOptions);\n\n  const span = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_14__.getActiveSpan)();\n  const op = span && (0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.spanToJSON)(span).op;\n  return op === 'navigation' ? span : undefined;\n}\n\n/** Returns the value of a meta tag */\nfunction getMetaContent(metaName) {\n  // Can't specify generic to `getDomElement` because tracing can be used\n  // in a variety of environments, have to disable `no-unsafe-member-access`\n  // as a result.\n  const metaTag = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_15__.getDomElement)(`meta[name=${metaName}]`);\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return metaTag ? metaTag.getAttribute('content') : undefined;\n}\n\n/** Start listener for interaction transactions */\nfunction registerInteractionListener(\n  options,\n  latestRoute\n\n,\n) {\n  let inflightInteractionTransaction;\n  const registerInteractionTransaction = () => {\n    const { idleTimeout, finalTimeout, heartbeatInterval } = options;\n    const op = 'ui.action.click';\n\n    // eslint-disable-next-line deprecation/deprecation\n    const currentTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_16__.getActiveTransaction)();\n    if (currentTransaction && currentTransaction.op && ['navigation', 'pageload'].includes(currentTransaction.op)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD &&\n        _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.warn(\n          `[Tracing] Did not create ${op} transaction because a pageload or navigation transaction is in progress.`,\n        );\n      return undefined;\n    }\n\n    if (inflightInteractionTransaction) {\n      inflightInteractionTransaction.setFinishReason('interactionInterrupted');\n      inflightInteractionTransaction.end();\n      inflightInteractionTransaction = undefined;\n    }\n\n    if (!latestRoute.name) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_7__.logger.warn(`[Tracing] Did not create ${op} transaction because _latestRouteName is missing.`);\n      return undefined;\n    }\n\n    const { location } = _types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW;\n\n    const context = {\n      name: latestRoute.name,\n      op,\n      trimEnd: true,\n      data: {\n        [_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: latestRoute.context ? getSource(latestRoute.context) : 'url',\n      },\n    };\n\n    inflightInteractionTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.startIdleTransaction)(\n      // eslint-disable-next-line deprecation/deprecation\n      (0,_sentry_core__WEBPACK_IMPORTED_MODULE_5__.getCurrentHub)(),\n      context,\n      idleTimeout,\n      finalTimeout,\n      true,\n      { location }, // for use in the tracesSampler\n      heartbeatInterval,\n    );\n  };\n\n  ['click'].forEach(type => {\n    if (_types_js__WEBPACK_IMPORTED_MODULE_8__.WINDOW.document) {\n      addEventListener(type, registerInteractionTransaction, { once: false, capture: true });\n    }\n  });\n}\n\nfunction isPerformanceEventTiming(entry) {\n  return 'duration' in entry;\n}\n\n/** We store up to 10 interaction candidates max to cap memory usage. This is the same cap as getINP from web-vitals */\nconst MAX_INTERACTIONS = 10;\n\n/** Creates a listener on interaction entries, and maps interactionIds to the origin path of the interaction */\nfunction registerInpInteractionListener(\n  interactionIdToRouteNameMapping,\n  latestRoute\n\n,\n) {\n  const handleEntries = ({ entries }) => {\n    const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_17__.getClient)();\n    // We need to get the replay, user, and activeTransaction from the current scope\n    // so that we can associate replay id, profile id, and a user display to the span\n    const replay =\n      client !== undefined && client.getIntegrationByName !== undefined\n        ? (client.getIntegrationByName('Replay') )\n        : undefined;\n    const replayId = replay !== undefined ? replay.getReplayId() : undefined;\n    // eslint-disable-next-line deprecation/deprecation\n    const activeTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_16__.getActiveTransaction)();\n    const currentScope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_17__.getCurrentScope)();\n    const user = currentScope !== undefined ? currentScope.getUser() : undefined;\n    entries.forEach(entry => {\n      if (isPerformanceEventTiming(entry)) {\n        const interactionId = entry.interactionId;\n        if (interactionId === undefined) {\n          return;\n        }\n        const existingInteraction = interactionIdToRouteNameMapping[interactionId];\n        const duration = entry.duration;\n        const startTime = entry.startTime;\n        const keys = Object.keys(interactionIdToRouteNameMapping);\n        const minInteractionId =\n          keys.length > 0\n            ? keys.reduce((a, b) => {\n                return interactionIdToRouteNameMapping[a].duration < interactionIdToRouteNameMapping[b].duration\n                  ? a\n                  : b;\n              })\n            : undefined;\n        // For a first input event to be considered, we must check that an interaction event does not already exist with the same duration and start time.\n        // This is also checked in the web-vitals library.\n        if (entry.entryType === 'first-input') {\n          const matchingEntry = keys\n            .map(key => interactionIdToRouteNameMapping[key])\n            .some(interaction => {\n              return interaction.duration === duration && interaction.startTime === startTime;\n            });\n          if (matchingEntry) {\n            return;\n          }\n        }\n        // Interactions with an id of 0 and are not first-input are not valid.\n        if (!interactionId) {\n          return;\n        }\n        // If the interaction already exists, we want to use the duration of the longest entry, since that is what the INP metric uses.\n        if (existingInteraction) {\n          existingInteraction.duration = Math.max(existingInteraction.duration, duration);\n        } else if (\n          keys.length < MAX_INTERACTIONS ||\n          minInteractionId === undefined ||\n          duration > interactionIdToRouteNameMapping[minInteractionId].duration\n        ) {\n          // If the interaction does not exist, we want to add it to the mapping if there is space, or if the duration is longer than the shortest entry.\n          const routeName = latestRoute.name;\n          const parentContext = latestRoute.context;\n          if (routeName && parentContext) {\n            if (minInteractionId && Object.keys(interactionIdToRouteNameMapping).length >= MAX_INTERACTIONS) {\n              // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n              delete interactionIdToRouteNameMapping[minInteractionId];\n            }\n            interactionIdToRouteNameMapping[interactionId] = {\n              routeName,\n              duration,\n              parentContext,\n              user,\n              activeTransaction,\n              replayId,\n              startTime,\n            };\n          }\n        }\n      }\n    });\n  };\n  (0,_instrument_js__WEBPACK_IMPORTED_MODULE_18__.addPerformanceInstrumentationHandler)('event', handleEntries);\n  (0,_instrument_js__WEBPACK_IMPORTED_MODULE_18__.addPerformanceInstrumentationHandler)('first-input', handleEntries);\n}\n\nfunction getSource(context) {\n  const sourceFromAttributes = context.attributes && context.attributes[_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];\n  // eslint-disable-next-line deprecation/deprecation\n  const sourceFromData = context.data && context.data[_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];\n  // eslint-disable-next-line deprecation/deprecation\n  const sourceFromMetadata = context.metadata && context.metadata.source;\n\n  return sourceFromAttributes || sourceFromData || sourceFromMetadata;\n}\n\n\n//# sourceMappingURL=browserTracingIntegration.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9icm93c2VyVHJhY2luZ0ludGVncmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwTjtBQUNyRTtBQUM5RjtBQUNhO0FBQ0c7QUFDaUY7QUFDeEQ7QUFDNUQ7O0FBRXBDOztBQUVBOztBQUVBO0FBQ0EsS0FBSywwREFBZ0I7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLEtBQUssNkVBQW9DO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msc0JBQXNCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCx5Q0FBeUMsK0RBQVc7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGtFQUFvQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIseUVBQXNCOztBQUVsRDtBQUNBO0FBQ0E7QUFDQSxJQUFJLG1FQUFnQjtBQUNwQjs7QUFFQTtBQUNBLElBQUkseUVBQXNCO0FBQzFCO0FBQ0E7QUFDQSxJQUFJLDRFQUF5QjtBQUM3Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQWE7O0FBRTdCLFlBQVksZ0VBQWdFOztBQUU1RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0NBQXNDLEVBQUUsNEVBQTZCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLCtEQUFXLElBQUksaURBQU0sZ0NBQWdDLGlCQUFpQjtBQUM1RTs7QUFFQSxJQUFJLCtEQUFXLElBQUksaURBQU0sMkJBQTJCLGlCQUFpQjs7QUFFckUsWUFBWSxXQUFXLEVBQUUsNkNBQU07O0FBRS9CLDRCQUE0QixrRUFBb0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsVUFBVTtBQUNsQjtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLDZDQUFNO0FBQ3ZDLE1BQU0sNkNBQU07QUFDWixpREFBaUQsNkNBQU07QUFDdkQ7QUFDQTtBQUNBLE9BQU87O0FBRVAsK0NBQStDLDZDQUFNO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSx3RUFBcUI7QUFDM0IsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBOztBQUVBLGNBQWMsd0dBQXdHO0FBQ3RIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwrREFBVztBQUNyQixRQUFRLGlEQUFNO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDZDQUFNLGFBQWEsNkNBQU07O0FBRWpEO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0RBQVcsSUFBSSxpREFBTSx5REFBeUQsd0RBQVUsZ0JBQWdCO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTOztBQUVUO0FBQ0E7QUFDQSxZQUFZLCtEQUFXLElBQUksaURBQU0seURBQXlELHdEQUFVLGdCQUFnQjtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUOztBQUVBLHVEQUF1RCw2Q0FBTTtBQUM3RDtBQUNBLGdCQUFnQiw2Q0FBTTtBQUN0QjtBQUNBLDBCQUEwQix3RUFBNEIsR0FBRyx3RUFBNEI7QUFDckY7QUFDQTtBQUNBLGFBQWEsMkVBQWdDO0FBQzdDLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEseURBQXlELDZDQUFNO0FBQy9ELFFBQVEsZ0ZBQWdDLElBQUksVUFBVTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkNBQU07QUFDMUI7QUFDQTtBQUNBLGlCQUFpQiwyRUFBZ0M7QUFDakQsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxRQUFRLGtGQUE4QjtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLE1BQU0sdUVBQTBCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGVBQWUsNERBQWE7QUFDNUIscUJBQXFCLHdEQUFVO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxlQUFlLDREQUFhO0FBQzVCLHFCQUFxQix3REFBVTtBQUMvQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkRBQWEsY0FBYyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0NBQStDO0FBQzNEOztBQUVBO0FBQ0EsK0JBQStCLG1FQUFvQjtBQUNuRDtBQUNBLE1BQU0sK0RBQVc7QUFDakIsUUFBUSxpREFBTTtBQUNkLHNDQUFzQyxJQUFJO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSwrREFBVyxJQUFJLGlEQUFNLGtDQUFrQyxJQUFJO0FBQ2pFO0FBQ0E7O0FBRUEsWUFBWSxXQUFXLEVBQUUsNkNBQU07O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJFQUFnQztBQUN6QyxPQUFPO0FBQ1A7O0FBRUEscUNBQXFDLGtFQUFvQjtBQUN6RDtBQUNBLE1BQU0sMkRBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFVBQVU7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSw2Q0FBTTtBQUNkLCtEQUErRCw0QkFBNEI7QUFDM0Y7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDLG1CQUFtQix3REFBUztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1FQUFvQjtBQUNsRCx5QkFBeUIsOERBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsRUFBRSxxRkFBb0M7QUFDdEMsRUFBRSxxRkFBb0M7QUFDdEM7O0FBRUE7QUFDQSx3RUFBd0UsMkVBQWdDO0FBQ3hHO0FBQ0Esc0RBQXNELDJFQUFnQztBQUN0RjtBQUNBOztBQUVBO0FBQ0E7O0FBRXlKO0FBQ3pKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL2Jyb3dzZXJUcmFjaW5nSW50ZWdyYXRpb24uanM/M2FjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUUkFDSU5HX0RFRkFVTFRTLCBhZGRUcmFjaW5nRXh0ZW5zaW9ucywgc3BhblRvSlNPTiwgU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9TT1VSQ0UsIGdldEFjdGl2ZVNwYW4sIGdldEN1cnJlbnRIdWIsIHN0YXJ0SWRsZVRyYW5zYWN0aW9uLCBnZXRBY3RpdmVUcmFuc2FjdGlvbiwgZ2V0Q2xpZW50LCBnZXRDdXJyZW50U2NvcGUgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgbG9nZ2VyLCBicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luLCBhZGRIaXN0b3J5SW5zdHJ1bWVudGF0aW9uSGFuZGxlciwgcHJvcGFnYXRpb25Db250ZXh0RnJvbUhlYWRlcnMsIGdldERvbUVsZW1lbnQgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IERFQlVHX0JVSUxEIH0gZnJvbSAnLi4vY29tbW9uL2RlYnVnLWJ1aWxkLmpzJztcbmltcG9ydCB7IHJlZ2lzdGVyQmFja2dyb3VuZFRhYkRldGVjdGlvbiB9IGZyb20gJy4vYmFja2dyb3VuZHRhYi5qcyc7XG5pbXBvcnQgeyBhZGRQZXJmb3JtYW5jZUluc3RydW1lbnRhdGlvbkhhbmRsZXIgfSBmcm9tICcuL2luc3RydW1lbnQuanMnO1xuaW1wb3J0IHsgc3RhcnRUcmFja2luZ1dlYlZpdGFscywgc3RhcnRUcmFja2luZ0lOUCwgc3RhcnRUcmFja2luZ0xvbmdUYXNrcywgc3RhcnRUcmFja2luZ0ludGVyYWN0aW9ucywgYWRkUGVyZm9ybWFuY2VFbnRyaWVzIH0gZnJvbSAnLi9tZXRyaWNzL2luZGV4LmpzJztcbmltcG9ydCB7IGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucywgaW5zdHJ1bWVudE91dGdvaW5nUmVxdWVzdHMgfSBmcm9tICcuL3JlcXVlc3QuanMnO1xuaW1wb3J0IHsgV0lORE9XIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5cbmNvbnN0IEJST1dTRVJfVFJBQ0lOR19JTlRFR1JBVElPTl9JRCA9ICdCcm93c2VyVHJhY2luZyc7XG5cbi8qKiBPcHRpb25zIGZvciBCcm93c2VyIFRyYWNpbmcgaW50ZWdyYXRpb24gKi9cblxuY29uc3QgREVGQVVMVF9CUk9XU0VSX1RSQUNJTkdfT1BUSU9OUyA9IHtcbiAgLi4uVFJBQ0lOR19ERUZBVUxUUyxcbiAgaW5zdHJ1bWVudE5hdmlnYXRpb246IHRydWUsXG4gIGluc3RydW1lbnRQYWdlTG9hZDogdHJ1ZSxcbiAgbWFya0JhY2tncm91bmRTcGFuOiB0cnVlLFxuICBlbmFibGVMb25nVGFzazogdHJ1ZSxcbiAgZW5hYmxlSW5wOiBmYWxzZSxcbiAgaW50ZXJhY3Rpb25zU2FtcGxlUmF0ZTogMSxcbiAgX2V4cGVyaW1lbnRzOiB7fSxcbiAgLi4uZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLFxufTtcblxuLyoqXG4gKiBUaGUgQnJvd3NlciBUcmFjaW5nIGludGVncmF0aW9uIGF1dG9tYXRpY2FsbHkgaW5zdHJ1bWVudHMgYnJvd3NlciBwYWdlbG9hZC9uYXZpZ2F0aW9uXG4gKiBhY3Rpb25zIGFzIHRyYW5zYWN0aW9ucywgYW5kIGNhcHR1cmVzIHJlcXVlc3RzLCBtZXRyaWNzIGFuZCBlcnJvcnMgYXMgc3BhbnMuXG4gKlxuICogVGhlIGludGVncmF0aW9uIGNhbiBiZSBjb25maWd1cmVkIHdpdGggYSB2YXJpZXR5IG9mIG9wdGlvbnMsIGFuZCBjYW4gYmUgZXh0ZW5kZWQgdG8gdXNlXG4gKiBhbnkgcm91dGluZyBsaWJyYXJ5LiBUaGlzIGludGVncmF0aW9uIHVzZXMge0BzZWUgSWRsZVRyYW5zYWN0aW9ufSB0byBjcmVhdGUgdHJhbnNhY3Rpb25zLlxuICpcbiAqIFdlIGV4cGxpY2l0bHkgZXhwb3J0IHRoZSBwcm9wZXIgdHlwZSBoZXJlLCBhcyB0aGlzIGhhcyB0byBiZSBleHRlbmRlZCBpbiBzb21lIGNhc2VzLlxuICovXG5jb25zdCBicm93c2VyVHJhY2luZ0ludGVncmF0aW9uID0gKChfb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IF9oYXNTZXRUcmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyA9IERFQlVHX0JVSUxEXG4gICAgPyAhIShcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIChfb3B0aW9ucy50cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyB8fCBfb3B0aW9ucy50cmFjaW5nT3JpZ2lucylcbiAgICAgIClcbiAgICA6IGZhbHNlO1xuXG4gIGFkZFRyYWNpbmdFeHRlbnNpb25zKCk7XG5cbiAgLy8gVE9ETyAodjgpOiByZW1vdmUgdGhpcyBibG9jayBhZnRlciB0cmFjaW5nT3JpZ2lucyBpcyByZW1vdmVkXG4gIC8vIFNldCB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyB0byB0cmFjaW5nT3JpZ2lucyBpZiBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcbiAgLy8gSW4gY2FzZSBib3RoIGFyZSBzcGVjaWZpZWQsIHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzIHRha2VzIHByZWNlZGVuY2VcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gIGlmICghX29wdGlvbnMudHJhY2VQcm9wYWdhdGlvblRhcmdldHMgJiYgX29wdGlvbnMudHJhY2luZ09yaWdpbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICBfb3B0aW9ucy50cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyA9IF9vcHRpb25zLnRyYWNpbmdPcmlnaW5zO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAuLi5ERUZBVUxUX0JST1dTRVJfVFJBQ0lOR19PUFRJT05TLFxuICAgIC4uLl9vcHRpb25zLFxuICB9O1xuXG4gIGNvbnN0IF9jb2xsZWN0V2ViVml0YWxzID0gc3RhcnRUcmFja2luZ1dlYlZpdGFscygpO1xuXG4gIC8qKiBTdG9yZXMgYSBtYXBwaW5nIG9mIGludGVyYWN0aW9uSWRzIGZyb20gUGVyZm9ybWFuY2VFdmVudFRpbWluZ3MgdG8gdGhlIG9yaWdpbiBpbnRlcmFjdGlvbiBwYXRoICovXG4gIGNvbnN0IGludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmcgPSB7fTtcbiAgaWYgKG9wdGlvbnMuZW5hYmxlSW5wKSB7XG4gICAgc3RhcnRUcmFja2luZ0lOUChpbnRlcmFjdGlvbklkVG9Sb3V0ZU5hbWVNYXBwaW5nLCBvcHRpb25zLmludGVyYWN0aW9uc1NhbXBsZVJhdGUpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuZW5hYmxlTG9uZ1Rhc2spIHtcbiAgICBzdGFydFRyYWNraW5nTG9uZ1Rhc2tzKCk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuX2V4cGVyaW1lbnRzLmVuYWJsZUludGVyYWN0aW9ucykge1xuICAgIHN0YXJ0VHJhY2tpbmdJbnRlcmFjdGlvbnMoKTtcbiAgfVxuXG4gIGNvbnN0IGxhdGVzdFJvdXRlXG5cbiA9IHtcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgY29udGV4dDogdW5kZWZpbmVkLFxuICB9O1xuXG4gIC8qKiBDcmVhdGUgcm91dGluZyBpZGxlIHRyYW5zYWN0aW9uLiAqL1xuICBmdW5jdGlvbiBfY3JlYXRlUm91dGVUcmFuc2FjdGlvbihjb250ZXh0KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgY29uc3QgaHViID0gZ2V0Q3VycmVudEh1YigpO1xuXG4gICAgY29uc3QgeyBiZWZvcmVTdGFydFNwYW4sIGlkbGVUaW1lb3V0LCBmaW5hbFRpbWVvdXQsIGhlYXJ0YmVhdEludGVydmFsIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgaXNQYWdlbG9hZFRyYW5zYWN0aW9uID0gY29udGV4dC5vcCA9PT0gJ3BhZ2Vsb2FkJztcblxuICAgIGxldCBleHBhbmRlZENvbnRleHQ7XG4gICAgaWYgKGlzUGFnZWxvYWRUcmFuc2FjdGlvbikge1xuICAgICAgY29uc3Qgc2VudHJ5VHJhY2UgPSBpc1BhZ2Vsb2FkVHJhbnNhY3Rpb24gPyBnZXRNZXRhQ29udGVudCgnc2VudHJ5LXRyYWNlJykgOiAnJztcbiAgICAgIGNvbnN0IGJhZ2dhZ2UgPSBpc1BhZ2Vsb2FkVHJhbnNhY3Rpb24gPyBnZXRNZXRhQ29udGVudCgnYmFnZ2FnZScpIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgeyB0cmFjZUlkLCBkc2MsIHBhcmVudFNwYW5JZCwgc2FtcGxlZCB9ID0gcHJvcGFnYXRpb25Db250ZXh0RnJvbUhlYWRlcnMoc2VudHJ5VHJhY2UsIGJhZ2dhZ2UpO1xuICAgICAgZXhwYW5kZWRDb250ZXh0ID0ge1xuICAgICAgICB0cmFjZUlkLFxuICAgICAgICBwYXJlbnRTcGFuSWQsXG4gICAgICAgIHBhcmVudFNhbXBsZWQ6IHNhbXBsZWQsXG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgLi4uY29udGV4dC5tZXRhZGF0YSxcbiAgICAgICAgICBkeW5hbWljU2FtcGxpbmdDb250ZXh0OiBkc2MsXG4gICAgICAgIH0sXG4gICAgICAgIHRyaW1FbmQ6IHRydWUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBhbmRlZENvbnRleHQgPSB7XG4gICAgICAgIHRyaW1FbmQ6IHRydWUsXG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGZpbmFsQ29udGV4dCA9IGJlZm9yZVN0YXJ0U3BhbiA/IGJlZm9yZVN0YXJ0U3BhbihleHBhbmRlZENvbnRleHQpIDogZXhwYW5kZWRDb250ZXh0O1xuXG4gICAgLy8gSWYgYGJlZm9yZVN0YXJ0U3BhbmAgc2V0IGEgY3VzdG9tIG5hbWUsIHJlY29yZCB0aGF0IGZhY3RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICBmaW5hbENvbnRleHQubWV0YWRhdGEgPVxuICAgICAgZmluYWxDb250ZXh0Lm5hbWUgIT09IGV4cGFuZGVkQ29udGV4dC5uYW1lXG4gICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgeyAuLi5maW5hbENvbnRleHQubWV0YWRhdGEsIHNvdXJjZTogJ2N1c3RvbScgfVxuICAgICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgIGZpbmFsQ29udGV4dC5tZXRhZGF0YTtcblxuICAgIGxhdGVzdFJvdXRlLm5hbWUgPSBmaW5hbENvbnRleHQubmFtZTtcbiAgICBsYXRlc3RSb3V0ZS5jb250ZXh0ID0gZmluYWxDb250ZXh0O1xuXG4gICAgaWYgKGZpbmFsQ29udGV4dC5zYW1wbGVkID09PSBmYWxzZSkge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZyhgW1RyYWNpbmddIFdpbGwgbm90IHNlbmQgJHtmaW5hbENvbnRleHQub3B9IHRyYW5zYWN0aW9uIGJlY2F1c2Ugb2YgYmVmb3JlTmF2aWdhdGUuYCk7XG4gICAgfVxuXG4gICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZyhgW1RyYWNpbmddIFN0YXJ0aW5nICR7ZmluYWxDb250ZXh0Lm9wfSB0cmFuc2FjdGlvbiBvbiBzY29wZWApO1xuXG4gICAgY29uc3QgeyBsb2NhdGlvbiB9ID0gV0lORE9XO1xuXG4gICAgY29uc3QgaWRsZVRyYW5zYWN0aW9uID0gc3RhcnRJZGxlVHJhbnNhY3Rpb24oXG4gICAgICBodWIsXG4gICAgICBmaW5hbENvbnRleHQsXG4gICAgICBpZGxlVGltZW91dCxcbiAgICAgIGZpbmFsVGltZW91dCxcbiAgICAgIHRydWUsXG4gICAgICB7IGxvY2F0aW9uIH0sIC8vIGZvciB1c2UgaW4gdGhlIHRyYWNlc1NhbXBsZXJcbiAgICAgIGhlYXJ0YmVhdEludGVydmFsLFxuICAgICAgaXNQYWdlbG9hZFRyYW5zYWN0aW9uLCAvLyBzaG91bGQgd2FpdCBmb3IgZmluaXNoIHNpZ25hbCBpZiBpdCdzIGEgcGFnZWxvYWQgdHJhbnNhY3Rpb25cbiAgICApO1xuXG4gICAgaWYgKGlzUGFnZWxvYWRUcmFuc2FjdGlvbiAmJiBXSU5ET1cuZG9jdW1lbnQpIHtcbiAgICAgIFdJTkRPVy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBpZiAoWydpbnRlcmFjdGl2ZScsICdjb21wbGV0ZSddLmluY2x1ZGVzKFdJTkRPVy5kb2N1bWVudC5yZWFkeVN0YXRlKSkge1xuICAgICAgICAgIGlkbGVUcmFuc2FjdGlvbi5zZW5kQXV0b0ZpbmlzaFNpZ25hbCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKFsnaW50ZXJhY3RpdmUnLCAnY29tcGxldGUnXS5pbmNsdWRlcyhXSU5ET1cuZG9jdW1lbnQucmVhZHlTdGF0ZSkpIHtcbiAgICAgICAgaWRsZVRyYW5zYWN0aW9uLnNlbmRBdXRvRmluaXNoU2lnbmFsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWRsZVRyYW5zYWN0aW9uLnJlZ2lzdGVyQmVmb3JlRmluaXNoQ2FsbGJhY2sodHJhbnNhY3Rpb24gPT4ge1xuICAgICAgX2NvbGxlY3RXZWJWaXRhbHMoKTtcbiAgICAgIGFkZFBlcmZvcm1hbmNlRW50cmllcyh0cmFuc2FjdGlvbik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaWRsZVRyYW5zYWN0aW9uIDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogQlJPV1NFUl9UUkFDSU5HX0lOVEVHUkFUSU9OX0lELFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICBzZXR1cE9uY2U6ICgpID0+IHt9LFxuICAgIGFmdGVyQWxsU2V0dXAoY2xpZW50KSB7XG4gICAgICBjb25zdCBjbGllbnRPcHRpb25zID0gY2xpZW50LmdldE9wdGlvbnMoKTtcblxuICAgICAgY29uc3QgeyBtYXJrQmFja2dyb3VuZFNwYW4sIHRyYWNlRmV0Y2gsIHRyYWNlWEhSLCBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCwgZW5hYmxlSFRUUFRpbWluZ3MsIF9leHBlcmltZW50cyB9ID1cbiAgICAgICAgb3B0aW9ucztcblxuICAgICAgY29uc3QgY2xpZW50T3B0aW9uc1RyYWNlUHJvcGFnYXRpb25UYXJnZXRzID0gY2xpZW50T3B0aW9ucyAmJiBjbGllbnRPcHRpb25zLnRyYWNlUHJvcGFnYXRpb25UYXJnZXRzO1xuICAgICAgLy8gVGhlcmUgYXJlIHRocmVlIHdheXMgdG8gY29uZmlndXJlIHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzOlxuICAgICAgLy8gMS4gdmlhIHRvcCBsZXZlbCBjbGllbnQgb3B0aW9uIGB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0c2BcbiAgICAgIC8vIDIuIHZpYSBCcm93c2VyVHJhY2luZyBvcHRpb24gYHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzYFxuICAgICAgLy8gMy4gdmlhIEJyb3dzZXJUcmFjaW5nIG9wdGlvbiBgdHJhY2luZ09yaWdpbnNgIChkZXByZWNhdGVkKVxuICAgICAgLy9cbiAgICAgIC8vIFRvIGF2b2lkIGNvbmZ1c2lvbiwgZmF2b3VyIHRvcCBsZXZlbCBjbGllbnQgb3B0aW9uIGB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0c2AsIGFuZCBmYWxsYmFjayB0b1xuICAgICAgLy8gQnJvd3NlclRyYWNpbmcgb3B0aW9uIGB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0c2AgYW5kIHRoZW4gYHRyYWNpbmdPcmlnaW5zYCAoZGVwcmVjYXRlZCkuXG4gICAgICAvLyBUaGlzIGlzIGRvbmUgYXMgaXQgbWluaW1pemVzIGJ1bmRsZSBzaXplICh3ZSBkb24ndCBoYXZlIHRvIGhhdmUgdW5kZWZpbmVkIGNoZWNrcykuXG4gICAgICAvL1xuICAgICAgLy8gSWYgYm90aCAxIGFuZCBlaXRoZXIgb25lIG9mIDIgb3IgMyBhcmUgc2V0IChmcm9tIGFib3ZlKSwgd2UgbG9nIG91dCBhIHdhcm5pbmcuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIGNvbnN0IHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzID0gY2xpZW50T3B0aW9uc1RyYWNlUHJvcGFnYXRpb25UYXJnZXRzIHx8IG9wdGlvbnMudHJhY2VQcm9wYWdhdGlvblRhcmdldHM7XG4gICAgICBpZiAoREVCVUdfQlVJTEQgJiYgX2hhc1NldFRyYWNlUHJvcGFnYXRpb25UYXJnZXRzICYmIGNsaWVudE9wdGlvbnNUcmFjZVByb3BhZ2F0aW9uVGFyZ2V0cykge1xuICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAnW1RyYWNpbmddIFRoZSBgdHJhY2VQcm9wYWdhdGlvblRhcmdldHNgIG9wdGlvbiB3YXMgc2V0IGluIHRoZSBCcm93c2VyVHJhY2luZyBpbnRlZ3JhdGlvbiBhbmQgdG9wIGxldmVsIGBTZW50cnkuaW5pdGAuIFRoZSB0b3AgbGV2ZWwgYFNlbnRyeS5pbml0YCB2YWx1ZSBpcyBiZWluZyB1c2VkLicsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGxldCBhY3RpdmVTcGFuO1xuICAgICAgbGV0IHN0YXJ0aW5nVXJsID0gV0lORE9XLmxvY2F0aW9uICYmIFdJTkRPVy5sb2NhdGlvbi5ocmVmO1xuXG4gICAgICBpZiAoY2xpZW50Lm9uKSB7XG4gICAgICAgIGNsaWVudC5vbignc3RhcnROYXZpZ2F0aW9uU3BhbicsIChjb250ZXh0KSA9PiB7XG4gICAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coYFtUcmFjaW5nXSBGaW5pc2hpbmcgY3VycmVudCB0cmFuc2FjdGlvbiB3aXRoIG9wOiAke3NwYW5Ub0pTT04oYWN0aXZlU3Bhbikub3B9YCk7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIG9wZW4gdHJhbnNhY3Rpb24gb24gdGhlIHNjb3BlLCB3ZSBuZWVkIHRvIGZpbmlzaCBpdCBiZWZvcmUgY3JlYXRpbmcgYW4gbmV3IG9uZS5cbiAgICAgICAgICAgIGFjdGl2ZVNwYW4uZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjdGl2ZVNwYW4gPSBfY3JlYXRlUm91dGVUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBvcDogJ25hdmlnYXRpb24nLFxuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2xpZW50Lm9uKCdzdGFydFBhZ2VMb2FkU3BhbicsIChjb250ZXh0KSA9PiB7XG4gICAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coYFtUcmFjaW5nXSBGaW5pc2hpbmcgY3VycmVudCB0cmFuc2FjdGlvbiB3aXRoIG9wOiAke3NwYW5Ub0pTT04oYWN0aXZlU3Bhbikub3B9YCk7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIG9wZW4gdHJhbnNhY3Rpb24gb24gdGhlIHNjb3BlLCB3ZSBuZWVkIHRvIGZpbmlzaCBpdCBiZWZvcmUgY3JlYXRpbmcgYW4gbmV3IG9uZS5cbiAgICAgICAgICAgIGFjdGl2ZVNwYW4uZW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjdGl2ZVNwYW4gPSBfY3JlYXRlUm91dGVUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBvcDogJ3BhZ2Vsb2FkJyxcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5pbnN0cnVtZW50UGFnZUxvYWQgJiYgY2xpZW50LmVtaXQgJiYgV0lORE9XLmxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgbmFtZTogV0lORE9XLmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICAgIC8vIHBhZ2Vsb2FkIHNob3VsZCBhbHdheXMgc3RhcnQgYXQgdGltZU9yaWdpbiAoYW5kIG5lZWRzIHRvIGJlIGluIHMsIG5vdCBtcylcbiAgICAgICAgICBzdGFydFRpbWVzdGFtcDogYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiA/IGJyb3dzZXJQZXJmb3JtYW5jZVRpbWVPcmlnaW4gLyAxMDAwIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG9yaWdpbjogJ2F1dG8ucGFnZWxvYWQuYnJvd3NlcicsXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgW1NFTUFOVElDX0FUVFJJQlVURV9TRU5UUllfU09VUkNFXTogJ3VybCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgc3RhcnRCcm93c2VyVHJhY2luZ1BhZ2VMb2FkU3BhbihjbGllbnQsIGNvbnRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5pbnN0cnVtZW50TmF2aWdhdGlvbiAmJiBjbGllbnQuZW1pdCAmJiBXSU5ET1cubG9jYXRpb24pIHtcbiAgICAgICAgYWRkSGlzdG9yeUluc3RydW1lbnRhdGlvbkhhbmRsZXIoKHsgdG8sIGZyb20gfSkgPT4ge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoaXMgZWFybHkgcmV0dXJuIGlzIHRoZXJlIHRvIGFjY291bnQgZm9yIHNvbWUgY2FzZXMgd2hlcmUgYSBuYXZpZ2F0aW9uIHRyYW5zYWN0aW9uIHN0YXJ0cyByaWdodCBhZnRlclxuICAgICAgICAgICAqIGxvbmctcnVubmluZyBwYWdlbG9hZC4gV2UgbWFrZSBzdXJlIHRoYXQgaWYgYGZyb21gIGlzIHVuZGVmaW5lZCBhbmQgYSB2YWxpZCBgc3RhcnRpbmdVUkxgIGV4aXN0cywgd2UgZG9uJ3RcbiAgICAgICAgICAgKiBjcmVhdGUgYW4gdW5lY2Nlc3NhcnkgbmF2aWdhdGlvbiB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIFRoaXMgd2FzIGhhcmQgdG8gZHVwbGljYXRlLCBidXQgdGhpcyBiZWhhdmlvciBzdG9wcGVkIGFzIHNvb24gYXMgdGhpcyBmaXggd2FzIGFwcGxpZWQuIFRoaXMgaXNzdWUgbWlnaHQgYWxzb1xuICAgICAgICAgICAqIG9ubHkgYmUgY2F1c2VkIGluIGNlcnRhaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIHdoZXJlIHRoZSB1c2FnZSBvZiBhIGhvdCBtb2R1bGUgcmVsb2FkZXIgaXMgY2F1c2luZ1xuICAgICAgICAgICAqIGVycm9ycy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkICYmIHN0YXJ0aW5nVXJsICYmIHN0YXJ0aW5nVXJsLmluZGV4T2YodG8pICE9PSAtMSkge1xuICAgICAgICAgICAgc3RhcnRpbmdVcmwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGZyb20gIT09IHRvKSB7XG4gICAgICAgICAgICBzdGFydGluZ1VybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IFdJTkRPVy5sb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgICAgICAgb3JpZ2luOiAnYXV0by5uYXZpZ2F0aW9uLmJyb3dzZXInLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgW1NFTUFOVElDX0FUVFJJQlVURV9TRU5UUllfU09VUkNFXTogJ3VybCcsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzdGFydEJyb3dzZXJUcmFjaW5nTmF2aWdhdGlvblNwYW4oY2xpZW50LCBjb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobWFya0JhY2tncm91bmRTcGFuKSB7XG4gICAgICAgIHJlZ2lzdGVyQmFja2dyb3VuZFRhYkRldGVjdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2V4cGVyaW1lbnRzLmVuYWJsZUludGVyYWN0aW9ucykge1xuICAgICAgICByZWdpc3RlckludGVyYWN0aW9uTGlzdGVuZXIob3B0aW9ucywgbGF0ZXN0Um91dGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5lbmFibGVJbnApIHtcbiAgICAgICAgcmVnaXN0ZXJJbnBJbnRlcmFjdGlvbkxpc3RlbmVyKGludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmcsIGxhdGVzdFJvdXRlKTtcbiAgICAgIH1cblxuICAgICAgaW5zdHJ1bWVudE91dGdvaW5nUmVxdWVzdHMoe1xuICAgICAgICB0cmFjZUZldGNoLFxuICAgICAgICB0cmFjZVhIUixcbiAgICAgICAgdHJhY2VQcm9wYWdhdGlvblRhcmdldHMsXG4gICAgICAgIHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0LFxuICAgICAgICBlbmFibGVIVFRQVGltaW5ncyxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8gVE9ETyB2ODogUmVtb3ZlIHRoaXMgYWdhaW5cbiAgICAvLyBUaGlzIGlzIHByaXZhdGUgQVBJIHRoYXQgd2UgdXNlIHRvIGZpeCBjb252ZXJ0ZWQgQnJvd3NlclRyYWNpbmcgaW50ZWdyYXRpb25zIGluIE5leHQuanMgJiBTdmVsdGVLaXRcbiAgICBvcHRpb25zLFxuICB9O1xufSkgO1xuXG4vKipcbiAqIE1hbnVhbGx5IHN0YXJ0IGEgcGFnZSBsb2FkIHNwYW4uXG4gKiBUaGlzIHdpbGwgb25seSBkbyBzb21ldGhpbmcgaWYgdGhlIEJyb3dzZXJUcmFjaW5nIGludGVncmF0aW9uIGhhcyBiZWVuIHNldHVwLlxuICovXG5mdW5jdGlvbiBzdGFydEJyb3dzZXJUcmFjaW5nUGFnZUxvYWRTcGFuKGNsaWVudCwgc3Bhbk9wdGlvbnMpIHtcbiAgaWYgKCFjbGllbnQuZW1pdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNsaWVudC5lbWl0KCdzdGFydFBhZ2VMb2FkU3BhbicsIHNwYW5PcHRpb25zKTtcblxuICBjb25zdCBzcGFuID0gZ2V0QWN0aXZlU3BhbigpO1xuICBjb25zdCBvcCA9IHNwYW4gJiYgc3BhblRvSlNPTihzcGFuKS5vcDtcbiAgcmV0dXJuIG9wID09PSAncGFnZWxvYWQnID8gc3BhbiA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBNYW51YWxseSBzdGFydCBhIG5hdmlnYXRpb24gc3Bhbi5cbiAqIFRoaXMgd2lsbCBvbmx5IGRvIHNvbWV0aGluZyBpZiB0aGUgQnJvd3NlclRyYWNpbmcgaW50ZWdyYXRpb24gaGFzIGJlZW4gc2V0dXAuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0QnJvd3NlclRyYWNpbmdOYXZpZ2F0aW9uU3BhbihjbGllbnQsIHNwYW5PcHRpb25zKSB7XG4gIGlmICghY2xpZW50LmVtaXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjbGllbnQuZW1pdCgnc3RhcnROYXZpZ2F0aW9uU3BhbicsIHNwYW5PcHRpb25zKTtcblxuICBjb25zdCBzcGFuID0gZ2V0QWN0aXZlU3BhbigpO1xuICBjb25zdCBvcCA9IHNwYW4gJiYgc3BhblRvSlNPTihzcGFuKS5vcDtcbiAgcmV0dXJuIG9wID09PSAnbmF2aWdhdGlvbicgPyBzcGFuIDogdW5kZWZpbmVkO1xufVxuXG4vKiogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBtZXRhIHRhZyAqL1xuZnVuY3Rpb24gZ2V0TWV0YUNvbnRlbnQobWV0YU5hbWUpIHtcbiAgLy8gQ2FuJ3Qgc3BlY2lmeSBnZW5lcmljIHRvIGBnZXREb21FbGVtZW50YCBiZWNhdXNlIHRyYWNpbmcgY2FuIGJlIHVzZWRcbiAgLy8gaW4gYSB2YXJpZXR5IG9mIGVudmlyb25tZW50cywgaGF2ZSB0byBkaXNhYmxlIGBuby11bnNhZmUtbWVtYmVyLWFjY2Vzc2BcbiAgLy8gYXMgYSByZXN1bHQuXG4gIGNvbnN0IG1ldGFUYWcgPSBnZXREb21FbGVtZW50KGBtZXRhW25hbWU9JHttZXRhTmFtZX1dYCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgcmV0dXJuIG1ldGFUYWcgPyBtZXRhVGFnLmdldEF0dHJpYnV0ZSgnY29udGVudCcpIDogdW5kZWZpbmVkO1xufVxuXG4vKiogU3RhcnQgbGlzdGVuZXIgZm9yIGludGVyYWN0aW9uIHRyYW5zYWN0aW9ucyAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJJbnRlcmFjdGlvbkxpc3RlbmVyKFxuICBvcHRpb25zLFxuICBsYXRlc3RSb3V0ZVxuXG4sXG4pIHtcbiAgbGV0IGluZmxpZ2h0SW50ZXJhY3Rpb25UcmFuc2FjdGlvbjtcbiAgY29uc3QgcmVnaXN0ZXJJbnRlcmFjdGlvblRyYW5zYWN0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaWRsZVRpbWVvdXQsIGZpbmFsVGltZW91dCwgaGVhcnRiZWF0SW50ZXJ2YWwgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgb3AgPSAndWkuYWN0aW9uLmNsaWNrJztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgIGNvbnN0IGN1cnJlbnRUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgaWYgKGN1cnJlbnRUcmFuc2FjdGlvbiAmJiBjdXJyZW50VHJhbnNhY3Rpb24ub3AgJiYgWyduYXZpZ2F0aW9uJywgJ3BhZ2Vsb2FkJ10uaW5jbHVkZXMoY3VycmVudFRyYW5zYWN0aW9uLm9wKSkge1xuICAgICAgREVCVUdfQlVJTEQgJiZcbiAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgYFtUcmFjaW5nXSBEaWQgbm90IGNyZWF0ZSAke29wfSB0cmFuc2FjdGlvbiBiZWNhdXNlIGEgcGFnZWxvYWQgb3IgbmF2aWdhdGlvbiB0cmFuc2FjdGlvbiBpcyBpbiBwcm9ncmVzcy5gLFxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoaW5mbGlnaHRJbnRlcmFjdGlvblRyYW5zYWN0aW9uKSB7XG4gICAgICBpbmZsaWdodEludGVyYWN0aW9uVHJhbnNhY3Rpb24uc2V0RmluaXNoUmVhc29uKCdpbnRlcmFjdGlvbkludGVycnVwdGVkJyk7XG4gICAgICBpbmZsaWdodEludGVyYWN0aW9uVHJhbnNhY3Rpb24uZW5kKCk7XG4gICAgICBpbmZsaWdodEludGVyYWN0aW9uVHJhbnNhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCFsYXRlc3RSb3V0ZS5uYW1lKSB7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIud2FybihgW1RyYWNpbmddIERpZCBub3QgY3JlYXRlICR7b3B9IHRyYW5zYWN0aW9uIGJlY2F1c2UgX2xhdGVzdFJvdXRlTmFtZSBpcyBtaXNzaW5nLmApO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCB7IGxvY2F0aW9uIH0gPSBXSU5ET1c7XG5cbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgbmFtZTogbGF0ZXN0Um91dGUubmFtZSxcbiAgICAgIG9wLFxuICAgICAgdHJpbUVuZDogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgW1NFTUFOVElDX0FUVFJJQlVURV9TRU5UUllfU09VUkNFXTogbGF0ZXN0Um91dGUuY29udGV4dCA/IGdldFNvdXJjZShsYXRlc3RSb3V0ZS5jb250ZXh0KSA6ICd1cmwnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaW5mbGlnaHRJbnRlcmFjdGlvblRyYW5zYWN0aW9uID0gc3RhcnRJZGxlVHJhbnNhY3Rpb24oXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIGdldEN1cnJlbnRIdWIoKSxcbiAgICAgIGNvbnRleHQsXG4gICAgICBpZGxlVGltZW91dCxcbiAgICAgIGZpbmFsVGltZW91dCxcbiAgICAgIHRydWUsXG4gICAgICB7IGxvY2F0aW9uIH0sIC8vIGZvciB1c2UgaW4gdGhlIHRyYWNlc1NhbXBsZXJcbiAgICAgIGhlYXJ0YmVhdEludGVydmFsLFxuICAgICk7XG4gIH07XG5cbiAgWydjbGljayddLmZvckVhY2godHlwZSA9PiB7XG4gICAgaWYgKFdJTkRPVy5kb2N1bWVudCkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCByZWdpc3RlckludGVyYWN0aW9uVHJhbnNhY3Rpb24sIHsgb25jZTogZmFsc2UsIGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNQZXJmb3JtYW5jZUV2ZW50VGltaW5nKGVudHJ5KSB7XG4gIHJldHVybiAnZHVyYXRpb24nIGluIGVudHJ5O1xufVxuXG4vKiogV2Ugc3RvcmUgdXAgdG8gMTAgaW50ZXJhY3Rpb24gY2FuZGlkYXRlcyBtYXggdG8gY2FwIG1lbW9yeSB1c2FnZS4gVGhpcyBpcyB0aGUgc2FtZSBjYXAgYXMgZ2V0SU5QIGZyb20gd2ViLXZpdGFscyAqL1xuY29uc3QgTUFYX0lOVEVSQUNUSU9OUyA9IDEwO1xuXG4vKiogQ3JlYXRlcyBhIGxpc3RlbmVyIG9uIGludGVyYWN0aW9uIGVudHJpZXMsIGFuZCBtYXBzIGludGVyYWN0aW9uSWRzIHRvIHRoZSBvcmlnaW4gcGF0aCBvZiB0aGUgaW50ZXJhY3Rpb24gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVySW5wSW50ZXJhY3Rpb25MaXN0ZW5lcihcbiAgaW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZyxcbiAgbGF0ZXN0Um91dGVcblxuLFxuKSB7XG4gIGNvbnN0IGhhbmRsZUVudHJpZXMgPSAoeyBlbnRyaWVzIH0pID0+IHtcbiAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnQoKTtcbiAgICAvLyBXZSBuZWVkIHRvIGdldCB0aGUgcmVwbGF5LCB1c2VyLCBhbmQgYWN0aXZlVHJhbnNhY3Rpb24gZnJvbSB0aGUgY3VycmVudCBzY29wZVxuICAgIC8vIHNvIHRoYXQgd2UgY2FuIGFzc29jaWF0ZSByZXBsYXkgaWQsIHByb2ZpbGUgaWQsIGFuZCBhIHVzZXIgZGlzcGxheSB0byB0aGUgc3BhblxuICAgIGNvbnN0IHJlcGxheSA9XG4gICAgICBjbGllbnQgIT09IHVuZGVmaW5lZCAmJiBjbGllbnQuZ2V0SW50ZWdyYXRpb25CeU5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IChjbGllbnQuZ2V0SW50ZWdyYXRpb25CeU5hbWUoJ1JlcGxheScpIClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVwbGF5SWQgPSByZXBsYXkgIT09IHVuZGVmaW5lZCA/IHJlcGxheS5nZXRSZXBsYXlJZCgpIDogdW5kZWZpbmVkO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgIGNvbnN0IGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICBjb25zdCBjdXJyZW50U2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgICBjb25zdCB1c2VyID0gY3VycmVudFNjb3BlICE9PSB1bmRlZmluZWQgPyBjdXJyZW50U2NvcGUuZ2V0VXNlcigpIDogdW5kZWZpbmVkO1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAoaXNQZXJmb3JtYW5jZUV2ZW50VGltaW5nKGVudHJ5KSkge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbklkID0gZW50cnkuaW50ZXJhY3Rpb25JZDtcbiAgICAgICAgaWYgKGludGVyYWN0aW9uSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleGlzdGluZ0ludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZ1tpbnRlcmFjdGlvbklkXTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbnRyeS5kdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gZW50cnkuc3RhcnRUaW1lO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoaW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZyk7XG4gICAgICAgIGNvbnN0IG1pbkludGVyYWN0aW9uSWQgPVxuICAgICAgICAgIGtleXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyBrZXlzLnJlZHVjZSgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcmFjdGlvbklkVG9Sb3V0ZU5hbWVNYXBwaW5nW2FdLmR1cmF0aW9uIDwgaW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZ1tiXS5kdXJhdGlvblxuICAgICAgICAgICAgICAgICAgPyBhXG4gICAgICAgICAgICAgICAgICA6IGI7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gRm9yIGEgZmlyc3QgaW5wdXQgZXZlbnQgdG8gYmUgY29uc2lkZXJlZCwgd2UgbXVzdCBjaGVjayB0aGF0IGFuIGludGVyYWN0aW9uIGV2ZW50IGRvZXMgbm90IGFscmVhZHkgZXhpc3Qgd2l0aCB0aGUgc2FtZSBkdXJhdGlvbiBhbmQgc3RhcnQgdGltZS5cbiAgICAgICAgLy8gVGhpcyBpcyBhbHNvIGNoZWNrZWQgaW4gdGhlIHdlYi12aXRhbHMgbGlicmFyeS5cbiAgICAgICAgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ2ZpcnN0LWlucHV0Jykge1xuICAgICAgICAgIGNvbnN0IG1hdGNoaW5nRW50cnkgPSBrZXlzXG4gICAgICAgICAgICAubWFwKGtleSA9PiBpbnRlcmFjdGlvbklkVG9Sb3V0ZU5hbWVNYXBwaW5nW2tleV0pXG4gICAgICAgICAgICAuc29tZShpbnRlcmFjdGlvbiA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBpbnRlcmFjdGlvbi5kdXJhdGlvbiA9PT0gZHVyYXRpb24gJiYgaW50ZXJhY3Rpb24uc3RhcnRUaW1lID09PSBzdGFydFRpbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobWF0Y2hpbmdFbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbnRlcmFjdGlvbnMgd2l0aCBhbiBpZCBvZiAwIGFuZCBhcmUgbm90IGZpcnN0LWlucHV0IGFyZSBub3QgdmFsaWQuXG4gICAgICAgIGlmICghaW50ZXJhY3Rpb25JZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgaW50ZXJhY3Rpb24gYWxyZWFkeSBleGlzdHMsIHdlIHdhbnQgdG8gdXNlIHRoZSBkdXJhdGlvbiBvZiB0aGUgbG9uZ2VzdCBlbnRyeSwgc2luY2UgdGhhdCBpcyB3aGF0IHRoZSBJTlAgbWV0cmljIHVzZXMuXG4gICAgICAgIGlmIChleGlzdGluZ0ludGVyYWN0aW9uKSB7XG4gICAgICAgICAgZXhpc3RpbmdJbnRlcmFjdGlvbi5kdXJhdGlvbiA9IE1hdGgubWF4KGV4aXN0aW5nSW50ZXJhY3Rpb24uZHVyYXRpb24sIGR1cmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBrZXlzLmxlbmd0aCA8IE1BWF9JTlRFUkFDVElPTlMgfHxcbiAgICAgICAgICBtaW5JbnRlcmFjdGlvbklkID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICBkdXJhdGlvbiA+IGludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmdbbWluSW50ZXJhY3Rpb25JZF0uZHVyYXRpb25cbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGludGVyYWN0aW9uIGRvZXMgbm90IGV4aXN0LCB3ZSB3YW50IHRvIGFkZCBpdCB0byB0aGUgbWFwcGluZyBpZiB0aGVyZSBpcyBzcGFjZSwgb3IgaWYgdGhlIGR1cmF0aW9uIGlzIGxvbmdlciB0aGFuIHRoZSBzaG9ydGVzdCBlbnRyeS5cbiAgICAgICAgICBjb25zdCByb3V0ZU5hbWUgPSBsYXRlc3RSb3V0ZS5uYW1lO1xuICAgICAgICAgIGNvbnN0IHBhcmVudENvbnRleHQgPSBsYXRlc3RSb3V0ZS5jb250ZXh0O1xuICAgICAgICAgIGlmIChyb3V0ZU5hbWUgJiYgcGFyZW50Q29udGV4dCkge1xuICAgICAgICAgICAgaWYgKG1pbkludGVyYWN0aW9uSWQgJiYgT2JqZWN0LmtleXMoaW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZykubGVuZ3RoID49IE1BWF9JTlRFUkFDVElPTlMpIHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZVxuICAgICAgICAgICAgICBkZWxldGUgaW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZ1ttaW5JbnRlcmFjdGlvbklkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmdbaW50ZXJhY3Rpb25JZF0gPSB7XG4gICAgICAgICAgICAgIHJvdXRlTmFtZSxcbiAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgIHBhcmVudENvbnRleHQsXG4gICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgICByZXBsYXlJZCxcbiAgICAgICAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgYWRkUGVyZm9ybWFuY2VJbnN0cnVtZW50YXRpb25IYW5kbGVyKCdldmVudCcsIGhhbmRsZUVudHJpZXMpO1xuICBhZGRQZXJmb3JtYW5jZUluc3RydW1lbnRhdGlvbkhhbmRsZXIoJ2ZpcnN0LWlucHV0JywgaGFuZGxlRW50cmllcyk7XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZShjb250ZXh0KSB7XG4gIGNvbnN0IHNvdXJjZUZyb21BdHRyaWJ1dGVzID0gY29udGV4dC5hdHRyaWJ1dGVzICYmIGNvbnRleHQuYXR0cmlidXRlc1tTRU1BTlRJQ19BVFRSSUJVVEVfU0VOVFJZX1NPVVJDRV07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICBjb25zdCBzb3VyY2VGcm9tRGF0YSA9IGNvbnRleHQuZGF0YSAmJiBjb250ZXh0LmRhdGFbU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9TT1VSQ0VdO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgY29uc3Qgc291cmNlRnJvbU1ldGFkYXRhID0gY29udGV4dC5tZXRhZGF0YSAmJiBjb250ZXh0Lm1ldGFkYXRhLnNvdXJjZTtcblxuICByZXR1cm4gc291cmNlRnJvbUF0dHJpYnV0ZXMgfHwgc291cmNlRnJvbURhdGEgfHwgc291cmNlRnJvbU1ldGFkYXRhO1xufVxuXG5leHBvcnQgeyBCUk9XU0VSX1RSQUNJTkdfSU5URUdSQVRJT05fSUQsIGJyb3dzZXJUcmFjaW5nSW50ZWdyYXRpb24sIGdldE1ldGFDb250ZW50LCBzdGFydEJyb3dzZXJUcmFjaW5nTmF2aWdhdGlvblNwYW4sIHN0YXJ0QnJvd3NlclRyYWNpbmdQYWdlTG9hZFNwYW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJUcmFjaW5nSW50ZWdyYXRpb24uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/browserTracingIntegration.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/browsertracing.js":
/*!******************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/browsertracing.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BROWSER_TRACING_INTEGRATION_ID: () => (/* binding */ BROWSER_TRACING_INTEGRATION_ID),\n/* harmony export */   BrowserTracing: () => (/* binding */ BrowserTracing),\n/* harmony export */   getMetaContent: () => (/* binding */ getMetaContent)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/idletransaction.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/hubextensions.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/utils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/semanticAttributes.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/exports.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/tracing.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/browser.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/debug-build.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _backgroundtab_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./backgroundtab.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/backgroundtab.js\");\n/* harmony import */ var _instrument_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./instrument.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/instrument.js\");\n/* harmony import */ var _metrics_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./metrics/index.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/index.js\");\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/request.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./router.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/router.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n\n\n\n\n\n\n\n\nconst BROWSER_TRACING_INTEGRATION_ID = 'BrowserTracing';\n\n/** Options for Browser Tracing integration */\n\nconst DEFAULT_BROWSER_TRACING_OPTIONS = {\n  ..._sentry_core__WEBPACK_IMPORTED_MODULE_0__.TRACING_DEFAULTS,\n  markBackgroundTransactions: true,\n  routingInstrumentation: _router_js__WEBPACK_IMPORTED_MODULE_1__.instrumentRoutingWithDefaults,\n  startTransactionOnLocationChange: true,\n  startTransactionOnPageLoad: true,\n  enableLongTask: true,\n  enableInp: false,\n  interactionsSampleRate: 1,\n  _experiments: {},\n  ..._request_js__WEBPACK_IMPORTED_MODULE_2__.defaultRequestInstrumentationOptions,\n};\n\n/** We store up to 10 interaction candidates max to cap memory usage. This is the same cap as getINP from web-vitals */\nconst MAX_INTERACTIONS = 10;\n\n/**\n * The Browser Tracing integration automatically instruments browser pageload/navigation\n * actions as transactions, and captures requests, metrics and errors as spans.\n *\n * The integration can be configured with a variety of options, and can be extended to use\n * any routing library. This integration uses {@see IdleTransaction} to create transactions.\n *\n * @deprecated Use `browserTracingIntegration()` instead.\n */\nclass BrowserTracing  {\n  // This class currently doesn't have a static `id` field like the other integration classes, because it prevented\n  // @sentry/tracing from being treeshaken. Tree shakers do not like static fields, because they behave like side effects.\n  // TODO: Come up with a better plan, than using static fields on integration classes, and use that plan on all\n  // integrations.\n\n  /** Browser Tracing integration options */\n\n  /**\n   * @inheritDoc\n   */\n\n  // eslint-disable-next-line deprecation/deprecation\n\n   constructor(_options) {\n    this.name = BROWSER_TRACING_INTEGRATION_ID;\n    this._hasSetTracePropagationTargets = false;\n\n    (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.addTracingExtensions)();\n\n    if (_common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD) {\n      this._hasSetTracePropagationTargets = !!(\n        _options &&\n        // eslint-disable-next-line deprecation/deprecation\n        (_options.tracePropagationTargets || _options.tracingOrigins)\n      );\n    }\n\n    this.options = {\n      ...DEFAULT_BROWSER_TRACING_OPTIONS,\n      ..._options,\n    };\n\n    // Special case: enableLongTask can be set in _experiments\n    // TODO (v8): Remove this in v8\n    if (this.options._experiments.enableLongTask !== undefined) {\n      this.options.enableLongTask = this.options._experiments.enableLongTask;\n    }\n\n    // TODO (v8): remove this block after tracingOrigins is removed\n    // Set tracePropagationTargets to tracingOrigins if specified by the user\n    // In case both are specified, tracePropagationTargets takes precedence\n    // eslint-disable-next-line deprecation/deprecation\n    if (_options && !_options.tracePropagationTargets && _options.tracingOrigins) {\n      // eslint-disable-next-line deprecation/deprecation\n      this.options.tracePropagationTargets = _options.tracingOrigins;\n    }\n\n    this._collectWebVitals = (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_5__.startTrackingWebVitals)();\n    /** Stores a mapping of interactionIds from PerformanceEventTimings to the origin interaction path */\n    this._interactionIdToRouteNameMapping = {};\n\n    if (this.options.enableInp) {\n      (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_5__.startTrackingINP)(this._interactionIdToRouteNameMapping, this.options.interactionsSampleRate);\n    }\n    if (this.options.enableLongTask) {\n      (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_5__.startTrackingLongTasks)();\n    }\n    if (this.options._experiments.enableInteractions) {\n      (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_5__.startTrackingInteractions)();\n    }\n\n    this._latestRoute = {\n      name: undefined,\n      context: undefined,\n    };\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    this._getCurrentHub = getCurrentHub;\n    const hub = getCurrentHub();\n    // eslint-disable-next-line deprecation/deprecation\n    const client = hub.getClient();\n    const clientOptions = client && client.getOptions();\n\n    const {\n      routingInstrumentation: instrumentRouting,\n      startTransactionOnLocationChange,\n      startTransactionOnPageLoad,\n      markBackgroundTransactions,\n      traceFetch,\n      traceXHR,\n      shouldCreateSpanForRequest,\n      enableHTTPTimings,\n      _experiments,\n    } = this.options;\n\n    const clientOptionsTracePropagationTargets = clientOptions && clientOptions.tracePropagationTargets;\n    // There are three ways to configure tracePropagationTargets:\n    // 1. via top level client option `tracePropagationTargets`\n    // 2. via BrowserTracing option `tracePropagationTargets`\n    // 3. via BrowserTracing option `tracingOrigins` (deprecated)\n    //\n    // To avoid confusion, favour top level client option `tracePropagationTargets`, and fallback to\n    // BrowserTracing option `tracePropagationTargets` and then `tracingOrigins` (deprecated).\n    // This is done as it minimizes bundle size (we don't have to have undefined checks).\n    //\n    // If both 1 and either one of 2 or 3 are set (from above), we log out a warning.\n    // eslint-disable-next-line deprecation/deprecation\n    const tracePropagationTargets = clientOptionsTracePropagationTargets || this.options.tracePropagationTargets;\n    if (_common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD && this._hasSetTracePropagationTargets && clientOptionsTracePropagationTargets) {\n      _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn(\n        '[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.',\n      );\n    }\n\n    instrumentRouting(\n      (context) => {\n        const transaction = this._createRouteTransaction(context);\n\n        this.options._experiments.onStartRouteTransaction &&\n          this.options._experiments.onStartRouteTransaction(transaction, context, getCurrentHub);\n\n        return transaction;\n      },\n      startTransactionOnPageLoad,\n      startTransactionOnLocationChange,\n    );\n\n    if (markBackgroundTransactions) {\n      (0,_backgroundtab_js__WEBPACK_IMPORTED_MODULE_7__.registerBackgroundTabDetection)();\n    }\n\n    if (_experiments.enableInteractions) {\n      this._registerInteractionListener();\n    }\n\n    if (this.options.enableInp) {\n      this._registerInpInteractionListener();\n    }\n\n    (0,_request_js__WEBPACK_IMPORTED_MODULE_2__.instrumentOutgoingRequests)({\n      traceFetch,\n      traceXHR,\n      tracePropagationTargets,\n      shouldCreateSpanForRequest,\n      enableHTTPTimings,\n    });\n  }\n\n  /** Create routing idle transaction. */\n   _createRouteTransaction(context) {\n    if (!this._getCurrentHub) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD &&\n        _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn(`[Tracing] Did not create ${context.op} transaction because _getCurrentHub is invalid.`);\n      return undefined;\n    }\n\n    const hub = this._getCurrentHub();\n\n    const { beforeNavigate, idleTimeout, finalTimeout, heartbeatInterval } = this.options;\n\n    const isPageloadTransaction = context.op === 'pageload';\n\n    let expandedContext;\n    if (isPageloadTransaction) {\n      const sentryTrace = isPageloadTransaction ? getMetaContent('sentry-trace') : '';\n      const baggage = isPageloadTransaction ? getMetaContent('baggage') : undefined;\n      const { traceId, dsc, parentSpanId, sampled } = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_8__.propagationContextFromHeaders)(sentryTrace, baggage);\n      expandedContext = {\n        traceId,\n        parentSpanId,\n        parentSampled: sampled,\n        ...context,\n        metadata: {\n          // eslint-disable-next-line deprecation/deprecation\n          ...context.metadata,\n          dynamicSamplingContext: dsc,\n        },\n        trimEnd: true,\n      };\n    } else {\n      expandedContext = {\n        trimEnd: true,\n        ...context,\n      };\n    }\n\n    const modifiedContext = typeof beforeNavigate === 'function' ? beforeNavigate(expandedContext) : expandedContext;\n\n    // For backwards compatibility reasons, beforeNavigate can return undefined to \"drop\" the transaction (prevent it\n    // from being sent to Sentry).\n    const finalContext = modifiedContext === undefined ? { ...expandedContext, sampled: false } : modifiedContext;\n\n    // If `beforeNavigate` set a custom name, record that fact\n    // eslint-disable-next-line deprecation/deprecation\n    finalContext.metadata =\n      finalContext.name !== expandedContext.name\n        ? // eslint-disable-next-line deprecation/deprecation\n          { ...finalContext.metadata, source: 'custom' }\n        : // eslint-disable-next-line deprecation/deprecation\n          finalContext.metadata;\n\n    this._latestRoute.name = finalContext.name;\n    this._latestRoute.context = finalContext;\n\n    // eslint-disable-next-line deprecation/deprecation\n    if (finalContext.sampled === false) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log(`[Tracing] Will not send ${finalContext.op} transaction because of beforeNavigate.`);\n    }\n\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log(`[Tracing] Starting ${finalContext.op} transaction on scope`);\n\n    const { location } = _types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW;\n\n    const idleTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.startIdleTransaction)(\n      hub,\n      finalContext,\n      idleTimeout,\n      finalTimeout,\n      true,\n      { location }, // for use in the tracesSampler\n      heartbeatInterval,\n      isPageloadTransaction, // should wait for finish signal if it's a pageload transaction\n    );\n\n    if (isPageloadTransaction) {\n      if (_types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW.document) {\n        _types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW.document.addEventListener('readystatechange', () => {\n          if (['interactive', 'complete'].includes(_types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW.document.readyState)) {\n            idleTransaction.sendAutoFinishSignal();\n          }\n        });\n\n        if (['interactive', 'complete'].includes(_types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW.document.readyState)) {\n          idleTransaction.sendAutoFinishSignal();\n        }\n      }\n    }\n\n    idleTransaction.registerBeforeFinishCallback(transaction => {\n      this._collectWebVitals();\n      (0,_metrics_index_js__WEBPACK_IMPORTED_MODULE_5__.addPerformanceEntries)(transaction);\n    });\n\n    return idleTransaction ;\n  }\n\n  /** Start listener for interaction transactions */\n   _registerInteractionListener() {\n    let inflightInteractionTransaction;\n    const registerInteractionTransaction = () => {\n      const { idleTimeout, finalTimeout, heartbeatInterval } = this.options;\n      const op = 'ui.action.click';\n\n      // eslint-disable-next-line deprecation/deprecation\n      const currentTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_10__.getActiveTransaction)();\n      if (currentTransaction && currentTransaction.op && ['navigation', 'pageload'].includes(currentTransaction.op)) {\n        _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD &&\n          _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn(\n            `[Tracing] Did not create ${op} transaction because a pageload or navigation transaction is in progress.`,\n          );\n        return undefined;\n      }\n\n      if (inflightInteractionTransaction) {\n        inflightInteractionTransaction.setFinishReason('interactionInterrupted');\n        inflightInteractionTransaction.end();\n        inflightInteractionTransaction = undefined;\n      }\n\n      if (!this._getCurrentHub) {\n        _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn(`[Tracing] Did not create ${op} transaction because _getCurrentHub is invalid.`);\n        return undefined;\n      }\n\n      if (!this._latestRoute.name) {\n        _common_debug_build_js__WEBPACK_IMPORTED_MODULE_4__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn(`[Tracing] Did not create ${op} transaction because _latestRouteName is missing.`);\n        return undefined;\n      }\n\n      const hub = this._getCurrentHub();\n      const { location } = _types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW;\n\n      const context = {\n        name: this._latestRoute.name,\n        op,\n        trimEnd: true,\n        data: {\n          [_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]: this._latestRoute.context\n            ? getSource(this._latestRoute.context)\n            : 'url',\n        },\n      };\n\n      inflightInteractionTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.startIdleTransaction)(\n        hub,\n        context,\n        idleTimeout,\n        finalTimeout,\n        true,\n        { location }, // for use in the tracesSampler\n        heartbeatInterval,\n      );\n    };\n\n    ['click'].forEach(type => {\n      if (_types_js__WEBPACK_IMPORTED_MODULE_9__.WINDOW.document) {\n        addEventListener(type, registerInteractionTransaction, { once: false, capture: true });\n      }\n    });\n  }\n\n  /** Creates a listener on interaction entries, and maps interactionIds to the origin path of the interaction */\n   _registerInpInteractionListener() {\n    const handleEntries = ({ entries }) => {\n      const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_12__.getClient)();\n      // We need to get the replay, user, and activeTransaction from the current scope\n      // so that we can associate replay id, profile id, and a user display to the span\n      const replay =\n        client !== undefined && client.getIntegrationByName !== undefined\n          ? (client.getIntegrationByName('Replay') )\n          : undefined;\n      const replayId = replay !== undefined ? replay.getReplayId() : undefined;\n      // eslint-disable-next-line deprecation/deprecation\n      const activeTransaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_10__.getActiveTransaction)();\n      const currentScope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_12__.getCurrentScope)();\n      const user = currentScope !== undefined ? currentScope.getUser() : undefined;\n      entries.forEach(entry => {\n        if (isPerformanceEventTiming(entry)) {\n          const interactionId = entry.interactionId;\n          if (interactionId === undefined) {\n            return;\n          }\n          const existingInteraction = this._interactionIdToRouteNameMapping[interactionId];\n          const duration = entry.duration;\n          const startTime = entry.startTime;\n          const keys = Object.keys(this._interactionIdToRouteNameMapping);\n          const minInteractionId =\n            keys.length > 0\n              ? keys.reduce((a, b) => {\n                  return this._interactionIdToRouteNameMapping[a].duration <\n                    this._interactionIdToRouteNameMapping[b].duration\n                    ? a\n                    : b;\n                })\n              : undefined;\n          // For a first input event to be considered, we must check that an interaction event does not already exist with the same duration and start time.\n          // This is also checked in the web-vitals library.\n          if (entry.entryType === 'first-input') {\n            const matchingEntry = keys\n              .map(key => this._interactionIdToRouteNameMapping[key])\n              .some(interaction => {\n                return interaction.duration === duration && interaction.startTime === startTime;\n              });\n            if (matchingEntry) {\n              return;\n            }\n          }\n          // Interactions with an id of 0 and are not first-input are not valid.\n          if (!interactionId) {\n            return;\n          }\n          // If the interaction already exists, we want to use the duration of the longest entry, since that is what the INP metric uses.\n          if (existingInteraction) {\n            existingInteraction.duration = Math.max(existingInteraction.duration, duration);\n          } else if (\n            keys.length < MAX_INTERACTIONS ||\n            minInteractionId === undefined ||\n            duration > this._interactionIdToRouteNameMapping[minInteractionId].duration\n          ) {\n            // If the interaction does not exist, we want to add it to the mapping if there is space, or if the duration is longer than the shortest entry.\n            const routeName = this._latestRoute.name;\n            const parentContext = this._latestRoute.context;\n            if (routeName && parentContext) {\n              if (minInteractionId && Object.keys(this._interactionIdToRouteNameMapping).length >= MAX_INTERACTIONS) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete this._interactionIdToRouteNameMapping[minInteractionId];\n              }\n              this._interactionIdToRouteNameMapping[interactionId] = {\n                routeName,\n                duration,\n                parentContext,\n                user,\n                activeTransaction,\n                replayId,\n                startTime,\n              };\n            }\n          }\n        }\n      });\n    };\n    (0,_instrument_js__WEBPACK_IMPORTED_MODULE_13__.addPerformanceInstrumentationHandler)('event', handleEntries);\n    (0,_instrument_js__WEBPACK_IMPORTED_MODULE_13__.addPerformanceInstrumentationHandler)('first-input', handleEntries);\n  }\n}\n\n/** Returns the value of a meta tag */\nfunction getMetaContent(metaName) {\n  // Can't specify generic to `getDomElement` because tracing can be used\n  // in a variety of environments, have to disable `no-unsafe-member-access`\n  // as a result.\n  const metaTag = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_14__.getDomElement)(`meta[name=${metaName}]`);\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return metaTag ? metaTag.getAttribute('content') : undefined;\n}\n\nfunction getSource(context) {\n  const sourceFromAttributes = context.attributes && context.attributes[_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];\n  // eslint-disable-next-line deprecation/deprecation\n  const sourceFromData = context.data && context.data[_sentry_core__WEBPACK_IMPORTED_MODULE_11__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];\n  // eslint-disable-next-line deprecation/deprecation\n  const sourceFromMetadata = context.metadata && context.metadata.source;\n\n  return sourceFromAttributes || sourceFromData || sourceFromMetadata;\n}\n\nfunction isPerformanceEventTiming(entry) {\n  return 'duration' in entry;\n}\n\n\n//# sourceMappingURL=browsertracing.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9icm93c2VydHJhY2luZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0w7QUFDM0Y7QUFDOUI7QUFDYTtBQUNHO0FBQ2lGO0FBQ3hEO0FBQ3BDO0FBQ3hCOztBQUVwQzs7QUFFQTs7QUFFQTtBQUNBLEtBQUssMERBQWdCO0FBQ3JCO0FBQ0EsMEJBQTBCLHFFQUE2QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLEtBQUssNkVBQW9DO0FBQ3pDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxzQkFBc0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUksa0VBQW9COztBQUV4QixRQUFRLCtEQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLHlFQUFzQjtBQUNuRDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxtRUFBZ0I7QUFDdEI7QUFDQTtBQUNBLE1BQU0seUVBQXNCO0FBQzVCO0FBQ0E7QUFDQSxNQUFNLDRFQUF5QjtBQUMvQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0RBQVc7QUFDbkIsTUFBTSxpREFBTTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGlGQUE4QjtBQUNwQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUksdUVBQTBCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrREFBVztBQUNqQixRQUFRLGlEQUFNLGtDQUFrQyxZQUFZO0FBQzVEO0FBQ0E7O0FBRUE7O0FBRUEsWUFBWSwrREFBK0Q7O0FBRTNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzQ0FBc0MsRUFBRSw0RUFBNkI7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsMkRBQTJELHFDQUFxQzs7QUFFaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sK0RBQVcsSUFBSSxpREFBTSxnQ0FBZ0MsaUJBQWlCO0FBQzVFOztBQUVBLElBQUksK0RBQVcsSUFBSSxpREFBTSwyQkFBMkIsaUJBQWlCOztBQUVyRSxZQUFZLFdBQVcsRUFBRSw2Q0FBTTs7QUFFL0IsNEJBQTRCLGtFQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxVQUFVO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsNkNBQU07QUFDaEIsUUFBUSw2Q0FBTTtBQUNkLG1EQUFtRCw2Q0FBTTtBQUN6RDtBQUNBO0FBQ0EsU0FBUzs7QUFFVCxpREFBaUQsNkNBQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sd0VBQXFCO0FBQzNCLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsK0NBQStDO0FBQzdEOztBQUVBO0FBQ0EsaUNBQWlDLG1FQUFvQjtBQUNyRDtBQUNBLFFBQVEsK0RBQVc7QUFDbkIsVUFBVSxpREFBTTtBQUNoQix3Q0FBd0MsSUFBSTtBQUM1QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsK0RBQVcsSUFBSSxpREFBTSxrQ0FBa0MsSUFBSTtBQUNuRTtBQUNBOztBQUVBO0FBQ0EsUUFBUSwrREFBVyxJQUFJLGlEQUFNLGtDQUFrQyxJQUFJO0FBQ25FO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFdBQVcsRUFBRSw2Q0FBTTs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMkVBQWdDO0FBQzNDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsdUNBQXVDLGtFQUFvQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsNkNBQU07QUFDaEIsaUVBQWlFLDRCQUE0QjtBQUM3RjtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEMscUJBQXFCLHdEQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUVBQW9CO0FBQ3BELDJCQUEyQiw4REFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLElBQUkscUZBQW9DO0FBQ3hDLElBQUkscUZBQW9DO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2REFBYSxjQUFjLFNBQVM7QUFDdEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0VBQXdFLDJFQUFnQztBQUN4RztBQUNBLHNEQUFzRCwyRUFBZ0M7QUFDdEY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFMEU7QUFDMUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvYnJvd3NlcnRyYWNpbmcuanM/ZDI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUUkFDSU5HX0RFRkFVTFRTLCBhZGRUcmFjaW5nRXh0ZW5zaW9ucywgc3RhcnRJZGxlVHJhbnNhY3Rpb24sIGdldEFjdGl2ZVRyYW5zYWN0aW9uLCBTRU1BTlRJQ19BVFRSSUJVVEVfU0VOVFJZX1NPVVJDRSwgZ2V0Q2xpZW50LCBnZXRDdXJyZW50U2NvcGUgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgbG9nZ2VyLCBwcm9wYWdhdGlvbkNvbnRleHRGcm9tSGVhZGVycywgZ2V0RG9tRWxlbWVudCB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgREVCVUdfQlVJTEQgfSBmcm9tICcuLi9jb21tb24vZGVidWctYnVpbGQuanMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJCYWNrZ3JvdW5kVGFiRGV0ZWN0aW9uIH0gZnJvbSAnLi9iYWNrZ3JvdW5kdGFiLmpzJztcbmltcG9ydCB7IGFkZFBlcmZvcm1hbmNlSW5zdHJ1bWVudGF0aW9uSGFuZGxlciB9IGZyb20gJy4vaW5zdHJ1bWVudC5qcyc7XG5pbXBvcnQgeyBzdGFydFRyYWNraW5nV2ViVml0YWxzLCBzdGFydFRyYWNraW5nSU5QLCBzdGFydFRyYWNraW5nTG9uZ1Rhc2tzLCBzdGFydFRyYWNraW5nSW50ZXJhY3Rpb25zLCBhZGRQZXJmb3JtYW5jZUVudHJpZXMgfSBmcm9tICcuL21ldHJpY3MvaW5kZXguanMnO1xuaW1wb3J0IHsgZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLCBpbnN0cnVtZW50T3V0Z29pbmdSZXF1ZXN0cyB9IGZyb20gJy4vcmVxdWVzdC5qcyc7XG5pbXBvcnQgeyBpbnN0cnVtZW50Um91dGluZ1dpdGhEZWZhdWx0cyB9IGZyb20gJy4vcm91dGVyLmpzJztcbmltcG9ydCB7IFdJTkRPVyB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG5jb25zdCBCUk9XU0VSX1RSQUNJTkdfSU5URUdSQVRJT05fSUQgPSAnQnJvd3NlclRyYWNpbmcnO1xuXG4vKiogT3B0aW9ucyBmb3IgQnJvd3NlciBUcmFjaW5nIGludGVncmF0aW9uICovXG5cbmNvbnN0IERFRkFVTFRfQlJPV1NFUl9UUkFDSU5HX09QVElPTlMgPSB7XG4gIC4uLlRSQUNJTkdfREVGQVVMVFMsXG4gIG1hcmtCYWNrZ3JvdW5kVHJhbnNhY3Rpb25zOiB0cnVlLFxuICByb3V0aW5nSW5zdHJ1bWVudGF0aW9uOiBpbnN0cnVtZW50Um91dGluZ1dpdGhEZWZhdWx0cyxcbiAgc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2U6IHRydWUsXG4gIHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkOiB0cnVlLFxuICBlbmFibGVMb25nVGFzazogdHJ1ZSxcbiAgZW5hYmxlSW5wOiBmYWxzZSxcbiAgaW50ZXJhY3Rpb25zU2FtcGxlUmF0ZTogMSxcbiAgX2V4cGVyaW1lbnRzOiB7fSxcbiAgLi4uZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLFxufTtcblxuLyoqIFdlIHN0b3JlIHVwIHRvIDEwIGludGVyYWN0aW9uIGNhbmRpZGF0ZXMgbWF4IHRvIGNhcCBtZW1vcnkgdXNhZ2UuIFRoaXMgaXMgdGhlIHNhbWUgY2FwIGFzIGdldElOUCBmcm9tIHdlYi12aXRhbHMgKi9cbmNvbnN0IE1BWF9JTlRFUkFDVElPTlMgPSAxMDtcblxuLyoqXG4gKiBUaGUgQnJvd3NlciBUcmFjaW5nIGludGVncmF0aW9uIGF1dG9tYXRpY2FsbHkgaW5zdHJ1bWVudHMgYnJvd3NlciBwYWdlbG9hZC9uYXZpZ2F0aW9uXG4gKiBhY3Rpb25zIGFzIHRyYW5zYWN0aW9ucywgYW5kIGNhcHR1cmVzIHJlcXVlc3RzLCBtZXRyaWNzIGFuZCBlcnJvcnMgYXMgc3BhbnMuXG4gKlxuICogVGhlIGludGVncmF0aW9uIGNhbiBiZSBjb25maWd1cmVkIHdpdGggYSB2YXJpZXR5IG9mIG9wdGlvbnMsIGFuZCBjYW4gYmUgZXh0ZW5kZWQgdG8gdXNlXG4gKiBhbnkgcm91dGluZyBsaWJyYXJ5LiBUaGlzIGludGVncmF0aW9uIHVzZXMge0BzZWUgSWRsZVRyYW5zYWN0aW9ufSB0byBjcmVhdGUgdHJhbnNhY3Rpb25zLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgYnJvd3NlclRyYWNpbmdJbnRlZ3JhdGlvbigpYCBpbnN0ZWFkLlxuICovXG5jbGFzcyBCcm93c2VyVHJhY2luZyAge1xuICAvLyBUaGlzIGNsYXNzIGN1cnJlbnRseSBkb2Vzbid0IGhhdmUgYSBzdGF0aWMgYGlkYCBmaWVsZCBsaWtlIHRoZSBvdGhlciBpbnRlZ3JhdGlvbiBjbGFzc2VzLCBiZWNhdXNlIGl0IHByZXZlbnRlZFxuICAvLyBAc2VudHJ5L3RyYWNpbmcgZnJvbSBiZWluZyB0cmVlc2hha2VuLiBUcmVlIHNoYWtlcnMgZG8gbm90IGxpa2Ugc3RhdGljIGZpZWxkcywgYmVjYXVzZSB0aGV5IGJlaGF2ZSBsaWtlIHNpZGUgZWZmZWN0cy5cbiAgLy8gVE9ETzogQ29tZSB1cCB3aXRoIGEgYmV0dGVyIHBsYW4sIHRoYW4gdXNpbmcgc3RhdGljIGZpZWxkcyBvbiBpbnRlZ3JhdGlvbiBjbGFzc2VzLCBhbmQgdXNlIHRoYXQgcGxhbiBvbiBhbGxcbiAgLy8gaW50ZWdyYXRpb25zLlxuXG4gIC8qKiBCcm93c2VyIFRyYWNpbmcgaW50ZWdyYXRpb24gb3B0aW9ucyAqL1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cblxuICAgY29uc3RydWN0b3IoX29wdGlvbnMpIHtcbiAgICB0aGlzLm5hbWUgPSBCUk9XU0VSX1RSQUNJTkdfSU5URUdSQVRJT05fSUQ7XG4gICAgdGhpcy5faGFzU2V0VHJhY2VQcm9wYWdhdGlvblRhcmdldHMgPSBmYWxzZTtcblxuICAgIGFkZFRyYWNpbmdFeHRlbnNpb25zKCk7XG5cbiAgICBpZiAoREVCVUdfQlVJTEQpIHtcbiAgICAgIHRoaXMuX2hhc1NldFRyYWNlUHJvcGFnYXRpb25UYXJnZXRzID0gISEoXG4gICAgICAgIF9vcHRpb25zICYmXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAoX29wdGlvbnMudHJhY2VQcm9wYWdhdGlvblRhcmdldHMgfHwgX29wdGlvbnMudHJhY2luZ09yaWdpbnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLkRFRkFVTFRfQlJPV1NFUl9UUkFDSU5HX09QVElPTlMsXG4gICAgICAuLi5fb3B0aW9ucyxcbiAgICB9O1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlOiBlbmFibGVMb25nVGFzayBjYW4gYmUgc2V0IGluIF9leHBlcmltZW50c1xuICAgIC8vIFRPRE8gKHY4KTogUmVtb3ZlIHRoaXMgaW4gdjhcbiAgICBpZiAodGhpcy5vcHRpb25zLl9leHBlcmltZW50cy5lbmFibGVMb25nVGFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlTG9uZ1Rhc2sgPSB0aGlzLm9wdGlvbnMuX2V4cGVyaW1lbnRzLmVuYWJsZUxvbmdUYXNrO1xuICAgIH1cblxuICAgIC8vIFRPRE8gKHY4KTogcmVtb3ZlIHRoaXMgYmxvY2sgYWZ0ZXIgdHJhY2luZ09yaWdpbnMgaXMgcmVtb3ZlZFxuICAgIC8vIFNldCB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyB0byB0cmFjaW5nT3JpZ2lucyBpZiBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcbiAgICAvLyBJbiBjYXNlIGJvdGggYXJlIHNwZWNpZmllZCwgdHJhY2VQcm9wYWdhdGlvblRhcmdldHMgdGFrZXMgcHJlY2VkZW5jZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgIGlmIChfb3B0aW9ucyAmJiAhX29wdGlvbnMudHJhY2VQcm9wYWdhdGlvblRhcmdldHMgJiYgX29wdGlvbnMudHJhY2luZ09yaWdpbnMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgdGhpcy5vcHRpb25zLnRyYWNlUHJvcGFnYXRpb25UYXJnZXRzID0gX29wdGlvbnMudHJhY2luZ09yaWdpbnM7XG4gICAgfVxuXG4gICAgdGhpcy5fY29sbGVjdFdlYlZpdGFscyA9IHN0YXJ0VHJhY2tpbmdXZWJWaXRhbHMoKTtcbiAgICAvKiogU3RvcmVzIGEgbWFwcGluZyBvZiBpbnRlcmFjdGlvbklkcyBmcm9tIFBlcmZvcm1hbmNlRXZlbnRUaW1pbmdzIHRvIHRoZSBvcmlnaW4gaW50ZXJhY3Rpb24gcGF0aCAqL1xuICAgIHRoaXMuX2ludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmcgPSB7fTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlSW5wKSB7XG4gICAgICBzdGFydFRyYWNraW5nSU5QKHRoaXMuX2ludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmcsIHRoaXMub3B0aW9ucy5pbnRlcmFjdGlvbnNTYW1wbGVSYXRlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lbmFibGVMb25nVGFzaykge1xuICAgICAgc3RhcnRUcmFja2luZ0xvbmdUYXNrcygpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLl9leHBlcmltZW50cy5lbmFibGVJbnRlcmFjdGlvbnMpIHtcbiAgICAgIHN0YXJ0VHJhY2tpbmdJbnRlcmFjdGlvbnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9sYXRlc3RSb3V0ZSA9IHtcbiAgICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICAgIGNvbnRleHQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgIHNldHVwT25jZShfLCBnZXRDdXJyZW50SHViKSB7XG4gICAgdGhpcy5fZ2V0Q3VycmVudEh1YiA9IGdldEN1cnJlbnRIdWI7XG4gICAgY29uc3QgaHViID0gZ2V0Q3VycmVudEh1YigpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgIGNvbnN0IGNsaWVudCA9IGh1Yi5nZXRDbGllbnQoKTtcbiAgICBjb25zdCBjbGllbnRPcHRpb25zID0gY2xpZW50ICYmIGNsaWVudC5nZXRPcHRpb25zKCk7XG5cbiAgICBjb25zdCB7XG4gICAgICByb3V0aW5nSW5zdHJ1bWVudGF0aW9uOiBpbnN0cnVtZW50Um91dGluZyxcbiAgICAgIHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlLFxuICAgICAgc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQsXG4gICAgICBtYXJrQmFja2dyb3VuZFRyYW5zYWN0aW9ucyxcbiAgICAgIHRyYWNlRmV0Y2gsXG4gICAgICB0cmFjZVhIUixcbiAgICAgIHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0LFxuICAgICAgZW5hYmxlSFRUUFRpbWluZ3MsXG4gICAgICBfZXhwZXJpbWVudHMsXG4gICAgfSA9IHRoaXMub3B0aW9ucztcblxuICAgIGNvbnN0IGNsaWVudE9wdGlvbnNUcmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyA9IGNsaWVudE9wdGlvbnMgJiYgY2xpZW50T3B0aW9ucy50cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cztcbiAgICAvLyBUaGVyZSBhcmUgdGhyZWUgd2F5cyB0byBjb25maWd1cmUgdHJhY2VQcm9wYWdhdGlvblRhcmdldHM6XG4gICAgLy8gMS4gdmlhIHRvcCBsZXZlbCBjbGllbnQgb3B0aW9uIGB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0c2BcbiAgICAvLyAyLiB2aWEgQnJvd3NlclRyYWNpbmcgb3B0aW9uIGB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0c2BcbiAgICAvLyAzLiB2aWEgQnJvd3NlclRyYWNpbmcgb3B0aW9uIGB0cmFjaW5nT3JpZ2luc2AgKGRlcHJlY2F0ZWQpXG4gICAgLy9cbiAgICAvLyBUbyBhdm9pZCBjb25mdXNpb24sIGZhdm91ciB0b3AgbGV2ZWwgY2xpZW50IG9wdGlvbiBgdHJhY2VQcm9wYWdhdGlvblRhcmdldHNgLCBhbmQgZmFsbGJhY2sgdG9cbiAgICAvLyBCcm93c2VyVHJhY2luZyBvcHRpb24gYHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzYCBhbmQgdGhlbiBgdHJhY2luZ09yaWdpbnNgIChkZXByZWNhdGVkKS5cbiAgICAvLyBUaGlzIGlzIGRvbmUgYXMgaXQgbWluaW1pemVzIGJ1bmRsZSBzaXplICh3ZSBkb24ndCBoYXZlIHRvIGhhdmUgdW5kZWZpbmVkIGNoZWNrcykuXG4gICAgLy9cbiAgICAvLyBJZiBib3RoIDEgYW5kIGVpdGhlciBvbmUgb2YgMiBvciAzIGFyZSBzZXQgKGZyb20gYWJvdmUpLCB3ZSBsb2cgb3V0IGEgd2FybmluZy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICBjb25zdCB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyA9IGNsaWVudE9wdGlvbnNUcmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyB8fCB0aGlzLm9wdGlvbnMudHJhY2VQcm9wYWdhdGlvblRhcmdldHM7XG4gICAgaWYgKERFQlVHX0JVSUxEICYmIHRoaXMuX2hhc1NldFRyYWNlUHJvcGFnYXRpb25UYXJnZXRzICYmIGNsaWVudE9wdGlvbnNUcmFjZVByb3BhZ2F0aW9uVGFyZ2V0cykge1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICdbVHJhY2luZ10gVGhlIGB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0c2Agb3B0aW9uIHdhcyBzZXQgaW4gdGhlIEJyb3dzZXJUcmFjaW5nIGludGVncmF0aW9uIGFuZCB0b3AgbGV2ZWwgYFNlbnRyeS5pbml0YC4gVGhlIHRvcCBsZXZlbCBgU2VudHJ5LmluaXRgIHZhbHVlIGlzIGJlaW5nIHVzZWQuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaW5zdHJ1bWVudFJvdXRpbmcoXG4gICAgICAoY29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuX2NyZWF0ZVJvdXRlVHJhbnNhY3Rpb24oY29udGV4dCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLl9leHBlcmltZW50cy5vblN0YXJ0Um91dGVUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgIHRoaXMub3B0aW9ucy5fZXhwZXJpbWVudHMub25TdGFydFJvdXRlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24sIGNvbnRleHQsIGdldEN1cnJlbnRIdWIpO1xuXG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICAgIH0sXG4gICAgICBzdGFydFRyYW5zYWN0aW9uT25QYWdlTG9hZCxcbiAgICAgIHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlLFxuICAgICk7XG5cbiAgICBpZiAobWFya0JhY2tncm91bmRUcmFuc2FjdGlvbnMpIHtcbiAgICAgIHJlZ2lzdGVyQmFja2dyb3VuZFRhYkRldGVjdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChfZXhwZXJpbWVudHMuZW5hYmxlSW50ZXJhY3Rpb25zKSB7XG4gICAgICB0aGlzLl9yZWdpc3RlckludGVyYWN0aW9uTGlzdGVuZXIoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUlucCkge1xuICAgICAgdGhpcy5fcmVnaXN0ZXJJbnBJbnRlcmFjdGlvbkxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgaW5zdHJ1bWVudE91dGdvaW5nUmVxdWVzdHMoe1xuICAgICAgdHJhY2VGZXRjaCxcbiAgICAgIHRyYWNlWEhSLFxuICAgICAgdHJhY2VQcm9wYWdhdGlvblRhcmdldHMsXG4gICAgICBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCxcbiAgICAgIGVuYWJsZUhUVFBUaW1pbmdzLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqIENyZWF0ZSByb3V0aW5nIGlkbGUgdHJhbnNhY3Rpb24uICovXG4gICBfY3JlYXRlUm91dGVUcmFuc2FjdGlvbihjb250ZXh0KSB7XG4gICAgaWYgKCF0aGlzLl9nZXRDdXJyZW50SHViKSB7XG4gICAgICBERUJVR19CVUlMRCAmJlxuICAgICAgICBsb2dnZXIud2FybihgW1RyYWNpbmddIERpZCBub3QgY3JlYXRlICR7Y29udGV4dC5vcH0gdHJhbnNhY3Rpb24gYmVjYXVzZSBfZ2V0Q3VycmVudEh1YiBpcyBpbnZhbGlkLmApO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBodWIgPSB0aGlzLl9nZXRDdXJyZW50SHViKCk7XG5cbiAgICBjb25zdCB7IGJlZm9yZU5hdmlnYXRlLCBpZGxlVGltZW91dCwgZmluYWxUaW1lb3V0LCBoZWFydGJlYXRJbnRlcnZhbCB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgY29uc3QgaXNQYWdlbG9hZFRyYW5zYWN0aW9uID0gY29udGV4dC5vcCA9PT0gJ3BhZ2Vsb2FkJztcblxuICAgIGxldCBleHBhbmRlZENvbnRleHQ7XG4gICAgaWYgKGlzUGFnZWxvYWRUcmFuc2FjdGlvbikge1xuICAgICAgY29uc3Qgc2VudHJ5VHJhY2UgPSBpc1BhZ2Vsb2FkVHJhbnNhY3Rpb24gPyBnZXRNZXRhQ29udGVudCgnc2VudHJ5LXRyYWNlJykgOiAnJztcbiAgICAgIGNvbnN0IGJhZ2dhZ2UgPSBpc1BhZ2Vsb2FkVHJhbnNhY3Rpb24gPyBnZXRNZXRhQ29udGVudCgnYmFnZ2FnZScpIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgeyB0cmFjZUlkLCBkc2MsIHBhcmVudFNwYW5JZCwgc2FtcGxlZCB9ID0gcHJvcGFnYXRpb25Db250ZXh0RnJvbUhlYWRlcnMoc2VudHJ5VHJhY2UsIGJhZ2dhZ2UpO1xuICAgICAgZXhwYW5kZWRDb250ZXh0ID0ge1xuICAgICAgICB0cmFjZUlkLFxuICAgICAgICBwYXJlbnRTcGFuSWQsXG4gICAgICAgIHBhcmVudFNhbXBsZWQ6IHNhbXBsZWQsXG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgLi4uY29udGV4dC5tZXRhZGF0YSxcbiAgICAgICAgICBkeW5hbWljU2FtcGxpbmdDb250ZXh0OiBkc2MsXG4gICAgICAgIH0sXG4gICAgICAgIHRyaW1FbmQ6IHRydWUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBhbmRlZENvbnRleHQgPSB7XG4gICAgICAgIHRyaW1FbmQ6IHRydWUsXG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IG1vZGlmaWVkQ29udGV4dCA9IHR5cGVvZiBiZWZvcmVOYXZpZ2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGJlZm9yZU5hdmlnYXRlKGV4cGFuZGVkQ29udGV4dCkgOiBleHBhbmRlZENvbnRleHQ7XG5cbiAgICAvLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29ucywgYmVmb3JlTmF2aWdhdGUgY2FuIHJldHVybiB1bmRlZmluZWQgdG8gXCJkcm9wXCIgdGhlIHRyYW5zYWN0aW9uIChwcmV2ZW50IGl0XG4gICAgLy8gZnJvbSBiZWluZyBzZW50IHRvIFNlbnRyeSkuXG4gICAgY29uc3QgZmluYWxDb250ZXh0ID0gbW9kaWZpZWRDb250ZXh0ID09PSB1bmRlZmluZWQgPyB7IC4uLmV4cGFuZGVkQ29udGV4dCwgc2FtcGxlZDogZmFsc2UgfSA6IG1vZGlmaWVkQ29udGV4dDtcblxuICAgIC8vIElmIGBiZWZvcmVOYXZpZ2F0ZWAgc2V0IGEgY3VzdG9tIG5hbWUsIHJlY29yZCB0aGF0IGZhY3RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICBmaW5hbENvbnRleHQubWV0YWRhdGEgPVxuICAgICAgZmluYWxDb250ZXh0Lm5hbWUgIT09IGV4cGFuZGVkQ29udGV4dC5uYW1lXG4gICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgeyAuLi5maW5hbENvbnRleHQubWV0YWRhdGEsIHNvdXJjZTogJ2N1c3RvbScgfVxuICAgICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgIGZpbmFsQ29udGV4dC5tZXRhZGF0YTtcblxuICAgIHRoaXMuX2xhdGVzdFJvdXRlLm5hbWUgPSBmaW5hbENvbnRleHQubmFtZTtcbiAgICB0aGlzLl9sYXRlc3RSb3V0ZS5jb250ZXh0ID0gZmluYWxDb250ZXh0O1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgaWYgKGZpbmFsQ29udGV4dC5zYW1wbGVkID09PSBmYWxzZSkge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZyhgW1RyYWNpbmddIFdpbGwgbm90IHNlbmQgJHtmaW5hbENvbnRleHQub3B9IHRyYW5zYWN0aW9uIGJlY2F1c2Ugb2YgYmVmb3JlTmF2aWdhdGUuYCk7XG4gICAgfVxuXG4gICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZyhgW1RyYWNpbmddIFN0YXJ0aW5nICR7ZmluYWxDb250ZXh0Lm9wfSB0cmFuc2FjdGlvbiBvbiBzY29wZWApO1xuXG4gICAgY29uc3QgeyBsb2NhdGlvbiB9ID0gV0lORE9XO1xuXG4gICAgY29uc3QgaWRsZVRyYW5zYWN0aW9uID0gc3RhcnRJZGxlVHJhbnNhY3Rpb24oXG4gICAgICBodWIsXG4gICAgICBmaW5hbENvbnRleHQsXG4gICAgICBpZGxlVGltZW91dCxcbiAgICAgIGZpbmFsVGltZW91dCxcbiAgICAgIHRydWUsXG4gICAgICB7IGxvY2F0aW9uIH0sIC8vIGZvciB1c2UgaW4gdGhlIHRyYWNlc1NhbXBsZXJcbiAgICAgIGhlYXJ0YmVhdEludGVydmFsLFxuICAgICAgaXNQYWdlbG9hZFRyYW5zYWN0aW9uLCAvLyBzaG91bGQgd2FpdCBmb3IgZmluaXNoIHNpZ25hbCBpZiBpdCdzIGEgcGFnZWxvYWQgdHJhbnNhY3Rpb25cbiAgICApO1xuXG4gICAgaWYgKGlzUGFnZWxvYWRUcmFuc2FjdGlvbikge1xuICAgICAgaWYgKFdJTkRPVy5kb2N1bWVudCkge1xuICAgICAgICBXSU5ET1cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoWydpbnRlcmFjdGl2ZScsICdjb21wbGV0ZSddLmluY2x1ZGVzKFdJTkRPVy5kb2N1bWVudC5yZWFkeVN0YXRlKSkge1xuICAgICAgICAgICAgaWRsZVRyYW5zYWN0aW9uLnNlbmRBdXRvRmluaXNoU2lnbmFsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoWydpbnRlcmFjdGl2ZScsICdjb21wbGV0ZSddLmluY2x1ZGVzKFdJTkRPVy5kb2N1bWVudC5yZWFkeVN0YXRlKSkge1xuICAgICAgICAgIGlkbGVUcmFuc2FjdGlvbi5zZW5kQXV0b0ZpbmlzaFNpZ25hbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWRsZVRyYW5zYWN0aW9uLnJlZ2lzdGVyQmVmb3JlRmluaXNoQ2FsbGJhY2sodHJhbnNhY3Rpb24gPT4ge1xuICAgICAgdGhpcy5fY29sbGVjdFdlYlZpdGFscygpO1xuICAgICAgYWRkUGVyZm9ybWFuY2VFbnRyaWVzKHRyYW5zYWN0aW9uKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpZGxlVHJhbnNhY3Rpb24gO1xuICB9XG5cbiAgLyoqIFN0YXJ0IGxpc3RlbmVyIGZvciBpbnRlcmFjdGlvbiB0cmFuc2FjdGlvbnMgKi9cbiAgIF9yZWdpc3RlckludGVyYWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgbGV0IGluZmxpZ2h0SW50ZXJhY3Rpb25UcmFuc2FjdGlvbjtcbiAgICBjb25zdCByZWdpc3RlckludGVyYWN0aW9uVHJhbnNhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGlkbGVUaW1lb3V0LCBmaW5hbFRpbWVvdXQsIGhlYXJ0YmVhdEludGVydmFsIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICBjb25zdCBvcCA9ICd1aS5hY3Rpb24uY2xpY2snO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIGNvbnN0IGN1cnJlbnRUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgICBpZiAoY3VycmVudFRyYW5zYWN0aW9uICYmIGN1cnJlbnRUcmFuc2FjdGlvbi5vcCAmJiBbJ25hdmlnYXRpb24nLCAncGFnZWxvYWQnXS5pbmNsdWRlcyhjdXJyZW50VHJhbnNhY3Rpb24ub3ApKSB7XG4gICAgICAgIERFQlVHX0JVSUxEICYmXG4gICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICBgW1RyYWNpbmddIERpZCBub3QgY3JlYXRlICR7b3B9IHRyYW5zYWN0aW9uIGJlY2F1c2UgYSBwYWdlbG9hZCBvciBuYXZpZ2F0aW9uIHRyYW5zYWN0aW9uIGlzIGluIHByb2dyZXNzLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGluZmxpZ2h0SW50ZXJhY3Rpb25UcmFuc2FjdGlvbikge1xuICAgICAgICBpbmZsaWdodEludGVyYWN0aW9uVHJhbnNhY3Rpb24uc2V0RmluaXNoUmVhc29uKCdpbnRlcmFjdGlvbkludGVycnVwdGVkJyk7XG4gICAgICAgIGluZmxpZ2h0SW50ZXJhY3Rpb25UcmFuc2FjdGlvbi5lbmQoKTtcbiAgICAgICAgaW5mbGlnaHRJbnRlcmFjdGlvblRyYW5zYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2dldEN1cnJlbnRIdWIpIHtcbiAgICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLndhcm4oYFtUcmFjaW5nXSBEaWQgbm90IGNyZWF0ZSAke29wfSB0cmFuc2FjdGlvbiBiZWNhdXNlIF9nZXRDdXJyZW50SHViIGlzIGludmFsaWQuYCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fbGF0ZXN0Um91dGUubmFtZSkge1xuICAgICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIud2FybihgW1RyYWNpbmddIERpZCBub3QgY3JlYXRlICR7b3B9IHRyYW5zYWN0aW9uIGJlY2F1c2UgX2xhdGVzdFJvdXRlTmFtZSBpcyBtaXNzaW5nLmApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBodWIgPSB0aGlzLl9nZXRDdXJyZW50SHViKCk7XG4gICAgICBjb25zdCB7IGxvY2F0aW9uIH0gPSBXSU5ET1c7XG5cbiAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIG5hbWU6IHRoaXMuX2xhdGVzdFJvdXRlLm5hbWUsXG4gICAgICAgIG9wLFxuICAgICAgICB0cmltRW5kOiB0cnVlLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgW1NFTUFOVElDX0FUVFJJQlVURV9TRU5UUllfU09VUkNFXTogdGhpcy5fbGF0ZXN0Um91dGUuY29udGV4dFxuICAgICAgICAgICAgPyBnZXRTb3VyY2UodGhpcy5fbGF0ZXN0Um91dGUuY29udGV4dClcbiAgICAgICAgICAgIDogJ3VybCcsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBpbmZsaWdodEludGVyYWN0aW9uVHJhbnNhY3Rpb24gPSBzdGFydElkbGVUcmFuc2FjdGlvbihcbiAgICAgICAgaHViLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBpZGxlVGltZW91dCxcbiAgICAgICAgZmluYWxUaW1lb3V0LFxuICAgICAgICB0cnVlLFxuICAgICAgICB7IGxvY2F0aW9uIH0sIC8vIGZvciB1c2UgaW4gdGhlIHRyYWNlc1NhbXBsZXJcbiAgICAgICAgaGVhcnRiZWF0SW50ZXJ2YWwsXG4gICAgICApO1xuICAgIH07XG5cbiAgICBbJ2NsaWNrJ10uZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIGlmIChXSU5ET1cuZG9jdW1lbnQpIHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCByZWdpc3RlckludGVyYWN0aW9uVHJhbnNhY3Rpb24sIHsgb25jZTogZmFsc2UsIGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiogQ3JlYXRlcyBhIGxpc3RlbmVyIG9uIGludGVyYWN0aW9uIGVudHJpZXMsIGFuZCBtYXBzIGludGVyYWN0aW9uSWRzIHRvIHRoZSBvcmlnaW4gcGF0aCBvZiB0aGUgaW50ZXJhY3Rpb24gKi9cbiAgIF9yZWdpc3RlcklucEludGVyYWN0aW9uTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgaGFuZGxlRW50cmllcyA9ICh7IGVudHJpZXMgfSkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50ID0gZ2V0Q2xpZW50KCk7XG4gICAgICAvLyBXZSBuZWVkIHRvIGdldCB0aGUgcmVwbGF5LCB1c2VyLCBhbmQgYWN0aXZlVHJhbnNhY3Rpb24gZnJvbSB0aGUgY3VycmVudCBzY29wZVxuICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gYXNzb2NpYXRlIHJlcGxheSBpZCwgcHJvZmlsZSBpZCwgYW5kIGEgdXNlciBkaXNwbGF5IHRvIHRoZSBzcGFuXG4gICAgICBjb25zdCByZXBsYXkgPVxuICAgICAgICBjbGllbnQgIT09IHVuZGVmaW5lZCAmJiBjbGllbnQuZ2V0SW50ZWdyYXRpb25CeU5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gKGNsaWVudC5nZXRJbnRlZ3JhdGlvbkJ5TmFtZSgnUmVwbGF5JykgKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgcmVwbGF5SWQgPSByZXBsYXkgIT09IHVuZGVmaW5lZCA/IHJlcGxheS5nZXRSZXBsYXlJZCgpIDogdW5kZWZpbmVkO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICBjb25zdCBhY3RpdmVUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgICBjb25zdCBjdXJyZW50U2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBjdXJyZW50U2NvcGUgIT09IHVuZGVmaW5lZCA/IGN1cnJlbnRTY29wZS5nZXRVc2VyKCkgOiB1bmRlZmluZWQ7XG4gICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBpZiAoaXNQZXJmb3JtYW5jZUV2ZW50VGltaW5nKGVudHJ5KSkge1xuICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uSWQgPSBlbnRyeS5pbnRlcmFjdGlvbklkO1xuICAgICAgICAgIGlmIChpbnRlcmFjdGlvbklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdJbnRlcmFjdGlvbiA9IHRoaXMuX2ludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmdbaW50ZXJhY3Rpb25JZF07XG4gICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbnRyeS5kdXJhdGlvbjtcbiAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBlbnRyeS5zdGFydFRpbWU7XG4gICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmcpO1xuICAgICAgICAgIGNvbnN0IG1pbkludGVyYWN0aW9uSWQgPVxuICAgICAgICAgICAga2V5cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgID8ga2V5cy5yZWR1Y2UoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvbklkVG9Sb3V0ZU5hbWVNYXBwaW5nW2FdLmR1cmF0aW9uIDxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZ1tiXS5kdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICA/IGFcbiAgICAgICAgICAgICAgICAgICAgOiBiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIC8vIEZvciBhIGZpcnN0IGlucHV0IGV2ZW50IHRvIGJlIGNvbnNpZGVyZWQsIHdlIG11c3QgY2hlY2sgdGhhdCBhbiBpbnRlcmFjdGlvbiBldmVudCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0IHdpdGggdGhlIHNhbWUgZHVyYXRpb24gYW5kIHN0YXJ0IHRpbWUuXG4gICAgICAgICAgLy8gVGhpcyBpcyBhbHNvIGNoZWNrZWQgaW4gdGhlIHdlYi12aXRhbHMgbGlicmFyeS5cbiAgICAgICAgICBpZiAoZW50cnkuZW50cnlUeXBlID09PSAnZmlyc3QtaW5wdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ0VudHJ5ID0ga2V5c1xuICAgICAgICAgICAgICAubWFwKGtleSA9PiB0aGlzLl9pbnRlcmFjdGlvbklkVG9Sb3V0ZU5hbWVNYXBwaW5nW2tleV0pXG4gICAgICAgICAgICAgIC5zb21lKGludGVyYWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb24uZHVyYXRpb24gPT09IGR1cmF0aW9uICYmIGludGVyYWN0aW9uLnN0YXJ0VGltZSA9PT0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ0VudHJ5KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSW50ZXJhY3Rpb25zIHdpdGggYW4gaWQgb2YgMCBhbmQgYXJlIG5vdCBmaXJzdC1pbnB1dCBhcmUgbm90IHZhbGlkLlxuICAgICAgICAgIGlmICghaW50ZXJhY3Rpb25JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiB0aGUgaW50ZXJhY3Rpb24gYWxyZWFkeSBleGlzdHMsIHdlIHdhbnQgdG8gdXNlIHRoZSBkdXJhdGlvbiBvZiB0aGUgbG9uZ2VzdCBlbnRyeSwgc2luY2UgdGhhdCBpcyB3aGF0IHRoZSBJTlAgbWV0cmljIHVzZXMuXG4gICAgICAgICAgaWYgKGV4aXN0aW5nSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgICAgIGV4aXN0aW5nSW50ZXJhY3Rpb24uZHVyYXRpb24gPSBNYXRoLm1heChleGlzdGluZ0ludGVyYWN0aW9uLmR1cmF0aW9uLCBkdXJhdGlvbik7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGtleXMubGVuZ3RoIDwgTUFYX0lOVEVSQUNUSU9OUyB8fFxuICAgICAgICAgICAgbWluSW50ZXJhY3Rpb25JZCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBkdXJhdGlvbiA+IHRoaXMuX2ludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmdbbWluSW50ZXJhY3Rpb25JZF0uZHVyYXRpb25cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnRlcmFjdGlvbiBkb2VzIG5vdCBleGlzdCwgd2Ugd2FudCB0byBhZGQgaXQgdG8gdGhlIG1hcHBpbmcgaWYgdGhlcmUgaXMgc3BhY2UsIG9yIGlmIHRoZSBkdXJhdGlvbiBpcyBsb25nZXIgdGhhbiB0aGUgc2hvcnRlc3QgZW50cnkuXG4gICAgICAgICAgICBjb25zdCByb3V0ZU5hbWUgPSB0aGlzLl9sYXRlc3RSb3V0ZS5uYW1lO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50Q29udGV4dCA9IHRoaXMuX2xhdGVzdFJvdXRlLmNvbnRleHQ7XG4gICAgICAgICAgICBpZiAocm91dGVOYW1lICYmIHBhcmVudENvbnRleHQpIHtcbiAgICAgICAgICAgICAgaWYgKG1pbkludGVyYWN0aW9uSWQgJiYgT2JqZWN0LmtleXModGhpcy5faW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZykubGVuZ3RoID49IE1BWF9JTlRFUkFDVElPTlMpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmdbbWluSW50ZXJhY3Rpb25JZF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25JZFRvUm91dGVOYW1lTWFwcGluZ1tpbnRlcmFjdGlvbklkXSA9IHtcbiAgICAgICAgICAgICAgICByb3V0ZU5hbWUsXG4gICAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgcGFyZW50Q29udGV4dCxcbiAgICAgICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgICAgIHJlcGxheUlkLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgYWRkUGVyZm9ybWFuY2VJbnN0cnVtZW50YXRpb25IYW5kbGVyKCdldmVudCcsIGhhbmRsZUVudHJpZXMpO1xuICAgIGFkZFBlcmZvcm1hbmNlSW5zdHJ1bWVudGF0aW9uSGFuZGxlcignZmlyc3QtaW5wdXQnLCBoYW5kbGVFbnRyaWVzKTtcbiAgfVxufVxuXG4vKiogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBtZXRhIHRhZyAqL1xuZnVuY3Rpb24gZ2V0TWV0YUNvbnRlbnQobWV0YU5hbWUpIHtcbiAgLy8gQ2FuJ3Qgc3BlY2lmeSBnZW5lcmljIHRvIGBnZXREb21FbGVtZW50YCBiZWNhdXNlIHRyYWNpbmcgY2FuIGJlIHVzZWRcbiAgLy8gaW4gYSB2YXJpZXR5IG9mIGVudmlyb25tZW50cywgaGF2ZSB0byBkaXNhYmxlIGBuby11bnNhZmUtbWVtYmVyLWFjY2Vzc2BcbiAgLy8gYXMgYSByZXN1bHQuXG4gIGNvbnN0IG1ldGFUYWcgPSBnZXREb21FbGVtZW50KGBtZXRhW25hbWU9JHttZXRhTmFtZX1dYCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgcmV0dXJuIG1ldGFUYWcgPyBtZXRhVGFnLmdldEF0dHJpYnV0ZSgnY29udGVudCcpIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2UoY29udGV4dCkge1xuICBjb25zdCBzb3VyY2VGcm9tQXR0cmlidXRlcyA9IGNvbnRleHQuYXR0cmlidXRlcyAmJiBjb250ZXh0LmF0dHJpYnV0ZXNbU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9TT1VSQ0VdO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgY29uc3Qgc291cmNlRnJvbURhdGEgPSBjb250ZXh0LmRhdGEgJiYgY29udGV4dC5kYXRhW1NFTUFOVElDX0FUVFJJQlVURV9TRU5UUllfU09VUkNFXTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gIGNvbnN0IHNvdXJjZUZyb21NZXRhZGF0YSA9IGNvbnRleHQubWV0YWRhdGEgJiYgY29udGV4dC5tZXRhZGF0YS5zb3VyY2U7XG5cbiAgcmV0dXJuIHNvdXJjZUZyb21BdHRyaWJ1dGVzIHx8IHNvdXJjZUZyb21EYXRhIHx8IHNvdXJjZUZyb21NZXRhZGF0YTtcbn1cblxuZnVuY3Rpb24gaXNQZXJmb3JtYW5jZUV2ZW50VGltaW5nKGVudHJ5KSB7XG4gIHJldHVybiAnZHVyYXRpb24nIGluIGVudHJ5O1xufVxuXG5leHBvcnQgeyBCUk9XU0VSX1RSQUNJTkdfSU5URUdSQVRJT05fSUQsIEJyb3dzZXJUcmFjaW5nLCBnZXRNZXRhQ29udGVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3NlcnRyYWNpbmcuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/browsertracing.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/instrument.js":
/*!**************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/instrument.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addClsInstrumentationHandler: () => (/* binding */ addClsInstrumentationHandler),\n/* harmony export */   addFidInstrumentationHandler: () => (/* binding */ addFidInstrumentationHandler),\n/* harmony export */   addInpInstrumentationHandler: () => (/* binding */ addInpInstrumentationHandler),\n/* harmony export */   addLcpInstrumentationHandler: () => (/* binding */ addLcpInstrumentationHandler),\n/* harmony export */   addPerformanceInstrumentationHandler: () => (/* binding */ addPerformanceInstrumentationHandler),\n/* harmony export */   addTtfbInstrumentationHandler: () => (/* binding */ addTtfbInstrumentationHandler)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/stacktrace.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/debug-build.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _web_vitals_getCLS_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./web-vitals/getCLS.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getCLS.js\");\n/* harmony import */ var _web_vitals_getFID_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./web-vitals/getFID.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getFID.js\");\n/* harmony import */ var _web_vitals_getINP_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./web-vitals/getINP.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getINP.js\");\n/* harmony import */ var _web_vitals_getLCP_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./web-vitals/getLCP.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getLCP.js\");\n/* harmony import */ var _web_vitals_lib_observe_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./web-vitals/lib/observe.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\");\n/* harmony import */ var _web_vitals_onTTFB_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./web-vitals/onTTFB.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/onTTFB.js\");\n\n\n\n\n\n\n\n\n\nconst handlers = {};\nconst instrumented = {};\n\nlet _previousCls;\nlet _previousFid;\nlet _previousLcp;\nlet _previousTtfb;\nlet _previousInp;\n\n/**\n * Add a callback that will be triggered when a CLS metric is available.\n * Returns a cleanup callback which can be called to remove the instrumentation handler.\n *\n * Pass `stopOnCallback = true` to stop listening for CLS when the cleanup callback is called.\n * This will lead to the CLS being finalized and frozen.\n */\nfunction addClsInstrumentationHandler(\n  callback,\n  stopOnCallback = false,\n) {\n  return addMetricObserver('cls', callback, instrumentCls, _previousCls, stopOnCallback);\n}\n\n/**\n * Add a callback that will be triggered when a LCP metric is available.\n * Returns a cleanup callback which can be called to remove the instrumentation handler.\n *\n * Pass `stopOnCallback = true` to stop listening for LCP when the cleanup callback is called.\n * This will lead to the LCP being finalized and frozen.\n */\nfunction addLcpInstrumentationHandler(\n  callback,\n  stopOnCallback = false,\n) {\n  return addMetricObserver('lcp', callback, instrumentLcp, _previousLcp, stopOnCallback);\n}\n\n/**\n * Add a callback that will be triggered when a FID metric is available.\n */\nfunction addTtfbInstrumentationHandler(callback) {\n  return addMetricObserver('ttfb', callback, instrumentTtfb, _previousTtfb);\n}\n\n/**\n * Add a callback that will be triggered when a FID metric is available.\n * Returns a cleanup callback which can be called to remove the instrumentation handler.\n */\nfunction addFidInstrumentationHandler(callback) {\n  return addMetricObserver('fid', callback, instrumentFid, _previousFid);\n}\n\n/**\n * Add a callback that will be triggered when a INP metric is available.\n * Returns a cleanup callback which can be called to remove the instrumentation handler.\n */\nfunction addInpInstrumentationHandler(\n  callback,\n) {\n  return addMetricObserver('inp', callback, instrumentInp, _previousInp);\n}\n\n/**\n * Add a callback that will be triggered when a performance observer is triggered,\n * and receives the entries of the observer.\n * Returns a cleanup callback which can be called to remove the instrumentation handler.\n */\nfunction addPerformanceInstrumentationHandler(\n  type,\n  callback,\n) {\n  addHandler(type, callback);\n\n  if (!instrumented[type]) {\n    instrumentPerformanceObserver(type);\n    instrumented[type] = true;\n  }\n\n  return getCleanupCallback(type, callback);\n}\n\n/** Trigger all handlers of a given type. */\nfunction triggerHandlers(type, data) {\n  const typeHandlers = handlers[type];\n\n  if (!typeHandlers || !typeHandlers.length) {\n    return;\n  }\n\n  for (const handler of typeHandlers) {\n    try {\n      handler(data);\n    } catch (e) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__.DEBUG_BUILD &&\n        _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error(\n          `Error while triggering instrumentation handler.\\nType: ${type}\\nName: ${(0,_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(handler)}\\nError:`,\n          e,\n        );\n    }\n  }\n}\n\nfunction instrumentCls() {\n  return (0,_web_vitals_getCLS_js__WEBPACK_IMPORTED_MODULE_3__.onCLS)(\n    metric => {\n      triggerHandlers('cls', {\n        metric,\n      });\n      _previousCls = metric;\n    },\n    { reportAllChanges: true },\n  );\n}\n\nfunction instrumentFid() {\n  return (0,_web_vitals_getFID_js__WEBPACK_IMPORTED_MODULE_4__.onFID)(metric => {\n    triggerHandlers('fid', {\n      metric,\n    });\n    _previousFid = metric;\n  });\n}\n\nfunction instrumentLcp() {\n  return (0,_web_vitals_getLCP_js__WEBPACK_IMPORTED_MODULE_5__.onLCP)(metric => {\n    triggerHandlers('lcp', {\n      metric,\n    });\n    _previousLcp = metric;\n  });\n}\n\nfunction instrumentTtfb() {\n  return (0,_web_vitals_onTTFB_js__WEBPACK_IMPORTED_MODULE_6__.onTTFB)(metric => {\n    triggerHandlers('ttfb', {\n      metric,\n    });\n    _previousTtfb = metric;\n  });\n}\n\nfunction instrumentInp() {\n  return (0,_web_vitals_getINP_js__WEBPACK_IMPORTED_MODULE_7__.onINP)(metric => {\n    triggerHandlers('inp', {\n      metric,\n    });\n    _previousInp = metric;\n  });\n}\n\nfunction addMetricObserver(\n  type,\n  callback,\n  instrumentFn,\n  previousValue,\n  stopOnCallback = false,\n) {\n  addHandler(type, callback);\n\n  let stopListening;\n\n  if (!instrumented[type]) {\n    stopListening = instrumentFn();\n    instrumented[type] = true;\n  }\n\n  if (previousValue) {\n    callback({ metric: previousValue });\n  }\n\n  return getCleanupCallback(type, callback, stopOnCallback ? stopListening : undefined);\n}\n\nfunction instrumentPerformanceObserver(type) {\n  const options = {};\n\n  // Special per-type options we want to use\n  if (type === 'event') {\n    options.durationThreshold = 0;\n  }\n\n  (0,_web_vitals_lib_observe_js__WEBPACK_IMPORTED_MODULE_8__.observe)(\n    type,\n    entries => {\n      triggerHandlers(type, { entries });\n    },\n    options,\n  );\n}\n\nfunction addHandler(type, handler) {\n  handlers[type] = handlers[type] || [];\n  (handlers[type] ).push(handler);\n}\n\n// Get a callback which can be called to remove the instrumentation handler\nfunction getCleanupCallback(\n  type,\n  callback,\n  stopListening,\n) {\n  return () => {\n    if (stopListening) {\n      stopListening();\n    }\n\n    const typeHandlers = handlers[type];\n\n    if (!typeHandlers) {\n      return;\n    }\n\n    const index = typeHandlers.indexOf(callback);\n    if (index !== -1) {\n      typeHandlers.splice(index, 1);\n    }\n  };\n}\n\n\n//# sourceMappingURL=instrument.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9pbnN0cnVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RDtBQUNEO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNOOztBQUVoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU0sK0RBQVc7QUFDakIsUUFBUSxpREFBTTtBQUNkLG9FQUFvRSxLQUFLLFVBQVUsOERBQWUsVUFBVTtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUyw0REFBSztBQUNkO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxNQUFNLHdCQUF3QjtBQUM5QjtBQUNBOztBQUVBO0FBQ0EsU0FBUyw0REFBSztBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxTQUFTLDREQUFLO0FBQ2Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFNBQVMsNkRBQU07QUFDZjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyw0REFBSztBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsdUJBQXVCO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLG1FQUFPO0FBQ1Q7QUFDQTtBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFdU07QUFDdk0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvaW5zdHJ1bWVudC5qcz8xNmNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ2dlciwgZ2V0RnVuY3Rpb25OYW1lIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBERUJVR19CVUlMRCB9IGZyb20gJy4uL2NvbW1vbi9kZWJ1Zy1idWlsZC5qcyc7XG5pbXBvcnQgeyBvbkNMUyB9IGZyb20gJy4vd2ViLXZpdGFscy9nZXRDTFMuanMnO1xuaW1wb3J0IHsgb25GSUQgfSBmcm9tICcuL3dlYi12aXRhbHMvZ2V0RklELmpzJztcbmltcG9ydCB7IG9uSU5QIH0gZnJvbSAnLi93ZWItdml0YWxzL2dldElOUC5qcyc7XG5pbXBvcnQgeyBvbkxDUCB9IGZyb20gJy4vd2ViLXZpdGFscy9nZXRMQ1AuanMnO1xuaW1wb3J0IHsgb2JzZXJ2ZSB9IGZyb20gJy4vd2ViLXZpdGFscy9saWIvb2JzZXJ2ZS5qcyc7XG5pbXBvcnQgeyBvblRURkIgfSBmcm9tICcuL3dlYi12aXRhbHMvb25UVEZCLmpzJztcblxuY29uc3QgaGFuZGxlcnMgPSB7fTtcbmNvbnN0IGluc3RydW1lbnRlZCA9IHt9O1xuXG5sZXQgX3ByZXZpb3VzQ2xzO1xubGV0IF9wcmV2aW91c0ZpZDtcbmxldCBfcHJldmlvdXNMY3A7XG5sZXQgX3ByZXZpb3VzVHRmYjtcbmxldCBfcHJldmlvdXNJbnA7XG5cbi8qKlxuICogQWRkIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCB3aGVuIGEgQ0xTIG1ldHJpYyBpcyBhdmFpbGFibGUuXG4gKiBSZXR1cm5zIGEgY2xlYW51cCBjYWxsYmFjayB3aGljaCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgaW5zdHJ1bWVudGF0aW9uIGhhbmRsZXIuXG4gKlxuICogUGFzcyBgc3RvcE9uQ2FsbGJhY2sgPSB0cnVlYCB0byBzdG9wIGxpc3RlbmluZyBmb3IgQ0xTIHdoZW4gdGhlIGNsZWFudXAgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICogVGhpcyB3aWxsIGxlYWQgdG8gdGhlIENMUyBiZWluZyBmaW5hbGl6ZWQgYW5kIGZyb3plbi5cbiAqL1xuZnVuY3Rpb24gYWRkQ2xzSW5zdHJ1bWVudGF0aW9uSGFuZGxlcihcbiAgY2FsbGJhY2ssXG4gIHN0b3BPbkNhbGxiYWNrID0gZmFsc2UsXG4pIHtcbiAgcmV0dXJuIGFkZE1ldHJpY09ic2VydmVyKCdjbHMnLCBjYWxsYmFjaywgaW5zdHJ1bWVudENscywgX3ByZXZpb3VzQ2xzLCBzdG9wT25DYWxsYmFjayk7XG59XG5cbi8qKlxuICogQWRkIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCB3aGVuIGEgTENQIG1ldHJpYyBpcyBhdmFpbGFibGUuXG4gKiBSZXR1cm5zIGEgY2xlYW51cCBjYWxsYmFjayB3aGljaCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgaW5zdHJ1bWVudGF0aW9uIGhhbmRsZXIuXG4gKlxuICogUGFzcyBgc3RvcE9uQ2FsbGJhY2sgPSB0cnVlYCB0byBzdG9wIGxpc3RlbmluZyBmb3IgTENQIHdoZW4gdGhlIGNsZWFudXAgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICogVGhpcyB3aWxsIGxlYWQgdG8gdGhlIExDUCBiZWluZyBmaW5hbGl6ZWQgYW5kIGZyb3plbi5cbiAqL1xuZnVuY3Rpb24gYWRkTGNwSW5zdHJ1bWVudGF0aW9uSGFuZGxlcihcbiAgY2FsbGJhY2ssXG4gIHN0b3BPbkNhbGxiYWNrID0gZmFsc2UsXG4pIHtcbiAgcmV0dXJuIGFkZE1ldHJpY09ic2VydmVyKCdsY3AnLCBjYWxsYmFjaywgaW5zdHJ1bWVudExjcCwgX3ByZXZpb3VzTGNwLCBzdG9wT25DYWxsYmFjayk7XG59XG5cbi8qKlxuICogQWRkIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCB3aGVuIGEgRklEIG1ldHJpYyBpcyBhdmFpbGFibGUuXG4gKi9cbmZ1bmN0aW9uIGFkZFR0ZmJJbnN0cnVtZW50YXRpb25IYW5kbGVyKGNhbGxiYWNrKSB7XG4gIHJldHVybiBhZGRNZXRyaWNPYnNlcnZlcigndHRmYicsIGNhbGxiYWNrLCBpbnN0cnVtZW50VHRmYiwgX3ByZXZpb3VzVHRmYik7XG59XG5cbi8qKlxuICogQWRkIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCB3aGVuIGEgRklEIG1ldHJpYyBpcyBhdmFpbGFibGUuXG4gKiBSZXR1cm5zIGEgY2xlYW51cCBjYWxsYmFjayB3aGljaCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgaW5zdHJ1bWVudGF0aW9uIGhhbmRsZXIuXG4gKi9cbmZ1bmN0aW9uIGFkZEZpZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFkZE1ldHJpY09ic2VydmVyKCdmaWQnLCBjYWxsYmFjaywgaW5zdHJ1bWVudEZpZCwgX3ByZXZpb3VzRmlkKTtcbn1cblxuLyoqXG4gKiBBZGQgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgdHJpZ2dlcmVkIHdoZW4gYSBJTlAgbWV0cmljIGlzIGF2YWlsYWJsZS5cbiAqIFJldHVybnMgYSBjbGVhbnVwIGNhbGxiYWNrIHdoaWNoIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBpbnN0cnVtZW50YXRpb24gaGFuZGxlci5cbiAqL1xuZnVuY3Rpb24gYWRkSW5wSW5zdHJ1bWVudGF0aW9uSGFuZGxlcihcbiAgY2FsbGJhY2ssXG4pIHtcbiAgcmV0dXJuIGFkZE1ldHJpY09ic2VydmVyKCdpbnAnLCBjYWxsYmFjaywgaW5zdHJ1bWVudElucCwgX3ByZXZpb3VzSW5wKTtcbn1cblxuLyoqXG4gKiBBZGQgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgdHJpZ2dlcmVkIHdoZW4gYSBwZXJmb3JtYW5jZSBvYnNlcnZlciBpcyB0cmlnZ2VyZWQsXG4gKiBhbmQgcmVjZWl2ZXMgdGhlIGVudHJpZXMgb2YgdGhlIG9ic2VydmVyLlxuICogUmV0dXJucyBhIGNsZWFudXAgY2FsbGJhY2sgd2hpY2ggY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGluc3RydW1lbnRhdGlvbiBoYW5kbGVyLlxuICovXG5mdW5jdGlvbiBhZGRQZXJmb3JtYW5jZUluc3RydW1lbnRhdGlvbkhhbmRsZXIoXG4gIHR5cGUsXG4gIGNhbGxiYWNrLFxuKSB7XG4gIGFkZEhhbmRsZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gIGlmICghaW5zdHJ1bWVudGVkW3R5cGVdKSB7XG4gICAgaW5zdHJ1bWVudFBlcmZvcm1hbmNlT2JzZXJ2ZXIodHlwZSk7XG4gICAgaW5zdHJ1bWVudGVkW3R5cGVdID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBnZXRDbGVhbnVwQ2FsbGJhY2sodHlwZSwgY2FsbGJhY2spO1xufVxuXG4vKiogVHJpZ2dlciBhbGwgaGFuZGxlcnMgb2YgYSBnaXZlbiB0eXBlLiAqL1xuZnVuY3Rpb24gdHJpZ2dlckhhbmRsZXJzKHR5cGUsIGRhdGEpIHtcbiAgY29uc3QgdHlwZUhhbmRsZXJzID0gaGFuZGxlcnNbdHlwZV07XG5cbiAgaWYgKCF0eXBlSGFuZGxlcnMgfHwgIXR5cGVIYW5kbGVycy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdHlwZUhhbmRsZXJzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGhhbmRsZXIoZGF0YSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgREVCVUdfQlVJTEQgJiZcbiAgICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICAgIGBFcnJvciB3aGlsZSB0cmlnZ2VyaW5nIGluc3RydW1lbnRhdGlvbiBoYW5kbGVyLlxcblR5cGU6ICR7dHlwZX1cXG5OYW1lOiAke2dldEZ1bmN0aW9uTmFtZShoYW5kbGVyKX1cXG5FcnJvcjpgLFxuICAgICAgICAgIGUsXG4gICAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RydW1lbnRDbHMoKSB7XG4gIHJldHVybiBvbkNMUyhcbiAgICBtZXRyaWMgPT4ge1xuICAgICAgdHJpZ2dlckhhbmRsZXJzKCdjbHMnLCB7XG4gICAgICAgIG1ldHJpYyxcbiAgICAgIH0pO1xuICAgICAgX3ByZXZpb3VzQ2xzID0gbWV0cmljO1xuICAgIH0sXG4gICAgeyByZXBvcnRBbGxDaGFuZ2VzOiB0cnVlIH0sXG4gICk7XG59XG5cbmZ1bmN0aW9uIGluc3RydW1lbnRGaWQoKSB7XG4gIHJldHVybiBvbkZJRChtZXRyaWMgPT4ge1xuICAgIHRyaWdnZXJIYW5kbGVycygnZmlkJywge1xuICAgICAgbWV0cmljLFxuICAgIH0pO1xuICAgIF9wcmV2aW91c0ZpZCA9IG1ldHJpYztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluc3RydW1lbnRMY3AoKSB7XG4gIHJldHVybiBvbkxDUChtZXRyaWMgPT4ge1xuICAgIHRyaWdnZXJIYW5kbGVycygnbGNwJywge1xuICAgICAgbWV0cmljLFxuICAgIH0pO1xuICAgIF9wcmV2aW91c0xjcCA9IG1ldHJpYztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluc3RydW1lbnRUdGZiKCkge1xuICByZXR1cm4gb25UVEZCKG1ldHJpYyA9PiB7XG4gICAgdHJpZ2dlckhhbmRsZXJzKCd0dGZiJywge1xuICAgICAgbWV0cmljLFxuICAgIH0pO1xuICAgIF9wcmV2aW91c1R0ZmIgPSBtZXRyaWM7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpbnN0cnVtZW50SW5wKCkge1xuICByZXR1cm4gb25JTlAobWV0cmljID0+IHtcbiAgICB0cmlnZ2VySGFuZGxlcnMoJ2lucCcsIHtcbiAgICAgIG1ldHJpYyxcbiAgICB9KTtcbiAgICBfcHJldmlvdXNJbnAgPSBtZXRyaWM7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRNZXRyaWNPYnNlcnZlcihcbiAgdHlwZSxcbiAgY2FsbGJhY2ssXG4gIGluc3RydW1lbnRGbixcbiAgcHJldmlvdXNWYWx1ZSxcbiAgc3RvcE9uQ2FsbGJhY2sgPSBmYWxzZSxcbikge1xuICBhZGRIYW5kbGVyKHR5cGUsIGNhbGxiYWNrKTtcblxuICBsZXQgc3RvcExpc3RlbmluZztcblxuICBpZiAoIWluc3RydW1lbnRlZFt0eXBlXSkge1xuICAgIHN0b3BMaXN0ZW5pbmcgPSBpbnN0cnVtZW50Rm4oKTtcbiAgICBpbnN0cnVtZW50ZWRbdHlwZV0gPSB0cnVlO1xuICB9XG5cbiAgaWYgKHByZXZpb3VzVmFsdWUpIHtcbiAgICBjYWxsYmFjayh7IG1ldHJpYzogcHJldmlvdXNWYWx1ZSB9KTtcbiAgfVxuXG4gIHJldHVybiBnZXRDbGVhbnVwQ2FsbGJhY2sodHlwZSwgY2FsbGJhY2ssIHN0b3BPbkNhbGxiYWNrID8gc3RvcExpc3RlbmluZyA6IHVuZGVmaW5lZCk7XG59XG5cbmZ1bmN0aW9uIGluc3RydW1lbnRQZXJmb3JtYW5jZU9ic2VydmVyKHR5cGUpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG4gIC8vIFNwZWNpYWwgcGVyLXR5cGUgb3B0aW9ucyB3ZSB3YW50IHRvIHVzZVxuICBpZiAodHlwZSA9PT0gJ2V2ZW50Jykge1xuICAgIG9wdGlvbnMuZHVyYXRpb25UaHJlc2hvbGQgPSAwO1xuICB9XG5cbiAgb2JzZXJ2ZShcbiAgICB0eXBlLFxuICAgIGVudHJpZXMgPT4ge1xuICAgICAgdHJpZ2dlckhhbmRsZXJzKHR5cGUsIHsgZW50cmllcyB9KTtcbiAgICB9LFxuICAgIG9wdGlvbnMsXG4gICk7XG59XG5cbmZ1bmN0aW9uIGFkZEhhbmRsZXIodHlwZSwgaGFuZGxlcikge1xuICBoYW5kbGVyc1t0eXBlXSA9IGhhbmRsZXJzW3R5cGVdIHx8IFtdO1xuICAoaGFuZGxlcnNbdHlwZV0gKS5wdXNoKGhhbmRsZXIpO1xufVxuXG4vLyBHZXQgYSBjYWxsYmFjayB3aGljaCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgaW5zdHJ1bWVudGF0aW9uIGhhbmRsZXJcbmZ1bmN0aW9uIGdldENsZWFudXBDYWxsYmFjayhcbiAgdHlwZSxcbiAgY2FsbGJhY2ssXG4gIHN0b3BMaXN0ZW5pbmcsXG4pIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoc3RvcExpc3RlbmluZykge1xuICAgICAgc3RvcExpc3RlbmluZygpO1xuICAgIH1cblxuICAgIGNvbnN0IHR5cGVIYW5kbGVycyA9IGhhbmRsZXJzW3R5cGVdO1xuXG4gICAgaWYgKCF0eXBlSGFuZGxlcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHR5cGVIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0eXBlSGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7IGFkZENsc0luc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZEZpZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZElucEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZExjcEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZFBlcmZvcm1hbmNlSW5zdHJ1bWVudGF0aW9uSGFuZGxlciwgYWRkVHRmYkluc3RydW1lbnRhdGlvbkhhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc3RydW1lbnQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/instrument.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/index.js":
/*!*****************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/metrics/index.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _addMeasureSpans: () => (/* binding */ _addMeasureSpans),\n/* harmony export */   _addResourceSpans: () => (/* binding */ _addResourceSpans),\n/* harmony export */   addPerformanceEntries: () => (/* binding */ addPerformanceEntries),\n/* harmony export */   startTrackingINP: () => (/* binding */ startTrackingINP),\n/* harmony export */   startTrackingInteractions: () => (/* binding */ startTrackingInteractions),\n/* harmony export */   startTrackingLongTasks: () => (/* binding */ startTrackingLongTasks),\n/* harmony export */   startTrackingWebVitals: () => (/* binding */ startTrackingWebVitals)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/utils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/exports.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/span.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/span.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/spanUtils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/measurement.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/hasTracingEnabled.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/sampling.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/time.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/browser.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/url.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _instrument_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../instrument.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/instrument.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n/* harmony import */ var _web_vitals_lib_getVisibilityWatcher_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../web-vitals/lib/getVisibilityWatcher.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getVisibilityWatcher.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/utils.js\");\n/* harmony import */ var _web_vitals_lib_getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../web-vitals/lib/getNavigationEntry.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js\");\n\n\n\n\n\n\n\n\n\nconst MAX_INT_AS_BYTES = 2147483647;\n\n/**\n * Converts from milliseconds to seconds\n * @param time time in ms\n */\nfunction msToSec(time) {\n  return time / 1000;\n}\n\nfunction getBrowserPerformanceAPI() {\n  // @ts-expect-error we want to make sure all of these are available, even if TS is sure they are\n  return _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW && _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.addEventListener && _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance;\n}\n\nlet _performanceCursor = 0;\n\nlet _measurements = {};\nlet _lcpEntry;\nlet _clsEntry;\n\n/**\n * Start tracking web vitals.\n * The callback returned by this function can be used to stop tracking & ensure all measurements are final & captured.\n *\n * @returns A function that forces web vitals collection\n */\nfunction startTrackingWebVitals() {\n  const performance = getBrowserPerformanceAPI();\n  if (performance && _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin) {\n    // @ts-expect-error we want to make sure all of these are available, even if TS is sure they are\n    if (performance.mark) {\n      _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance.mark('sentry-tracing-init');\n    }\n    const fidCallback = _trackFID();\n    const clsCallback = _trackCLS();\n    const lcpCallback = _trackLCP();\n    const ttfbCallback = _trackTtfb();\n\n    return () => {\n      fidCallback();\n      clsCallback();\n      lcpCallback();\n      ttfbCallback();\n    };\n  }\n\n  return () => undefined;\n}\n\n/**\n * Start tracking long tasks.\n */\nfunction startTrackingLongTasks() {\n  (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addPerformanceInstrumentationHandler)('longtask', ({ entries }) => {\n    for (const entry of entries) {\n      // eslint-disable-next-line deprecation/deprecation\n      const transaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.getActiveTransaction)() ;\n      if (!transaction) {\n        return;\n      }\n      const startTime = msToSec((_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin ) + entry.startTime);\n      const duration = msToSec(entry.duration);\n\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.startChild({\n        description: 'Main UI thread blocked',\n        op: 'ui.long-task',\n        origin: 'auto.ui.browser.metrics',\n        startTimestamp: startTime,\n        endTimestamp: startTime + duration,\n      });\n    }\n  });\n}\n\n/**\n * Start tracking interaction events.\n */\nfunction startTrackingInteractions() {\n  (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addPerformanceInstrumentationHandler)('event', ({ entries }) => {\n    for (const entry of entries) {\n      // eslint-disable-next-line deprecation/deprecation\n      const transaction = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.getActiveTransaction)() ;\n      if (!transaction) {\n        return;\n      }\n\n      if (entry.name === 'click') {\n        const startTime = msToSec((_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin ) + entry.startTime);\n        const duration = msToSec(entry.duration);\n\n        const span = {\n          description: (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.htmlTreeAsString)(entry.target),\n          op: `ui.interaction.${entry.name}`,\n          origin: 'auto.ui.browser.metrics',\n          startTimestamp: startTime,\n          endTimestamp: startTime + duration,\n        };\n\n        const componentName = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.getComponentName)(entry.target);\n        if (componentName) {\n          span.attributes = { 'ui.component_name': componentName };\n        }\n\n        // eslint-disable-next-line deprecation/deprecation\n        transaction.startChild(span);\n      }\n    }\n  });\n}\n\n/**\n * Start tracking INP webvital events.\n */\nfunction startTrackingINP(\n  interactionIdtoRouteNameMapping,\n  interactionsSampleRate,\n) {\n  const performance = getBrowserPerformanceAPI();\n  if (performance && _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin) {\n    const inpCallback = _trackINP(interactionIdtoRouteNameMapping, interactionsSampleRate);\n\n    return () => {\n      inpCallback();\n    };\n  }\n\n  return () => undefined;\n}\n\n/** Starts tracking the Cumulative Layout Shift on the current page. */\nfunction _trackCLS() {\n  return (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addClsInstrumentationHandler)(({ metric }) => {\n    const entry = metric.entries[metric.entries.length - 1];\n    if (!entry) {\n      return;\n    }\n\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding CLS');\n    _measurements['cls'] = { value: metric.value, unit: '' };\n    _clsEntry = entry ;\n  }, true);\n}\n\n/** Starts tracking the Largest Contentful Paint on the current page. */\nfunction _trackLCP() {\n  return (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addLcpInstrumentationHandler)(({ metric }) => {\n    const entry = metric.entries[metric.entries.length - 1];\n    if (!entry) {\n      return;\n    }\n\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding LCP');\n    _measurements['lcp'] = { value: metric.value, unit: 'millisecond' };\n    _lcpEntry = entry ;\n  }, true);\n}\n\n/** Starts tracking the First Input Delay on the current page. */\nfunction _trackFID() {\n  return (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addFidInstrumentationHandler)(({ metric }) => {\n    const entry = metric.entries[metric.entries.length - 1];\n    if (!entry) {\n      return;\n    }\n\n    const timeOrigin = msToSec(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin );\n    const startTime = msToSec(entry.startTime);\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding FID');\n    _measurements['fid'] = { value: metric.value, unit: 'millisecond' };\n    _measurements['mark.fid'] = { value: timeOrigin + startTime, unit: 'second' };\n  });\n}\n\nfunction _trackTtfb() {\n  return (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addTtfbInstrumentationHandler)(({ metric }) => {\n    const entry = metric.entries[metric.entries.length - 1];\n    if (!entry) {\n      return;\n    }\n\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding TTFB');\n    _measurements['ttfb'] = { value: metric.value, unit: 'millisecond' };\n  });\n}\n\nconst INP_ENTRY_MAP = {\n  click: 'click',\n  pointerdown: 'click',\n  pointerup: 'click',\n  mousedown: 'click',\n  mouseup: 'click',\n  touchstart: 'click',\n  touchend: 'click',\n  mouseover: 'hover',\n  mouseout: 'hover',\n  mouseenter: 'hover',\n  mouseleave: 'hover',\n  pointerover: 'hover',\n  pointerout: 'hover',\n  pointerenter: 'hover',\n  pointerleave: 'hover',\n  dragstart: 'drag',\n  dragend: 'drag',\n  drag: 'drag',\n  dragenter: 'drag',\n  dragleave: 'drag',\n  dragover: 'drag',\n  drop: 'drag',\n  keydown: 'press',\n  keyup: 'press',\n  keypress: 'press',\n  input: 'press',\n};\n\n/** Starts tracking the Interaction to Next Paint on the current page. */\nfunction _trackINP(\n  interactionIdToRouteNameMapping,\n  interactionsSampleRate,\n) {\n  return (0,_instrument_js__WEBPACK_IMPORTED_MODULE_2__.addInpInstrumentationHandler)(({ metric }) => {\n    if (metric.value === undefined) {\n      return;\n    }\n    const entry = metric.entries.find(\n      entry => entry.duration === metric.value && INP_ENTRY_MAP[entry.name] !== undefined,\n    );\n    const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_7__.getClient)();\n    if (!entry || !client) {\n      return;\n    }\n    const interactionType = INP_ENTRY_MAP[entry.name];\n    const options = client.getOptions();\n    /** Build the INP span, create an envelope from the span, and then send the envelope */\n    const startTime = msToSec((_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin ) + entry.startTime);\n    const duration = msToSec(metric.value);\n    const interaction =\n      entry.interactionId !== undefined ? interactionIdToRouteNameMapping[entry.interactionId] : undefined;\n    if (interaction === undefined) {\n      return;\n    }\n    const { routeName, parentContext, activeTransaction, user, replayId } = interaction;\n    const userDisplay = user !== undefined ? user.email || user.id || user.ip_address : undefined;\n    // eslint-disable-next-line deprecation/deprecation\n    const profileId = activeTransaction !== undefined ? activeTransaction.getProfileId() : undefined;\n    const span = new _sentry_core__WEBPACK_IMPORTED_MODULE_8__.Span({\n      startTimestamp: startTime,\n      endTimestamp: startTime + duration,\n      op: `ui.interaction.${interactionType}`,\n      name: (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.htmlTreeAsString)(entry.target),\n      attributes: {\n        release: options.release,\n        environment: options.environment,\n        transaction: routeName,\n        ...(userDisplay !== undefined && userDisplay !== '' ? { user: userDisplay } : {}),\n        ...(profileId !== undefined ? { profile_id: profileId } : {}),\n        ...(replayId !== undefined ? { replay_id: replayId } : {}),\n      },\n      exclusiveTime: metric.value,\n      measurements: {\n        inp: { value: metric.value, unit: 'millisecond' },\n      },\n    });\n\n    /** Check to see if the span should be sampled */\n    const sampleRate = getSampleRate(parentContext, options, interactionsSampleRate);\n\n    if (!sampleRate) {\n      return;\n    }\n\n    if (Math.random() < (sampleRate )) {\n      const envelope = span ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.createSpanEnvelope)([span], client.getDsn()) : undefined;\n      const transport = client && client.getTransport();\n      if (transport && envelope) {\n        transport.send(envelope).then(null, reason => {\n          _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.error('Error while sending interaction:', reason);\n        });\n      }\n      return;\n    }\n  });\n}\n\n/** Add performance related spans to a transaction */\nfunction addPerformanceEntries(transaction) {\n  const performance = getBrowserPerformanceAPI();\n  if (!performance || !_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance.getEntries || !_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin) {\n    // Gatekeeper if performance API not available\n    return;\n  }\n\n  _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Tracing] Adding & adjusting spans using Performance API');\n  const timeOrigin = msToSec(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.browserPerformanceTimeOrigin);\n\n  const performanceEntries = performance.getEntries();\n\n  const { op, start_timestamp: transactionStartTime } = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_10__.spanToJSON)(transaction);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  performanceEntries.slice(_performanceCursor).forEach((entry) => {\n    const startTime = msToSec(entry.startTime);\n    const duration = msToSec(entry.duration);\n\n    // eslint-disable-next-line deprecation/deprecation\n    if (transaction.op === 'navigation' && transactionStartTime && timeOrigin + startTime < transactionStartTime) {\n      return;\n    }\n\n    switch (entry.entryType) {\n      case 'navigation': {\n        _addNavigationSpans(transaction, entry, timeOrigin);\n        break;\n      }\n      case 'mark':\n      case 'paint':\n      case 'measure': {\n        _addMeasureSpans(transaction, entry, startTime, duration, timeOrigin);\n\n        // capture web vitals\n        const firstHidden = (0,_web_vitals_lib_getVisibilityWatcher_js__WEBPACK_IMPORTED_MODULE_11__.getVisibilityWatcher)();\n        // Only report if the page wasn't hidden prior to the web vital.\n        const shouldRecord = entry.startTime < firstHidden.firstHiddenTime;\n\n        if (entry.name === 'first-paint' && shouldRecord) {\n          _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding FP');\n          _measurements['fp'] = { value: entry.startTime, unit: 'millisecond' };\n        }\n        if (entry.name === 'first-contentful-paint' && shouldRecord) {\n          _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding FCP');\n          _measurements['fcp'] = { value: entry.startTime, unit: 'millisecond' };\n        }\n        break;\n      }\n      case 'resource': {\n        _addResourceSpans(transaction, entry, entry.name , startTime, duration, timeOrigin);\n        break;\n      }\n      // Ignore other entry types.\n    }\n  });\n\n  _performanceCursor = Math.max(performanceEntries.length - 1, 0);\n\n  _trackNavigator(transaction);\n\n  // Measurements are only available for pageload transactions\n  if (op === 'pageload') {\n    _addTtfbRequestTimeToMeasurements(_measurements);\n\n    ['fcp', 'fp', 'lcp'].forEach(name => {\n      if (!_measurements[name] || !transactionStartTime || timeOrigin >= transactionStartTime) {\n        return;\n      }\n      // The web vitals, fcp, fp, lcp, and ttfb, all measure relative to timeOrigin.\n      // Unfortunately, timeOrigin is not captured within the transaction span data, so these web vitals will need\n      // to be adjusted to be relative to transaction.startTimestamp.\n      const oldValue = _measurements[name].value;\n      const measurementTimestamp = timeOrigin + msToSec(oldValue);\n\n      // normalizedValue should be in milliseconds\n      const normalizedValue = Math.abs((measurementTimestamp - transactionStartTime) * 1000);\n      const delta = normalizedValue - oldValue;\n\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log(`[Measurements] Normalized ${name} from ${oldValue} to ${normalizedValue} (${delta})`);\n      _measurements[name].value = normalizedValue;\n    });\n\n    const fidMark = _measurements['mark.fid'];\n    if (fidMark && _measurements['fid']) {\n      // create span for FID\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__._startChild)(transaction, {\n        description: 'first input delay',\n        endTimestamp: fidMark.value + msToSec(_measurements['fid'].value),\n        op: 'ui.action',\n        origin: 'auto.ui.browser.metrics',\n        startTimestamp: fidMark.value,\n      });\n\n      // Delete mark.fid as we don't want it to be part of final payload\n      delete _measurements['mark.fid'];\n    }\n\n    // If FCP is not recorded we should not record the cls value\n    // according to the new definition of CLS.\n    if (!('fcp' in _measurements)) {\n      delete _measurements.cls;\n    }\n\n    Object.keys(_measurements).forEach(measurementName => {\n      (0,_sentry_core__WEBPACK_IMPORTED_MODULE_13__.setMeasurement)(measurementName, _measurements[measurementName].value, _measurements[measurementName].unit);\n    });\n\n    _tagMetricInfo(transaction);\n  }\n\n  _lcpEntry = undefined;\n  _clsEntry = undefined;\n  _measurements = {};\n}\n\n/** Create measure related spans */\nfunction _addMeasureSpans(\n  transaction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  entry,\n  startTime,\n  duration,\n  timeOrigin,\n) {\n  const measureStartTimestamp = timeOrigin + startTime;\n  const measureEndTimestamp = measureStartTimestamp + duration;\n\n  (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__._startChild)(transaction, {\n    description: entry.name ,\n    endTimestamp: measureEndTimestamp,\n    op: entry.entryType ,\n    origin: 'auto.resource.browser.metrics',\n    startTimestamp: measureStartTimestamp,\n  });\n\n  return measureStartTimestamp;\n}\n\n/** Instrument navigation entries */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addNavigationSpans(transaction, entry, timeOrigin) {\n  ['unloadEvent', 'redirect', 'domContentLoadedEvent', 'loadEvent', 'connect'].forEach(event => {\n    _addPerformanceNavigationTiming(transaction, entry, event, timeOrigin);\n  });\n  _addPerformanceNavigationTiming(transaction, entry, 'secureConnection', timeOrigin, 'TLS/SSL', 'connectEnd');\n  _addPerformanceNavigationTiming(transaction, entry, 'fetch', timeOrigin, 'cache', 'domainLookupStart');\n  _addPerformanceNavigationTiming(transaction, entry, 'domainLookup', timeOrigin, 'DNS');\n  _addRequest(transaction, entry, timeOrigin);\n}\n\n/** Create performance navigation related spans */\nfunction _addPerformanceNavigationTiming(\n  transaction,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  entry,\n  event,\n  timeOrigin,\n  description,\n  eventEnd,\n) {\n  const end = eventEnd ? (entry[eventEnd] ) : (entry[`${event}End`] );\n  const start = entry[`${event}Start`] ;\n  if (!start || !end) {\n    return;\n  }\n  (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__._startChild)(transaction, {\n    op: 'browser',\n    origin: 'auto.browser.browser.metrics',\n    description: description || event,\n    startTimestamp: timeOrigin + msToSec(start),\n    endTimestamp: timeOrigin + msToSec(end),\n  });\n}\n\n/** Create request and response related spans */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _addRequest(transaction, entry, timeOrigin) {\n  if (entry.responseEnd) {\n    // It is possible that we are collecting these metrics when the page hasn't finished loading yet, for example when the HTML slowly streams in.\n    // In this case, ie. when the document request hasn't finished yet, `entry.responseEnd` will be 0.\n    // In order not to produce faulty spans, where the end timestamp is before the start timestamp, we will only collect\n    // these spans when the responseEnd value is available. The backend (Relay) would drop the entire transaction if it contained faulty spans.\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__._startChild)(transaction, {\n      op: 'browser',\n      origin: 'auto.browser.browser.metrics',\n      description: 'request',\n      startTimestamp: timeOrigin + msToSec(entry.requestStart ),\n      endTimestamp: timeOrigin + msToSec(entry.responseEnd ),\n    });\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__._startChild)(transaction, {\n      op: 'browser',\n      origin: 'auto.browser.browser.metrics',\n      description: 'response',\n      startTimestamp: timeOrigin + msToSec(entry.responseStart ),\n      endTimestamp: timeOrigin + msToSec(entry.responseEnd ),\n    });\n  }\n}\n\n/** Create resource-related spans */\nfunction _addResourceSpans(\n  transaction,\n  entry,\n  resourceUrl,\n  startTime,\n  duration,\n  timeOrigin,\n) {\n  // we already instrument based on fetch and xhr, so we don't need to\n  // duplicate spans here.\n  if (entry.initiatorType === 'xmlhttprequest' || entry.initiatorType === 'fetch') {\n    return;\n  }\n\n  const parsedUrl = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_14__.parseUrl)(resourceUrl);\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const data = {};\n  setResourceEntrySizeData(data, entry, 'transferSize', 'http.response_transfer_size');\n  setResourceEntrySizeData(data, entry, 'encodedBodySize', 'http.response_content_length');\n  setResourceEntrySizeData(data, entry, 'decodedBodySize', 'http.decoded_response_content_length');\n\n  if ('renderBlockingStatus' in entry) {\n    data['resource.render_blocking_status'] = entry.renderBlockingStatus;\n  }\n  if (parsedUrl.protocol) {\n    data['url.scheme'] = parsedUrl.protocol.split(':').pop(); // the protocol returned by parseUrl includes a :, but OTEL spec does not, so we remove it.\n  }\n\n  if (parsedUrl.host) {\n    data['server.address'] = parsedUrl.host;\n  }\n\n  data['url.same_origin'] = resourceUrl.includes(_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location.origin);\n\n  const startTimestamp = timeOrigin + startTime;\n  const endTimestamp = startTimestamp + duration;\n\n  (0,_utils_js__WEBPACK_IMPORTED_MODULE_12__._startChild)(transaction, {\n    description: resourceUrl.replace(_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location.origin, ''),\n    endTimestamp,\n    op: entry.initiatorType ? `resource.${entry.initiatorType}` : 'resource.other',\n    origin: 'auto.resource.browser.metrics',\n    startTimestamp,\n    data,\n  });\n}\n\n/**\n * Capture the information of the user agent.\n */\nfunction _trackNavigator(transaction) {\n  const navigator = _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.navigator ;\n  if (!navigator) {\n    return;\n  }\n\n  // track network connectivity\n  const connection = navigator.connection;\n  if (connection) {\n    if (connection.effectiveType) {\n      // TODO: Can we rewrite this to an attribute?\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.setTag('effectiveConnectionType', connection.effectiveType);\n    }\n\n    if (connection.type) {\n      // TODO: Can we rewrite this to an attribute?\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.setTag('connectionType', connection.type);\n    }\n\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.isMeasurementValue)(connection.rtt)) {\n      _measurements['connection.rtt'] = { value: connection.rtt, unit: 'millisecond' };\n    }\n  }\n\n  if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.isMeasurementValue)(navigator.deviceMemory)) {\n    // TODO: Can we rewrite this to an attribute?\n    // eslint-disable-next-line deprecation/deprecation\n    transaction.setTag('deviceMemory', `${navigator.deviceMemory} GB`);\n  }\n\n  if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_12__.isMeasurementValue)(navigator.hardwareConcurrency)) {\n    // TODO: Can we rewrite this to an attribute?\n    // eslint-disable-next-line deprecation/deprecation\n    transaction.setTag('hardwareConcurrency', String(navigator.hardwareConcurrency));\n  }\n}\n\n/** Add LCP / CLS data to transaction to allow debugging */\nfunction _tagMetricInfo(transaction) {\n  if (_lcpEntry) {\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding LCP Data');\n\n    // Capture Properties of the LCP element that contributes to the LCP.\n\n    if (_lcpEntry.element) {\n      // TODO: Can we rewrite this to an attribute?\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.setTag('lcp.element', (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.htmlTreeAsString)(_lcpEntry.element));\n    }\n\n    if (_lcpEntry.id) {\n      // TODO: Can we rewrite this to an attribute?\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.setTag('lcp.id', _lcpEntry.id);\n    }\n\n    if (_lcpEntry.url) {\n      // Trim URL to the first 200 characters.\n      // TODO: Can we rewrite this to an attribute?\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.setTag('lcp.url', _lcpEntry.url.trim().slice(0, 200));\n    }\n\n    // TODO: Can we rewrite this to an attribute?\n    // eslint-disable-next-line deprecation/deprecation\n    transaction.setTag('lcp.size', _lcpEntry.size);\n  }\n\n  // See: https://developer.mozilla.org/en-US/docs/Web/API/LayoutShift\n  if (_clsEntry && _clsEntry.sources) {\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding CLS Data');\n    _clsEntry.sources.forEach((source, index) =>\n      // TODO: Can we rewrite this to an attribute?\n      // eslint-disable-next-line deprecation/deprecation\n      transaction.setTag(`cls.source.${index + 1}`, (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.htmlTreeAsString)(source.node)),\n    );\n  }\n}\n\nfunction setResourceEntrySizeData(\n  data,\n  entry,\n  key,\n  dataKey,\n) {\n  const entryVal = entry[key];\n  if (entryVal != null && entryVal < MAX_INT_AS_BYTES) {\n    data[dataKey] = entryVal;\n  }\n}\n\n/**\n * Add ttfb request time information to measurements.\n *\n * ttfb information is added via vendored web vitals library.\n */\nfunction _addTtfbRequestTimeToMeasurements(_measurements) {\n  const navEntry = (0,_web_vitals_lib_getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_15__.getNavigationEntry)();\n  if (!navEntry) {\n    return;\n  }\n\n  const { responseStart, requestStart } = navEntry;\n\n  if (requestStart <= responseStart) {\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.log('[Measurements] Adding TTFB Request Time');\n    _measurements['ttfb.requestTime'] = {\n      value: responseStart - requestStart,\n      unit: 'millisecond',\n    };\n  }\n}\n\n/** Taken from @sentry/core sampling.ts */\nfunction getSampleRate(\n  transactionContext,\n  options,\n  interactionsSampleRate,\n) {\n  if (!(0,_sentry_core__WEBPACK_IMPORTED_MODULE_16__.hasTracingEnabled)(options)) {\n    return false;\n  }\n  let sampleRate;\n  if (transactionContext !== undefined && typeof options.tracesSampler === 'function') {\n    sampleRate = options.tracesSampler({\n      transactionContext,\n      name: transactionContext.name,\n      parentSampled: transactionContext.parentSampled,\n      attributes: {\n        // eslint-disable-next-line deprecation/deprecation\n        ...transactionContext.data,\n        ...transactionContext.attributes,\n      },\n      location: _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location,\n    });\n  } else if (transactionContext !== undefined && transactionContext.sampled !== undefined) {\n    sampleRate = transactionContext.sampled;\n  } else if (typeof options.tracesSampleRate !== 'undefined') {\n    sampleRate = options.tracesSampleRate;\n  } else {\n    sampleRate = 1;\n  }\n  if (!(0,_sentry_core__WEBPACK_IMPORTED_MODULE_17__.isValidSampleRate)(sampleRate)) {\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn('[Tracing] Discarding interaction span because of invalid sample rate.');\n    return false;\n  }\n  if (sampleRate === true) {\n    return interactionsSampleRate;\n  } else if (sampleRate === false) {\n    return 0;\n  }\n  return sampleRate * interactionsSampleRate;\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9tZXRyaWNzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMko7QUFDeEM7QUFDekQ7QUFDcUs7QUFDMUw7QUFDNEM7QUFDcEI7QUFDZ0I7O0FBRTdFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLDZDQUFNLElBQUksNkNBQU0scUJBQXFCLDZDQUFNO0FBQ3BEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVFQUE0QjtBQUNqRDtBQUNBO0FBQ0EsTUFBTSw2Q0FBTTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsb0ZBQW9DLGdCQUFnQixTQUFTO0FBQy9EO0FBQ0E7QUFDQSwwQkFBMEIsa0VBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1RUFBNEI7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLG9GQUFvQyxhQUFhLFNBQVM7QUFDNUQ7QUFDQTtBQUNBLDBCQUEwQixrRUFBb0I7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLHVFQUE0QjtBQUMvRDs7QUFFQTtBQUNBLHVCQUF1QiwrREFBZ0I7QUFDdkMsZ0NBQWdDLFdBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLCtEQUFnQjtBQUM5QztBQUNBLDhCQUE4QjtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVFQUE0QjtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLDRFQUE0QixJQUFJLFFBQVE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSwrREFBVyxJQUFJLGlEQUFNO0FBQ3pCLDZCQUE2QjtBQUM3QjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsU0FBUyw0RUFBNEIsSUFBSSxRQUFRO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksK0RBQVcsSUFBSSxpREFBTTtBQUN6Qiw2QkFBNkI7QUFDN0I7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFNBQVMsNEVBQTRCLElBQUksUUFBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0IsdUVBQTRCO0FBQzNEO0FBQ0EsSUFBSSwrREFBVyxJQUFJLGlEQUFNO0FBQ3pCLDZCQUE2QjtBQUM3QixrQ0FBa0M7QUFDbEMsR0FBRztBQUNIOztBQUVBO0FBQ0EsU0FBUyw2RUFBNkIsSUFBSSxRQUFRO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksK0RBQVcsSUFBSSxpREFBTTtBQUN6Qiw4QkFBOEI7QUFDOUIsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDRFQUE0QixJQUFJLFFBQVE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVEQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix1RUFBNEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBOEQ7QUFDMUU7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhDQUFJO0FBQ3pCO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDLFlBQVksK0RBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG9CQUFvQixJQUFJO0FBQ3hGLHdDQUF3Qyx3QkFBd0IsSUFBSTtBQUNwRSx1Q0FBdUMsc0JBQXNCLElBQUk7QUFDakUsT0FBTztBQUNQO0FBQ0E7QUFDQSxlQUFlLDBDQUEwQztBQUN6RCxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QixnRUFBa0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsVUFBVSwrREFBVyxJQUFJLGlEQUFNO0FBQy9CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZDQUFNLDRCQUE0Qix1RUFBNEI7QUFDckY7QUFDQTtBQUNBOztBQUVBLEVBQUUsK0RBQVcsSUFBSSxpREFBTTtBQUN2Qiw2QkFBNkIsdUVBQTRCOztBQUV6RDs7QUFFQSxVQUFVLDRDQUE0QyxFQUFFLHlEQUFVOztBQUVsRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsOEZBQW9CO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQSxVQUFVLCtEQUFXLElBQUksaURBQU07QUFDL0Isa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLCtEQUFXLElBQUksaURBQU07QUFDL0IsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSwrREFBVyxJQUFJLGlEQUFNLGtDQUFrQyxNQUFNLE9BQU8sVUFBVSxLQUFLLGlCQUFpQixHQUFHLE1BQU07QUFDbkg7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdURBQVc7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLDZEQUFjO0FBQ3BCLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsdURBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxNQUFNO0FBQzlELHlCQUF5QixNQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEVBQUUsdURBQVc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUFXO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsSUFBSSx1REFBVztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQix3REFBUTs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaURBQWlELDZDQUFNOztBQUV2RDtBQUNBOztBQUVBLEVBQUUsdURBQVc7QUFDYixxQ0FBcUMsNkNBQU07QUFDM0M7QUFDQSwwQ0FBMEMsb0JBQW9CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2Q0FBTTtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsOERBQWtCO0FBQzFCLDBDQUEwQztBQUMxQztBQUNBOztBQUVBLE1BQU0sOERBQWtCO0FBQ3hCO0FBQ0E7QUFDQSwwQ0FBMEMsd0JBQXdCO0FBQ2xFOztBQUVBLE1BQU0sOERBQWtCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSwrREFBVyxJQUFJLGlEQUFNOztBQUV6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsK0RBQWdCO0FBQ3hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLCtEQUFXLElBQUksaURBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFVBQVUsR0FBRywrREFBZ0I7QUFDcEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDBGQUFrQjtBQUNyQztBQUNBO0FBQ0E7O0FBRUEsVUFBVSw4QkFBOEI7O0FBRXhDO0FBQ0EsSUFBSSwrREFBVyxJQUFJLGlEQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGdFQUFpQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsZ0JBQWdCLDZDQUFNO0FBQ3RCLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE9BQU8sZ0VBQWlCO0FBQ3hCLElBQUksK0RBQVcsSUFBSSxpREFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFbUs7QUFDbksiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvbWV0cmljcy9pbmRleC5qcz8zZDRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEFjdGl2ZVRyYW5zYWN0aW9uLCBzcGFuVG9KU09OLCBzZXRNZWFzdXJlbWVudCwgZ2V0Q2xpZW50LCBTcGFuLCBjcmVhdGVTcGFuRW52ZWxvcGUsIGhhc1RyYWNpbmdFbmFibGVkLCBpc1ZhbGlkU2FtcGxlUmF0ZSB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luLCBodG1sVHJlZUFzU3RyaW5nLCBnZXRDb21wb25lbnROYW1lLCBsb2dnZXIsIHBhcnNlVXJsIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBERUJVR19CVUlMRCB9IGZyb20gJy4uLy4uL2NvbW1vbi9kZWJ1Zy1idWlsZC5qcyc7XG5pbXBvcnQgeyBhZGRQZXJmb3JtYW5jZUluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZENsc0luc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZExjcEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZEZpZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGFkZFR0ZmJJbnN0cnVtZW50YXRpb25IYW5kbGVyLCBhZGRJbnBJbnN0cnVtZW50YXRpb25IYW5kbGVyIH0gZnJvbSAnLi4vaW5zdHJ1bWVudC5qcyc7XG5pbXBvcnQgeyBXSU5ET1cgfSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBnZXRWaXNpYmlsaXR5V2F0Y2hlciB9IGZyb20gJy4uL3dlYi12aXRhbHMvbGliL2dldFZpc2liaWxpdHlXYXRjaGVyLmpzJztcbmltcG9ydCB7IF9zdGFydENoaWxkLCBpc01lYXN1cmVtZW50VmFsdWUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldE5hdmlnYXRpb25FbnRyeSB9IGZyb20gJy4uL3dlYi12aXRhbHMvbGliL2dldE5hdmlnYXRpb25FbnRyeS5qcyc7XG5cbmNvbnN0IE1BWF9JTlRfQVNfQllURVMgPSAyMTQ3NDgzNjQ3O1xuXG4vKipcbiAqIENvbnZlcnRzIGZyb20gbWlsbGlzZWNvbmRzIHRvIHNlY29uZHNcbiAqIEBwYXJhbSB0aW1lIHRpbWUgaW4gbXNcbiAqL1xuZnVuY3Rpb24gbXNUb1NlYyh0aW1lKSB7XG4gIHJldHVybiB0aW1lIC8gMTAwMDtcbn1cblxuZnVuY3Rpb24gZ2V0QnJvd3NlclBlcmZvcm1hbmNlQVBJKCkge1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIHdlIHdhbnQgdG8gbWFrZSBzdXJlIGFsbCBvZiB0aGVzZSBhcmUgYXZhaWxhYmxlLCBldmVuIGlmIFRTIGlzIHN1cmUgdGhleSBhcmVcbiAgcmV0dXJuIFdJTkRPVyAmJiBXSU5ET1cuYWRkRXZlbnRMaXN0ZW5lciAmJiBXSU5ET1cucGVyZm9ybWFuY2U7XG59XG5cbmxldCBfcGVyZm9ybWFuY2VDdXJzb3IgPSAwO1xuXG5sZXQgX21lYXN1cmVtZW50cyA9IHt9O1xubGV0IF9sY3BFbnRyeTtcbmxldCBfY2xzRW50cnk7XG5cbi8qKlxuICogU3RhcnQgdHJhY2tpbmcgd2ViIHZpdGFscy5cbiAqIFRoZSBjYWxsYmFjayByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHN0b3AgdHJhY2tpbmcgJiBlbnN1cmUgYWxsIG1lYXN1cmVtZW50cyBhcmUgZmluYWwgJiBjYXB0dXJlZC5cbiAqXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgZm9yY2VzIHdlYiB2aXRhbHMgY29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBzdGFydFRyYWNraW5nV2ViVml0YWxzKCkge1xuICBjb25zdCBwZXJmb3JtYW5jZSA9IGdldEJyb3dzZXJQZXJmb3JtYW5jZUFQSSgpO1xuICBpZiAocGVyZm9ybWFuY2UgJiYgYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igd2Ugd2FudCB0byBtYWtlIHN1cmUgYWxsIG9mIHRoZXNlIGFyZSBhdmFpbGFibGUsIGV2ZW4gaWYgVFMgaXMgc3VyZSB0aGV5IGFyZVxuICAgIGlmIChwZXJmb3JtYW5jZS5tYXJrKSB7XG4gICAgICBXSU5ET1cucGVyZm9ybWFuY2UubWFyaygnc2VudHJ5LXRyYWNpbmctaW5pdCcpO1xuICAgIH1cbiAgICBjb25zdCBmaWRDYWxsYmFjayA9IF90cmFja0ZJRCgpO1xuICAgIGNvbnN0IGNsc0NhbGxiYWNrID0gX3RyYWNrQ0xTKCk7XG4gICAgY29uc3QgbGNwQ2FsbGJhY2sgPSBfdHJhY2tMQ1AoKTtcbiAgICBjb25zdCB0dGZiQ2FsbGJhY2sgPSBfdHJhY2tUdGZiKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZmlkQ2FsbGJhY2soKTtcbiAgICAgIGNsc0NhbGxiYWNrKCk7XG4gICAgICBsY3BDYWxsYmFjaygpO1xuICAgICAgdHRmYkNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiAoKSA9PiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogU3RhcnQgdHJhY2tpbmcgbG9uZyB0YXNrcy5cbiAqL1xuZnVuY3Rpb24gc3RhcnRUcmFja2luZ0xvbmdUYXNrcygpIHtcbiAgYWRkUGVyZm9ybWFuY2VJbnN0cnVtZW50YXRpb25IYW5kbGVyKCdsb25ndGFzaycsICh7IGVudHJpZXMgfSkgPT4ge1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCkgO1xuICAgICAgaWYgKCF0cmFuc2FjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBtc1RvU2VjKChicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luICkgKyBlbnRyeS5zdGFydFRpbWUpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBtc1RvU2VjKGVudHJ5LmR1cmF0aW9uKTtcblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICB0cmFuc2FjdGlvbi5zdGFydENoaWxkKHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdNYWluIFVJIHRocmVhZCBibG9ja2VkJyxcbiAgICAgICAgb3A6ICd1aS5sb25nLXRhc2snLFxuICAgICAgICBvcmlnaW46ICdhdXRvLnVpLmJyb3dzZXIubWV0cmljcycsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiBzdGFydFRpbWUsXG4gICAgICAgIGVuZFRpbWVzdGFtcDogc3RhcnRUaW1lICsgZHVyYXRpb24sXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFN0YXJ0IHRyYWNraW5nIGludGVyYWN0aW9uIGV2ZW50cy5cbiAqL1xuZnVuY3Rpb24gc3RhcnRUcmFja2luZ0ludGVyYWN0aW9ucygpIHtcbiAgYWRkUGVyZm9ybWFuY2VJbnN0cnVtZW50YXRpb25IYW5kbGVyKCdldmVudCcsICh7IGVudHJpZXMgfSkgPT4ge1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCkgO1xuICAgICAgaWYgKCF0cmFuc2FjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRyeS5uYW1lID09PSAnY2xpY2snKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG1zVG9TZWMoKGJyb3dzZXJQZXJmb3JtYW5jZVRpbWVPcmlnaW4gKSArIGVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gbXNUb1NlYyhlbnRyeS5kdXJhdGlvbik7XG5cbiAgICAgICAgY29uc3Qgc3BhbiA9IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaHRtbFRyZWVBc1N0cmluZyhlbnRyeS50YXJnZXQpLFxuICAgICAgICAgIG9wOiBgdWkuaW50ZXJhY3Rpb24uJHtlbnRyeS5uYW1lfWAsXG4gICAgICAgICAgb3JpZ2luOiAnYXV0by51aS5icm93c2VyLm1ldHJpY3MnLFxuICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBzdGFydFRpbWUsXG4gICAgICAgICAgZW5kVGltZXN0YW1wOiBzdGFydFRpbWUgKyBkdXJhdGlvbixcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShlbnRyeS50YXJnZXQpO1xuICAgICAgICBpZiAoY29tcG9uZW50TmFtZSkge1xuICAgICAgICAgIHNwYW4uYXR0cmlidXRlcyA9IHsgJ3VpLmNvbXBvbmVudF9uYW1lJzogY29tcG9uZW50TmFtZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIHRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoc3Bhbik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBTdGFydCB0cmFja2luZyBJTlAgd2Vidml0YWwgZXZlbnRzLlxuICovXG5mdW5jdGlvbiBzdGFydFRyYWNraW5nSU5QKFxuICBpbnRlcmFjdGlvbklkdG9Sb3V0ZU5hbWVNYXBwaW5nLFxuICBpbnRlcmFjdGlvbnNTYW1wbGVSYXRlLFxuKSB7XG4gIGNvbnN0IHBlcmZvcm1hbmNlID0gZ2V0QnJvd3NlclBlcmZvcm1hbmNlQVBJKCk7XG4gIGlmIChwZXJmb3JtYW5jZSAmJiBicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luKSB7XG4gICAgY29uc3QgaW5wQ2FsbGJhY2sgPSBfdHJhY2tJTlAoaW50ZXJhY3Rpb25JZHRvUm91dGVOYW1lTWFwcGluZywgaW50ZXJhY3Rpb25zU2FtcGxlUmF0ZSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaW5wQ2FsbGJhY2soKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHVuZGVmaW5lZDtcbn1cblxuLyoqIFN0YXJ0cyB0cmFja2luZyB0aGUgQ3VtdWxhdGl2ZSBMYXlvdXQgU2hpZnQgb24gdGhlIGN1cnJlbnQgcGFnZS4gKi9cbmZ1bmN0aW9uIF90cmFja0NMUygpIHtcbiAgcmV0dXJuIGFkZENsc0luc3RydW1lbnRhdGlvbkhhbmRsZXIoKHsgbWV0cmljIH0pID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IG1ldHJpYy5lbnRyaWVzW21ldHJpYy5lbnRyaWVzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgQ0xTJyk7XG4gICAgX21lYXN1cmVtZW50c1snY2xzJ10gPSB7IHZhbHVlOiBtZXRyaWMudmFsdWUsIHVuaXQ6ICcnIH07XG4gICAgX2Nsc0VudHJ5ID0gZW50cnkgO1xuICB9LCB0cnVlKTtcbn1cblxuLyoqIFN0YXJ0cyB0cmFja2luZyB0aGUgTGFyZ2VzdCBDb250ZW50ZnVsIFBhaW50IG9uIHRoZSBjdXJyZW50IHBhZ2UuICovXG5mdW5jdGlvbiBfdHJhY2tMQ1AoKSB7XG4gIHJldHVybiBhZGRMY3BJbnN0cnVtZW50YXRpb25IYW5kbGVyKCh7IG1ldHJpYyB9KSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSBtZXRyaWMuZW50cmllc1ttZXRyaWMuZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIExDUCcpO1xuICAgIF9tZWFzdXJlbWVudHNbJ2xjcCddID0geyB2YWx1ZTogbWV0cmljLnZhbHVlLCB1bml0OiAnbWlsbGlzZWNvbmQnIH07XG4gICAgX2xjcEVudHJ5ID0gZW50cnkgO1xuICB9LCB0cnVlKTtcbn1cblxuLyoqIFN0YXJ0cyB0cmFja2luZyB0aGUgRmlyc3QgSW5wdXQgRGVsYXkgb24gdGhlIGN1cnJlbnQgcGFnZS4gKi9cbmZ1bmN0aW9uIF90cmFja0ZJRCgpIHtcbiAgcmV0dXJuIGFkZEZpZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoKHsgbWV0cmljIH0pID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IG1ldHJpYy5lbnRyaWVzW21ldHJpYy5lbnRyaWVzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lT3JpZ2luID0gbXNUb1NlYyhicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luICk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gbXNUb1NlYyhlbnRyeS5zdGFydFRpbWUpO1xuICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBGSUQnKTtcbiAgICBfbWVhc3VyZW1lbnRzWydmaWQnXSA9IHsgdmFsdWU6IG1ldHJpYy52YWx1ZSwgdW5pdDogJ21pbGxpc2Vjb25kJyB9O1xuICAgIF9tZWFzdXJlbWVudHNbJ21hcmsuZmlkJ10gPSB7IHZhbHVlOiB0aW1lT3JpZ2luICsgc3RhcnRUaW1lLCB1bml0OiAnc2Vjb25kJyB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gX3RyYWNrVHRmYigpIHtcbiAgcmV0dXJuIGFkZFR0ZmJJbnN0cnVtZW50YXRpb25IYW5kbGVyKCh7IG1ldHJpYyB9KSA9PiB7XG4gICAgY29uc3QgZW50cnkgPSBtZXRyaWMuZW50cmllc1ttZXRyaWMuZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIFRURkInKTtcbiAgICBfbWVhc3VyZW1lbnRzWyd0dGZiJ10gPSB7IHZhbHVlOiBtZXRyaWMudmFsdWUsIHVuaXQ6ICdtaWxsaXNlY29uZCcgfTtcbiAgfSk7XG59XG5cbmNvbnN0IElOUF9FTlRSWV9NQVAgPSB7XG4gIGNsaWNrOiAnY2xpY2snLFxuICBwb2ludGVyZG93bjogJ2NsaWNrJyxcbiAgcG9pbnRlcnVwOiAnY2xpY2snLFxuICBtb3VzZWRvd246ICdjbGljaycsXG4gIG1vdXNldXA6ICdjbGljaycsXG4gIHRvdWNoc3RhcnQ6ICdjbGljaycsXG4gIHRvdWNoZW5kOiAnY2xpY2snLFxuICBtb3VzZW92ZXI6ICdob3ZlcicsXG4gIG1vdXNlb3V0OiAnaG92ZXInLFxuICBtb3VzZWVudGVyOiAnaG92ZXInLFxuICBtb3VzZWxlYXZlOiAnaG92ZXInLFxuICBwb2ludGVyb3ZlcjogJ2hvdmVyJyxcbiAgcG9pbnRlcm91dDogJ2hvdmVyJyxcbiAgcG9pbnRlcmVudGVyOiAnaG92ZXInLFxuICBwb2ludGVybGVhdmU6ICdob3ZlcicsXG4gIGRyYWdzdGFydDogJ2RyYWcnLFxuICBkcmFnZW5kOiAnZHJhZycsXG4gIGRyYWc6ICdkcmFnJyxcbiAgZHJhZ2VudGVyOiAnZHJhZycsXG4gIGRyYWdsZWF2ZTogJ2RyYWcnLFxuICBkcmFnb3ZlcjogJ2RyYWcnLFxuICBkcm9wOiAnZHJhZycsXG4gIGtleWRvd246ICdwcmVzcycsXG4gIGtleXVwOiAncHJlc3MnLFxuICBrZXlwcmVzczogJ3ByZXNzJyxcbiAgaW5wdXQ6ICdwcmVzcycsXG59O1xuXG4vKiogU3RhcnRzIHRyYWNraW5nIHRoZSBJbnRlcmFjdGlvbiB0byBOZXh0IFBhaW50IG9uIHRoZSBjdXJyZW50IHBhZ2UuICovXG5mdW5jdGlvbiBfdHJhY2tJTlAoXG4gIGludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmcsXG4gIGludGVyYWN0aW9uc1NhbXBsZVJhdGUsXG4pIHtcbiAgcmV0dXJuIGFkZElucEluc3RydW1lbnRhdGlvbkhhbmRsZXIoKHsgbWV0cmljIH0pID0+IHtcbiAgICBpZiAobWV0cmljLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZW50cnkgPSBtZXRyaWMuZW50cmllcy5maW5kKFxuICAgICAgZW50cnkgPT4gZW50cnkuZHVyYXRpb24gPT09IG1ldHJpYy52YWx1ZSAmJiBJTlBfRU5UUllfTUFQW2VudHJ5Lm5hbWVdICE9PSB1bmRlZmluZWQsXG4gICAgKTtcbiAgICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnQoKTtcbiAgICBpZiAoIWVudHJ5IHx8ICFjbGllbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJhY3Rpb25UeXBlID0gSU5QX0VOVFJZX01BUFtlbnRyeS5uYW1lXTtcbiAgICBjb25zdCBvcHRpb25zID0gY2xpZW50LmdldE9wdGlvbnMoKTtcbiAgICAvKiogQnVpbGQgdGhlIElOUCBzcGFuLCBjcmVhdGUgYW4gZW52ZWxvcGUgZnJvbSB0aGUgc3BhbiwgYW5kIHRoZW4gc2VuZCB0aGUgZW52ZWxvcGUgKi9cbiAgICBjb25zdCBzdGFydFRpbWUgPSBtc1RvU2VjKChicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luICkgKyBlbnRyeS5zdGFydFRpbWUpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gbXNUb1NlYyhtZXRyaWMudmFsdWUpO1xuICAgIGNvbnN0IGludGVyYWN0aW9uID1cbiAgICAgIGVudHJ5LmludGVyYWN0aW9uSWQgIT09IHVuZGVmaW5lZCA/IGludGVyYWN0aW9uSWRUb1JvdXRlTmFtZU1hcHBpbmdbZW50cnkuaW50ZXJhY3Rpb25JZF0gOiB1bmRlZmluZWQ7XG4gICAgaWYgKGludGVyYWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyByb3V0ZU5hbWUsIHBhcmVudENvbnRleHQsIGFjdGl2ZVRyYW5zYWN0aW9uLCB1c2VyLCByZXBsYXlJZCB9ID0gaW50ZXJhY3Rpb247XG4gICAgY29uc3QgdXNlckRpc3BsYXkgPSB1c2VyICE9PSB1bmRlZmluZWQgPyB1c2VyLmVtYWlsIHx8IHVzZXIuaWQgfHwgdXNlci5pcF9hZGRyZXNzIDogdW5kZWZpbmVkO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgIGNvbnN0IHByb2ZpbGVJZCA9IGFjdGl2ZVRyYW5zYWN0aW9uICE9PSB1bmRlZmluZWQgPyBhY3RpdmVUcmFuc2FjdGlvbi5nZXRQcm9maWxlSWQoKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzcGFuID0gbmV3IFNwYW4oe1xuICAgICAgc3RhcnRUaW1lc3RhbXA6IHN0YXJ0VGltZSxcbiAgICAgIGVuZFRpbWVzdGFtcDogc3RhcnRUaW1lICsgZHVyYXRpb24sXG4gICAgICBvcDogYHVpLmludGVyYWN0aW9uLiR7aW50ZXJhY3Rpb25UeXBlfWAsXG4gICAgICBuYW1lOiBodG1sVHJlZUFzU3RyaW5nKGVudHJ5LnRhcmdldCksXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIHJlbGVhc2U6IG9wdGlvbnMucmVsZWFzZSxcbiAgICAgICAgZW52aXJvbm1lbnQ6IG9wdGlvbnMuZW52aXJvbm1lbnQsXG4gICAgICAgIHRyYW5zYWN0aW9uOiByb3V0ZU5hbWUsXG4gICAgICAgIC4uLih1c2VyRGlzcGxheSAhPT0gdW5kZWZpbmVkICYmIHVzZXJEaXNwbGF5ICE9PSAnJyA/IHsgdXNlcjogdXNlckRpc3BsYXkgfSA6IHt9KSxcbiAgICAgICAgLi4uKHByb2ZpbGVJZCAhPT0gdW5kZWZpbmVkID8geyBwcm9maWxlX2lkOiBwcm9maWxlSWQgfSA6IHt9KSxcbiAgICAgICAgLi4uKHJlcGxheUlkICE9PSB1bmRlZmluZWQgPyB7IHJlcGxheV9pZDogcmVwbGF5SWQgfSA6IHt9KSxcbiAgICAgIH0sXG4gICAgICBleGNsdXNpdmVUaW1lOiBtZXRyaWMudmFsdWUsXG4gICAgICBtZWFzdXJlbWVudHM6IHtcbiAgICAgICAgaW5wOiB7IHZhbHVlOiBtZXRyaWMudmFsdWUsIHVuaXQ6ICdtaWxsaXNlY29uZCcgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKiogQ2hlY2sgdG8gc2VlIGlmIHRoZSBzcGFuIHNob3VsZCBiZSBzYW1wbGVkICovXG4gICAgY29uc3Qgc2FtcGxlUmF0ZSA9IGdldFNhbXBsZVJhdGUocGFyZW50Q29udGV4dCwgb3B0aW9ucywgaW50ZXJhY3Rpb25zU2FtcGxlUmF0ZSk7XG5cbiAgICBpZiAoIXNhbXBsZVJhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IChzYW1wbGVSYXRlICkpIHtcbiAgICAgIGNvbnN0IGVudmVsb3BlID0gc3BhbiA/IGNyZWF0ZVNwYW5FbnZlbG9wZShbc3Bhbl0sIGNsaWVudC5nZXREc24oKSkgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSBjbGllbnQgJiYgY2xpZW50LmdldFRyYW5zcG9ydCgpO1xuICAgICAgaWYgKHRyYW5zcG9ydCAmJiBlbnZlbG9wZSkge1xuICAgICAgICB0cmFuc3BvcnQuc2VuZChlbnZlbG9wZSkudGhlbihudWxsLCByZWFzb24gPT4ge1xuICAgICAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5lcnJvcignRXJyb3Igd2hpbGUgc2VuZGluZyBpbnRlcmFjdGlvbjonLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiogQWRkIHBlcmZvcm1hbmNlIHJlbGF0ZWQgc3BhbnMgdG8gYSB0cmFuc2FjdGlvbiAqL1xuZnVuY3Rpb24gYWRkUGVyZm9ybWFuY2VFbnRyaWVzKHRyYW5zYWN0aW9uKSB7XG4gIGNvbnN0IHBlcmZvcm1hbmNlID0gZ2V0QnJvd3NlclBlcmZvcm1hbmNlQVBJKCk7XG4gIGlmICghcGVyZm9ybWFuY2UgfHwgIVdJTkRPVy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzIHx8ICFicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luKSB7XG4gICAgLy8gR2F0ZWtlZXBlciBpZiBwZXJmb3JtYW5jZSBBUEkgbm90IGF2YWlsYWJsZVxuICAgIHJldHVybjtcbiAgfVxuXG4gIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ1tUcmFjaW5nXSBBZGRpbmcgJiBhZGp1c3Rpbmcgc3BhbnMgdXNpbmcgUGVyZm9ybWFuY2UgQVBJJyk7XG4gIGNvbnN0IHRpbWVPcmlnaW4gPSBtc1RvU2VjKGJyb3dzZXJQZXJmb3JtYW5jZVRpbWVPcmlnaW4pO1xuXG4gIGNvbnN0IHBlcmZvcm1hbmNlRW50cmllcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKTtcblxuICBjb25zdCB7IG9wLCBzdGFydF90aW1lc3RhbXA6IHRyYW5zYWN0aW9uU3RhcnRUaW1lIH0gPSBzcGFuVG9KU09OKHRyYW5zYWN0aW9uKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBwZXJmb3JtYW5jZUVudHJpZXMuc2xpY2UoX3BlcmZvcm1hbmNlQ3Vyc29yKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0VGltZSA9IG1zVG9TZWMoZW50cnkuc3RhcnRUaW1lKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IG1zVG9TZWMoZW50cnkuZHVyYXRpb24pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgaWYgKHRyYW5zYWN0aW9uLm9wID09PSAnbmF2aWdhdGlvbicgJiYgdHJhbnNhY3Rpb25TdGFydFRpbWUgJiYgdGltZU9yaWdpbiArIHN0YXJ0VGltZSA8IHRyYW5zYWN0aW9uU3RhcnRUaW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoIChlbnRyeS5lbnRyeVR5cGUpIHtcbiAgICAgIGNhc2UgJ25hdmlnYXRpb24nOiB7XG4gICAgICAgIF9hZGROYXZpZ2F0aW9uU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCB0aW1lT3JpZ2luKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdtYXJrJzpcbiAgICAgIGNhc2UgJ3BhaW50JzpcbiAgICAgIGNhc2UgJ21lYXN1cmUnOiB7XG4gICAgICAgIF9hZGRNZWFzdXJlU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCBzdGFydFRpbWUsIGR1cmF0aW9uLCB0aW1lT3JpZ2luKTtcblxuICAgICAgICAvLyBjYXB0dXJlIHdlYiB2aXRhbHNcbiAgICAgICAgY29uc3QgZmlyc3RIaWRkZW4gPSBnZXRWaXNpYmlsaXR5V2F0Y2hlcigpO1xuICAgICAgICAvLyBPbmx5IHJlcG9ydCBpZiB0aGUgcGFnZSB3YXNuJ3QgaGlkZGVuIHByaW9yIHRvIHRoZSB3ZWIgdml0YWwuXG4gICAgICAgIGNvbnN0IHNob3VsZFJlY29yZCA9IGVudHJ5LnN0YXJ0VGltZSA8IGZpcnN0SGlkZGVuLmZpcnN0SGlkZGVuVGltZTtcblxuICAgICAgICBpZiAoZW50cnkubmFtZSA9PT0gJ2ZpcnN0LXBhaW50JyAmJiBzaG91bGRSZWNvcmQpIHtcbiAgICAgICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgRlAnKTtcbiAgICAgICAgICBfbWVhc3VyZW1lbnRzWydmcCddID0geyB2YWx1ZTogZW50cnkuc3RhcnRUaW1lLCB1bml0OiAnbWlsbGlzZWNvbmQnIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5Lm5hbWUgPT09ICdmaXJzdC1jb250ZW50ZnVsLXBhaW50JyAmJiBzaG91bGRSZWNvcmQpIHtcbiAgICAgICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgRkNQJyk7XG4gICAgICAgICAgX21lYXN1cmVtZW50c1snZmNwJ10gPSB7IHZhbHVlOiBlbnRyeS5zdGFydFRpbWUsIHVuaXQ6ICdtaWxsaXNlY29uZCcgfTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Jlc291cmNlJzoge1xuICAgICAgICBfYWRkUmVzb3VyY2VTcGFucyh0cmFuc2FjdGlvbiwgZW50cnksIGVudHJ5Lm5hbWUgLCBzdGFydFRpbWUsIGR1cmF0aW9uLCB0aW1lT3JpZ2luKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBJZ25vcmUgb3RoZXIgZW50cnkgdHlwZXMuXG4gICAgfVxuICB9KTtcblxuICBfcGVyZm9ybWFuY2VDdXJzb3IgPSBNYXRoLm1heChwZXJmb3JtYW5jZUVudHJpZXMubGVuZ3RoIC0gMSwgMCk7XG5cbiAgX3RyYWNrTmF2aWdhdG9yKHRyYW5zYWN0aW9uKTtcblxuICAvLyBNZWFzdXJlbWVudHMgYXJlIG9ubHkgYXZhaWxhYmxlIGZvciBwYWdlbG9hZCB0cmFuc2FjdGlvbnNcbiAgaWYgKG9wID09PSAncGFnZWxvYWQnKSB7XG4gICAgX2FkZFR0ZmJSZXF1ZXN0VGltZVRvTWVhc3VyZW1lbnRzKF9tZWFzdXJlbWVudHMpO1xuXG4gICAgWydmY3AnLCAnZnAnLCAnbGNwJ10uZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIGlmICghX21lYXN1cmVtZW50c1tuYW1lXSB8fCAhdHJhbnNhY3Rpb25TdGFydFRpbWUgfHwgdGltZU9yaWdpbiA+PSB0cmFuc2FjdGlvblN0YXJ0VGltZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBUaGUgd2ViIHZpdGFscywgZmNwLCBmcCwgbGNwLCBhbmQgdHRmYiwgYWxsIG1lYXN1cmUgcmVsYXRpdmUgdG8gdGltZU9yaWdpbi5cbiAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHRpbWVPcmlnaW4gaXMgbm90IGNhcHR1cmVkIHdpdGhpbiB0aGUgdHJhbnNhY3Rpb24gc3BhbiBkYXRhLCBzbyB0aGVzZSB3ZWIgdml0YWxzIHdpbGwgbmVlZFxuICAgICAgLy8gdG8gYmUgYWRqdXN0ZWQgdG8gYmUgcmVsYXRpdmUgdG8gdHJhbnNhY3Rpb24uc3RhcnRUaW1lc3RhbXAuXG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IF9tZWFzdXJlbWVudHNbbmFtZV0udmFsdWU7XG4gICAgICBjb25zdCBtZWFzdXJlbWVudFRpbWVzdGFtcCA9IHRpbWVPcmlnaW4gKyBtc1RvU2VjKG9sZFZhbHVlKTtcblxuICAgICAgLy8gbm9ybWFsaXplZFZhbHVlIHNob3VsZCBiZSBpbiBtaWxsaXNlY29uZHNcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IE1hdGguYWJzKChtZWFzdXJlbWVudFRpbWVzdGFtcCAtIHRyYW5zYWN0aW9uU3RhcnRUaW1lKSAqIDEwMDApO1xuICAgICAgY29uc3QgZGVsdGEgPSBub3JtYWxpemVkVmFsdWUgLSBvbGRWYWx1ZTtcblxuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZyhgW01lYXN1cmVtZW50c10gTm9ybWFsaXplZCAke25hbWV9IGZyb20gJHtvbGRWYWx1ZX0gdG8gJHtub3JtYWxpemVkVmFsdWV9ICgke2RlbHRhfSlgKTtcbiAgICAgIF9tZWFzdXJlbWVudHNbbmFtZV0udmFsdWUgPSBub3JtYWxpemVkVmFsdWU7XG4gICAgfSk7XG5cbiAgICBjb25zdCBmaWRNYXJrID0gX21lYXN1cmVtZW50c1snbWFyay5maWQnXTtcbiAgICBpZiAoZmlkTWFyayAmJiBfbWVhc3VyZW1lbnRzWydmaWQnXSkge1xuICAgICAgLy8gY3JlYXRlIHNwYW4gZm9yIEZJRFxuICAgICAgX3N0YXJ0Q2hpbGQodHJhbnNhY3Rpb24sIHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdmaXJzdCBpbnB1dCBkZWxheScsXG4gICAgICAgIGVuZFRpbWVzdGFtcDogZmlkTWFyay52YWx1ZSArIG1zVG9TZWMoX21lYXN1cmVtZW50c1snZmlkJ10udmFsdWUpLFxuICAgICAgICBvcDogJ3VpLmFjdGlvbicsXG4gICAgICAgIG9yaWdpbjogJ2F1dG8udWkuYnJvd3Nlci5tZXRyaWNzJyxcbiAgICAgICAgc3RhcnRUaW1lc3RhbXA6IGZpZE1hcmsudmFsdWUsXG4gICAgICB9KTtcblxuICAgICAgLy8gRGVsZXRlIG1hcmsuZmlkIGFzIHdlIGRvbid0IHdhbnQgaXQgdG8gYmUgcGFydCBvZiBmaW5hbCBwYXlsb2FkXG4gICAgICBkZWxldGUgX21lYXN1cmVtZW50c1snbWFyay5maWQnXTtcbiAgICB9XG5cbiAgICAvLyBJZiBGQ1AgaXMgbm90IHJlY29yZGVkIHdlIHNob3VsZCBub3QgcmVjb3JkIHRoZSBjbHMgdmFsdWVcbiAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIG5ldyBkZWZpbml0aW9uIG9mIENMUy5cbiAgICBpZiAoISgnZmNwJyBpbiBfbWVhc3VyZW1lbnRzKSkge1xuICAgICAgZGVsZXRlIF9tZWFzdXJlbWVudHMuY2xzO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKF9tZWFzdXJlbWVudHMpLmZvckVhY2gobWVhc3VyZW1lbnROYW1lID0+IHtcbiAgICAgIHNldE1lYXN1cmVtZW50KG1lYXN1cmVtZW50TmFtZSwgX21lYXN1cmVtZW50c1ttZWFzdXJlbWVudE5hbWVdLnZhbHVlLCBfbWVhc3VyZW1lbnRzW21lYXN1cmVtZW50TmFtZV0udW5pdCk7XG4gICAgfSk7XG5cbiAgICBfdGFnTWV0cmljSW5mbyh0cmFuc2FjdGlvbik7XG4gIH1cblxuICBfbGNwRW50cnkgPSB1bmRlZmluZWQ7XG4gIF9jbHNFbnRyeSA9IHVuZGVmaW5lZDtcbiAgX21lYXN1cmVtZW50cyA9IHt9O1xufVxuXG4vKiogQ3JlYXRlIG1lYXN1cmUgcmVsYXRlZCBzcGFucyAqL1xuZnVuY3Rpb24gX2FkZE1lYXN1cmVTcGFucyhcbiAgdHJhbnNhY3Rpb24sXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGVudHJ5LFxuICBzdGFydFRpbWUsXG4gIGR1cmF0aW9uLFxuICB0aW1lT3JpZ2luLFxuKSB7XG4gIGNvbnN0IG1lYXN1cmVTdGFydFRpbWVzdGFtcCA9IHRpbWVPcmlnaW4gKyBzdGFydFRpbWU7XG4gIGNvbnN0IG1lYXN1cmVFbmRUaW1lc3RhbXAgPSBtZWFzdXJlU3RhcnRUaW1lc3RhbXAgKyBkdXJhdGlvbjtcblxuICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgIGRlc2NyaXB0aW9uOiBlbnRyeS5uYW1lICxcbiAgICBlbmRUaW1lc3RhbXA6IG1lYXN1cmVFbmRUaW1lc3RhbXAsXG4gICAgb3A6IGVudHJ5LmVudHJ5VHlwZSAsXG4gICAgb3JpZ2luOiAnYXV0by5yZXNvdXJjZS5icm93c2VyLm1ldHJpY3MnLFxuICAgIHN0YXJ0VGltZXN0YW1wOiBtZWFzdXJlU3RhcnRUaW1lc3RhbXAsXG4gIH0pO1xuXG4gIHJldHVybiBtZWFzdXJlU3RhcnRUaW1lc3RhbXA7XG59XG5cbi8qKiBJbnN0cnVtZW50IG5hdmlnYXRpb24gZW50cmllcyAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9hZGROYXZpZ2F0aW9uU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCB0aW1lT3JpZ2luKSB7XG4gIFsndW5sb2FkRXZlbnQnLCAncmVkaXJlY3QnLCAnZG9tQ29udGVudExvYWRlZEV2ZW50JywgJ2xvYWRFdmVudCcsICdjb25uZWN0J10uZm9yRWFjaChldmVudCA9PiB7XG4gICAgX2FkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksIGV2ZW50LCB0aW1lT3JpZ2luKTtcbiAgfSk7XG4gIF9hZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAnc2VjdXJlQ29ubmVjdGlvbicsIHRpbWVPcmlnaW4sICdUTFMvU1NMJywgJ2Nvbm5lY3RFbmQnKTtcbiAgX2FkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksICdmZXRjaCcsIHRpbWVPcmlnaW4sICdjYWNoZScsICdkb21haW5Mb29rdXBTdGFydCcpO1xuICBfYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKHRyYW5zYWN0aW9uLCBlbnRyeSwgJ2RvbWFpbkxvb2t1cCcsIHRpbWVPcmlnaW4sICdETlMnKTtcbiAgX2FkZFJlcXVlc3QodHJhbnNhY3Rpb24sIGVudHJ5LCB0aW1lT3JpZ2luKTtcbn1cblxuLyoqIENyZWF0ZSBwZXJmb3JtYW5jZSBuYXZpZ2F0aW9uIHJlbGF0ZWQgc3BhbnMgKi9cbmZ1bmN0aW9uIF9hZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcoXG4gIHRyYW5zYWN0aW9uLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBlbnRyeSxcbiAgZXZlbnQsXG4gIHRpbWVPcmlnaW4sXG4gIGRlc2NyaXB0aW9uLFxuICBldmVudEVuZCxcbikge1xuICBjb25zdCBlbmQgPSBldmVudEVuZCA/IChlbnRyeVtldmVudEVuZF0gKSA6IChlbnRyeVtgJHtldmVudH1FbmRgXSApO1xuICBjb25zdCBzdGFydCA9IGVudHJ5W2Ake2V2ZW50fVN0YXJ0YF0gO1xuICBpZiAoIXN0YXJ0IHx8ICFlbmQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgX3N0YXJ0Q2hpbGQodHJhbnNhY3Rpb24sIHtcbiAgICBvcDogJ2Jyb3dzZXInLFxuICAgIG9yaWdpbjogJ2F1dG8uYnJvd3Nlci5icm93c2VyLm1ldHJpY3MnLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB8fCBldmVudCxcbiAgICBzdGFydFRpbWVzdGFtcDogdGltZU9yaWdpbiArIG1zVG9TZWMoc3RhcnQpLFxuICAgIGVuZFRpbWVzdGFtcDogdGltZU9yaWdpbiArIG1zVG9TZWMoZW5kKSxcbiAgfSk7XG59XG5cbi8qKiBDcmVhdGUgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcmVsYXRlZCBzcGFucyAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9hZGRSZXF1ZXN0KHRyYW5zYWN0aW9uLCBlbnRyeSwgdGltZU9yaWdpbikge1xuICBpZiAoZW50cnkucmVzcG9uc2VFbmQpIHtcbiAgICAvLyBJdCBpcyBwb3NzaWJsZSB0aGF0IHdlIGFyZSBjb2xsZWN0aW5nIHRoZXNlIG1ldHJpY3Mgd2hlbiB0aGUgcGFnZSBoYXNuJ3QgZmluaXNoZWQgbG9hZGluZyB5ZXQsIGZvciBleGFtcGxlIHdoZW4gdGhlIEhUTUwgc2xvd2x5IHN0cmVhbXMgaW4uXG4gICAgLy8gSW4gdGhpcyBjYXNlLCBpZS4gd2hlbiB0aGUgZG9jdW1lbnQgcmVxdWVzdCBoYXNuJ3QgZmluaXNoZWQgeWV0LCBgZW50cnkucmVzcG9uc2VFbmRgIHdpbGwgYmUgMC5cbiAgICAvLyBJbiBvcmRlciBub3QgdG8gcHJvZHVjZSBmYXVsdHkgc3BhbnMsIHdoZXJlIHRoZSBlbmQgdGltZXN0YW1wIGlzIGJlZm9yZSB0aGUgc3RhcnQgdGltZXN0YW1wLCB3ZSB3aWxsIG9ubHkgY29sbGVjdFxuICAgIC8vIHRoZXNlIHNwYW5zIHdoZW4gdGhlIHJlc3BvbnNlRW5kIHZhbHVlIGlzIGF2YWlsYWJsZS4gVGhlIGJhY2tlbmQgKFJlbGF5KSB3b3VsZCBkcm9wIHRoZSBlbnRpcmUgdHJhbnNhY3Rpb24gaWYgaXQgY29udGFpbmVkIGZhdWx0eSBzcGFucy5cbiAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgb3A6ICdicm93c2VyJyxcbiAgICAgIG9yaWdpbjogJ2F1dG8uYnJvd3Nlci5icm93c2VyLm1ldHJpY3MnLFxuICAgICAgZGVzY3JpcHRpb246ICdyZXF1ZXN0JyxcbiAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbnRyeS5yZXF1ZXN0U3RhcnQgKSxcbiAgICAgIGVuZFRpbWVzdGFtcDogdGltZU9yaWdpbiArIG1zVG9TZWMoZW50cnkucmVzcG9uc2VFbmQgKSxcbiAgICB9KTtcblxuICAgIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCB7XG4gICAgICBvcDogJ2Jyb3dzZXInLFxuICAgICAgb3JpZ2luOiAnYXV0by5icm93c2VyLmJyb3dzZXIubWV0cmljcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ3Jlc3BvbnNlJyxcbiAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbnRyeS5yZXNwb25zZVN0YXJ0ICksXG4gICAgICBlbmRUaW1lc3RhbXA6IHRpbWVPcmlnaW4gKyBtc1RvU2VjKGVudHJ5LnJlc3BvbnNlRW5kICksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIENyZWF0ZSByZXNvdXJjZS1yZWxhdGVkIHNwYW5zICovXG5mdW5jdGlvbiBfYWRkUmVzb3VyY2VTcGFucyhcbiAgdHJhbnNhY3Rpb24sXG4gIGVudHJ5LFxuICByZXNvdXJjZVVybCxcbiAgc3RhcnRUaW1lLFxuICBkdXJhdGlvbixcbiAgdGltZU9yaWdpbixcbikge1xuICAvLyB3ZSBhbHJlYWR5IGluc3RydW1lbnQgYmFzZWQgb24gZmV0Y2ggYW5kIHhociwgc28gd2UgZG9uJ3QgbmVlZCB0b1xuICAvLyBkdXBsaWNhdGUgc3BhbnMgaGVyZS5cbiAgaWYgKGVudHJ5LmluaXRpYXRvclR5cGUgPT09ICd4bWxodHRwcmVxdWVzdCcgfHwgZW50cnkuaW5pdGlhdG9yVHlwZSA9PT0gJ2ZldGNoJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHBhcnNlZFVybCA9IHBhcnNlVXJsKHJlc291cmNlVXJsKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBjb25zdCBkYXRhID0ge307XG4gIHNldFJlc291cmNlRW50cnlTaXplRGF0YShkYXRhLCBlbnRyeSwgJ3RyYW5zZmVyU2l6ZScsICdodHRwLnJlc3BvbnNlX3RyYW5zZmVyX3NpemUnKTtcbiAgc2V0UmVzb3VyY2VFbnRyeVNpemVEYXRhKGRhdGEsIGVudHJ5LCAnZW5jb2RlZEJvZHlTaXplJywgJ2h0dHAucmVzcG9uc2VfY29udGVudF9sZW5ndGgnKTtcbiAgc2V0UmVzb3VyY2VFbnRyeVNpemVEYXRhKGRhdGEsIGVudHJ5LCAnZGVjb2RlZEJvZHlTaXplJywgJ2h0dHAuZGVjb2RlZF9yZXNwb25zZV9jb250ZW50X2xlbmd0aCcpO1xuXG4gIGlmICgncmVuZGVyQmxvY2tpbmdTdGF0dXMnIGluIGVudHJ5KSB7XG4gICAgZGF0YVsncmVzb3VyY2UucmVuZGVyX2Jsb2NraW5nX3N0YXR1cyddID0gZW50cnkucmVuZGVyQmxvY2tpbmdTdGF0dXM7XG4gIH1cbiAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCkge1xuICAgIGRhdGFbJ3VybC5zY2hlbWUnXSA9IHBhcnNlZFVybC5wcm90b2NvbC5zcGxpdCgnOicpLnBvcCgpOyAvLyB0aGUgcHJvdG9jb2wgcmV0dXJuZWQgYnkgcGFyc2VVcmwgaW5jbHVkZXMgYSA6LCBidXQgT1RFTCBzcGVjIGRvZXMgbm90LCBzbyB3ZSByZW1vdmUgaXQuXG4gIH1cblxuICBpZiAocGFyc2VkVXJsLmhvc3QpIHtcbiAgICBkYXRhWydzZXJ2ZXIuYWRkcmVzcyddID0gcGFyc2VkVXJsLmhvc3Q7XG4gIH1cblxuICBkYXRhWyd1cmwuc2FtZV9vcmlnaW4nXSA9IHJlc291cmNlVXJsLmluY2x1ZGVzKFdJTkRPVy5sb2NhdGlvbi5vcmlnaW4pO1xuXG4gIGNvbnN0IHN0YXJ0VGltZXN0YW1wID0gdGltZU9yaWdpbiArIHN0YXJ0VGltZTtcbiAgY29uc3QgZW5kVGltZXN0YW1wID0gc3RhcnRUaW1lc3RhbXAgKyBkdXJhdGlvbjtcblxuICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgIGRlc2NyaXB0aW9uOiByZXNvdXJjZVVybC5yZXBsYWNlKFdJTkRPVy5sb2NhdGlvbi5vcmlnaW4sICcnKSxcbiAgICBlbmRUaW1lc3RhbXAsXG4gICAgb3A6IGVudHJ5LmluaXRpYXRvclR5cGUgPyBgcmVzb3VyY2UuJHtlbnRyeS5pbml0aWF0b3JUeXBlfWAgOiAncmVzb3VyY2Uub3RoZXInLFxuICAgIG9yaWdpbjogJ2F1dG8ucmVzb3VyY2UuYnJvd3Nlci5tZXRyaWNzJyxcbiAgICBzdGFydFRpbWVzdGFtcCxcbiAgICBkYXRhLFxuICB9KTtcbn1cblxuLyoqXG4gKiBDYXB0dXJlIHRoZSBpbmZvcm1hdGlvbiBvZiB0aGUgdXNlciBhZ2VudC5cbiAqL1xuZnVuY3Rpb24gX3RyYWNrTmF2aWdhdG9yKHRyYW5zYWN0aW9uKSB7XG4gIGNvbnN0IG5hdmlnYXRvciA9IFdJTkRPVy5uYXZpZ2F0b3IgO1xuICBpZiAoIW5hdmlnYXRvcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHRyYWNrIG5ldHdvcmsgY29ubmVjdGl2aXR5XG4gIGNvbnN0IGNvbm5lY3Rpb24gPSBuYXZpZ2F0b3IuY29ubmVjdGlvbjtcbiAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICBpZiAoY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlKSB7XG4gICAgICAvLyBUT0RPOiBDYW4gd2UgcmV3cml0ZSB0aGlzIHRvIGFuIGF0dHJpYnV0ZT9cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgdHJhbnNhY3Rpb24uc2V0VGFnKCdlZmZlY3RpdmVDb25uZWN0aW9uVHlwZScsIGNvbm5lY3Rpb24uZWZmZWN0aXZlVHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbm5lY3Rpb24udHlwZSkge1xuICAgICAgLy8gVE9ETzogQ2FuIHdlIHJld3JpdGUgdGhpcyB0byBhbiBhdHRyaWJ1dGU/XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIHRyYW5zYWN0aW9uLnNldFRhZygnY29ubmVjdGlvblR5cGUnLCBjb25uZWN0aW9uLnR5cGUpO1xuICAgIH1cblxuICAgIGlmIChpc01lYXN1cmVtZW50VmFsdWUoY29ubmVjdGlvbi5ydHQpKSB7XG4gICAgICBfbWVhc3VyZW1lbnRzWydjb25uZWN0aW9uLnJ0dCddID0geyB2YWx1ZTogY29ubmVjdGlvbi5ydHQsIHVuaXQ6ICdtaWxsaXNlY29uZCcgfTtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNNZWFzdXJlbWVudFZhbHVlKG5hdmlnYXRvci5kZXZpY2VNZW1vcnkpKSB7XG4gICAgLy8gVE9ETzogQ2FuIHdlIHJld3JpdGUgdGhpcyB0byBhbiBhdHRyaWJ1dGU/XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgdHJhbnNhY3Rpb24uc2V0VGFnKCdkZXZpY2VNZW1vcnknLCBgJHtuYXZpZ2F0b3IuZGV2aWNlTWVtb3J5fSBHQmApO1xuICB9XG5cbiAgaWYgKGlzTWVhc3VyZW1lbnRWYWx1ZShuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSkpIHtcbiAgICAvLyBUT0RPOiBDYW4gd2UgcmV3cml0ZSB0aGlzIHRvIGFuIGF0dHJpYnV0ZT9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2hhcmR3YXJlQ29uY3VycmVuY3knLCBTdHJpbmcobmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kpKTtcbiAgfVxufVxuXG4vKiogQWRkIExDUCAvIENMUyBkYXRhIHRvIHRyYW5zYWN0aW9uIHRvIGFsbG93IGRlYnVnZ2luZyAqL1xuZnVuY3Rpb24gX3RhZ01ldHJpY0luZm8odHJhbnNhY3Rpb24pIHtcbiAgaWYgKF9sY3BFbnRyeSkge1xuICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBMQ1AgRGF0YScpO1xuXG4gICAgLy8gQ2FwdHVyZSBQcm9wZXJ0aWVzIG9mIHRoZSBMQ1AgZWxlbWVudCB0aGF0IGNvbnRyaWJ1dGVzIHRvIHRoZSBMQ1AuXG5cbiAgICBpZiAoX2xjcEVudHJ5LmVsZW1lbnQpIHtcbiAgICAgIC8vIFRPRE86IENhbiB3ZSByZXdyaXRlIHRoaXMgdG8gYW4gYXR0cmlidXRlP1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2xjcC5lbGVtZW50JywgaHRtbFRyZWVBc1N0cmluZyhfbGNwRW50cnkuZWxlbWVudCkpO1xuICAgIH1cblxuICAgIGlmIChfbGNwRW50cnkuaWQpIHtcbiAgICAgIC8vIFRPRE86IENhbiB3ZSByZXdyaXRlIHRoaXMgdG8gYW4gYXR0cmlidXRlP1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2xjcC5pZCcsIF9sY3BFbnRyeS5pZCk7XG4gICAgfVxuXG4gICAgaWYgKF9sY3BFbnRyeS51cmwpIHtcbiAgICAgIC8vIFRyaW0gVVJMIHRvIHRoZSBmaXJzdCAyMDAgY2hhcmFjdGVycy5cbiAgICAgIC8vIFRPRE86IENhbiB3ZSByZXdyaXRlIHRoaXMgdG8gYW4gYXR0cmlidXRlP1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2xjcC51cmwnLCBfbGNwRW50cnkudXJsLnRyaW0oKS5zbGljZSgwLCAyMDApKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBDYW4gd2UgcmV3cml0ZSB0aGlzIHRvIGFuIGF0dHJpYnV0ZT9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2xjcC5zaXplJywgX2xjcEVudHJ5LnNpemUpO1xuICB9XG5cbiAgLy8gU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTGF5b3V0U2hpZnRcbiAgaWYgKF9jbHNFbnRyeSAmJiBfY2xzRW50cnkuc291cmNlcykge1xuICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBDTFMgRGF0YScpO1xuICAgIF9jbHNFbnRyeS5zb3VyY2VzLmZvckVhY2goKHNvdXJjZSwgaW5kZXgpID0+XG4gICAgICAvLyBUT0RPOiBDYW4gd2UgcmV3cml0ZSB0aGlzIHRvIGFuIGF0dHJpYnV0ZT9cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgdHJhbnNhY3Rpb24uc2V0VGFnKGBjbHMuc291cmNlLiR7aW5kZXggKyAxfWAsIGh0bWxUcmVlQXNTdHJpbmcoc291cmNlLm5vZGUpKSxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldFJlc291cmNlRW50cnlTaXplRGF0YShcbiAgZGF0YSxcbiAgZW50cnksXG4gIGtleSxcbiAgZGF0YUtleSxcbikge1xuICBjb25zdCBlbnRyeVZhbCA9IGVudHJ5W2tleV07XG4gIGlmIChlbnRyeVZhbCAhPSBudWxsICYmIGVudHJ5VmFsIDwgTUFYX0lOVF9BU19CWVRFUykge1xuICAgIGRhdGFbZGF0YUtleV0gPSBlbnRyeVZhbDtcbiAgfVxufVxuXG4vKipcbiAqIEFkZCB0dGZiIHJlcXVlc3QgdGltZSBpbmZvcm1hdGlvbiB0byBtZWFzdXJlbWVudHMuXG4gKlxuICogdHRmYiBpbmZvcm1hdGlvbiBpcyBhZGRlZCB2aWEgdmVuZG9yZWQgd2ViIHZpdGFscyBsaWJyYXJ5LlxuICovXG5mdW5jdGlvbiBfYWRkVHRmYlJlcXVlc3RUaW1lVG9NZWFzdXJlbWVudHMoX21lYXN1cmVtZW50cykge1xuICBjb25zdCBuYXZFbnRyeSA9IGdldE5hdmlnYXRpb25FbnRyeSgpO1xuICBpZiAoIW5hdkVudHJ5KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyByZXNwb25zZVN0YXJ0LCByZXF1ZXN0U3RhcnQgfSA9IG5hdkVudHJ5O1xuXG4gIGlmIChyZXF1ZXN0U3RhcnQgPD0gcmVzcG9uc2VTdGFydCkge1xuICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBUVEZCIFJlcXVlc3QgVGltZScpO1xuICAgIF9tZWFzdXJlbWVudHNbJ3R0ZmIucmVxdWVzdFRpbWUnXSA9IHtcbiAgICAgIHZhbHVlOiByZXNwb25zZVN0YXJ0IC0gcmVxdWVzdFN0YXJ0LFxuICAgICAgdW5pdDogJ21pbGxpc2Vjb25kJyxcbiAgICB9O1xuICB9XG59XG5cbi8qKiBUYWtlbiBmcm9tIEBzZW50cnkvY29yZSBzYW1wbGluZy50cyAqL1xuZnVuY3Rpb24gZ2V0U2FtcGxlUmF0ZShcbiAgdHJhbnNhY3Rpb25Db250ZXh0LFxuICBvcHRpb25zLFxuICBpbnRlcmFjdGlvbnNTYW1wbGVSYXRlLFxuKSB7XG4gIGlmICghaGFzVHJhY2luZ0VuYWJsZWQob3B0aW9ucykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IHNhbXBsZVJhdGU7XG4gIGlmICh0cmFuc2FjdGlvbkNvbnRleHQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy50cmFjZXNTYW1wbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2FtcGxlUmF0ZSA9IG9wdGlvbnMudHJhY2VzU2FtcGxlcih7XG4gICAgICB0cmFuc2FjdGlvbkNvbnRleHQsXG4gICAgICBuYW1lOiB0cmFuc2FjdGlvbkNvbnRleHQubmFtZSxcbiAgICAgIHBhcmVudFNhbXBsZWQ6IHRyYW5zYWN0aW9uQ29udGV4dC5wYXJlbnRTYW1wbGVkLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgLi4udHJhbnNhY3Rpb25Db250ZXh0LmRhdGEsXG4gICAgICAgIC4uLnRyYW5zYWN0aW9uQ29udGV4dC5hdHRyaWJ1dGVzLFxuICAgICAgfSxcbiAgICAgIGxvY2F0aW9uOiBXSU5ET1cubG9jYXRpb24sXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHJhbnNhY3Rpb25Db250ZXh0ICE9PSB1bmRlZmluZWQgJiYgdHJhbnNhY3Rpb25Db250ZXh0LnNhbXBsZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHNhbXBsZVJhdGUgPSB0cmFuc2FjdGlvbkNvbnRleHQuc2FtcGxlZDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFjZXNTYW1wbGVSYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgIHNhbXBsZVJhdGUgPSBvcHRpb25zLnRyYWNlc1NhbXBsZVJhdGU7XG4gIH0gZWxzZSB7XG4gICAgc2FtcGxlUmF0ZSA9IDE7XG4gIH1cbiAgaWYgKCFpc1ZhbGlkU2FtcGxlUmF0ZShzYW1wbGVSYXRlKSkge1xuICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci53YXJuKCdbVHJhY2luZ10gRGlzY2FyZGluZyBpbnRlcmFjdGlvbiBzcGFuIGJlY2F1c2Ugb2YgaW52YWxpZCBzYW1wbGUgcmF0ZS4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNhbXBsZVJhdGUgPT09IHRydWUpIHtcbiAgICByZXR1cm4gaW50ZXJhY3Rpb25zU2FtcGxlUmF0ZTtcbiAgfSBlbHNlIGlmIChzYW1wbGVSYXRlID09PSBmYWxzZSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJldHVybiBzYW1wbGVSYXRlICogaW50ZXJhY3Rpb25zU2FtcGxlUmF0ZTtcbn1cblxuZXhwb3J0IHsgX2FkZE1lYXN1cmVTcGFucywgX2FkZFJlc291cmNlU3BhbnMsIGFkZFBlcmZvcm1hbmNlRW50cmllcywgc3RhcnRUcmFja2luZ0lOUCwgc3RhcnRUcmFja2luZ0ludGVyYWN0aW9ucywgc3RhcnRUcmFja2luZ0xvbmdUYXNrcywgc3RhcnRUcmFja2luZ1dlYlZpdGFscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/index.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/utils.js":
/*!*****************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/metrics/utils.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _startChild: () => (/* binding */ _startChild),\n/* harmony export */   isMeasurementValue: () => (/* binding */ isMeasurementValue)\n/* harmony export */ });\n/**\n * Checks if a given value is a valid measurement value.\n */\nfunction isMeasurementValue(value) {\n  return typeof value === 'number' && isFinite(value);\n}\n\n/**\n * Helper function to start child on transactions. This function will make sure that the transaction will\n * use the start timestamp of the created child span if it is earlier than the transactions actual\n * start timestamp.\n *\n * Note: this will not be possible anymore in v8,\n * unless we do some special handling for browser here...\n */\nfunction _startChild(transaction, { startTimestamp, ...ctx }) {\n  // eslint-disable-next-line deprecation/deprecation\n  if (startTimestamp && transaction.startTimestamp > startTimestamp) {\n    // eslint-disable-next-line deprecation/deprecation\n    transaction.startTimestamp = startTimestamp;\n  }\n\n  // eslint-disable-next-line deprecation/deprecation\n  return transaction.startChild({\n    startTimestamp,\n    ...ctx,\n  });\n}\n\n\n//# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9tZXRyaWNzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0JBQXdCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRTJDO0FBQzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL21ldHJpY3MvdXRpbHMuanM/NWM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIHZhbHVlIGlzIGEgdmFsaWQgbWVhc3VyZW1lbnQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGlzTWVhc3VyZW1lbnRWYWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHN0YXJ0IGNoaWxkIG9uIHRyYW5zYWN0aW9ucy4gVGhpcyBmdW5jdGlvbiB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSB0cmFuc2FjdGlvbiB3aWxsXG4gKiB1c2UgdGhlIHN0YXJ0IHRpbWVzdGFtcCBvZiB0aGUgY3JlYXRlZCBjaGlsZCBzcGFuIGlmIGl0IGlzIGVhcmxpZXIgdGhhbiB0aGUgdHJhbnNhY3Rpb25zIGFjdHVhbFxuICogc3RhcnQgdGltZXN0YW1wLlxuICpcbiAqIE5vdGU6IHRoaXMgd2lsbCBub3QgYmUgcG9zc2libGUgYW55bW9yZSBpbiB2OCxcbiAqIHVubGVzcyB3ZSBkbyBzb21lIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGJyb3dzZXIgaGVyZS4uLlxuICovXG5mdW5jdGlvbiBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwgeyBzdGFydFRpbWVzdGFtcCwgLi4uY3R4IH0pIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gIGlmIChzdGFydFRpbWVzdGFtcCAmJiB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcCA+IHN0YXJ0VGltZXN0YW1wKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgdHJhbnNhY3Rpb24uc3RhcnRUaW1lc3RhbXAgPSBzdGFydFRpbWVzdGFtcDtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICByZXR1cm4gdHJhbnNhY3Rpb24uc3RhcnRDaGlsZCh7XG4gICAgc3RhcnRUaW1lc3RhbXAsXG4gICAgLi4uY3R4LFxuICB9KTtcbn1cblxuZXhwb3J0IHsgX3N0YXJ0Q2hpbGQsIGlzTWVhc3VyZW1lbnRWYWx1ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/metrics/utils.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/request.js":
/*!***********************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/request.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_TRACE_PROPAGATION_TARGETS: () => (/* binding */ DEFAULT_TRACE_PROPAGATION_TARGETS),\n/* harmony export */   defaultRequestInstrumentationOptions: () => (/* binding */ defaultRequestInstrumentationOptions),\n/* harmony export */   extractNetworkProtocol: () => (/* binding */ extractNetworkProtocol),\n/* harmony export */   instrumentOutgoingRequests: () => (/* binding */ instrumentOutgoingRequests),\n/* harmony export */   shouldAttachHeaders: () => (/* binding */ shouldAttachHeaders),\n/* harmony export */   xhrCallback: () => (/* binding */ xhrCallback)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/spanUtils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/hasTracingEnabled.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/spanstatus.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/exports.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/hub.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/trace.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/semanticAttributes.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/dynamicSamplingContext.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/instrument/fetch.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/url.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/instrument/xhr.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/time.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/string.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/tracing.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/baggage.js\");\n/* harmony import */ var _common_fetch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/fetch.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/fetch.js\");\n/* harmony import */ var _instrument_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./instrument.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/instrument.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n\n\n\n\n/* eslint-disable max-lines */\n\nconst DEFAULT_TRACE_PROPAGATION_TARGETS = ['localhost', /^\\/(?!\\/)/];\n\n/** Options for Request Instrumentation */\n\nconst defaultRequestInstrumentationOptions = {\n  traceFetch: true,\n  traceXHR: true,\n  enableHTTPTimings: true,\n  // TODO (v8): Remove this property\n  tracingOrigins: DEFAULT_TRACE_PROPAGATION_TARGETS,\n  tracePropagationTargets: DEFAULT_TRACE_PROPAGATION_TARGETS,\n};\n\n/** Registers span creators for xhr and fetch requests  */\nfunction instrumentOutgoingRequests(_options) {\n  const {\n    traceFetch,\n    traceXHR,\n    // eslint-disable-next-line deprecation/deprecation\n    tracePropagationTargets,\n    // eslint-disable-next-line deprecation/deprecation\n    tracingOrigins,\n    shouldCreateSpanForRequest,\n    enableHTTPTimings,\n  } = {\n    traceFetch: defaultRequestInstrumentationOptions.traceFetch,\n    traceXHR: defaultRequestInstrumentationOptions.traceXHR,\n    ..._options,\n  };\n\n  const shouldCreateSpan =\n    typeof shouldCreateSpanForRequest === 'function' ? shouldCreateSpanForRequest : (_) => true;\n\n  // TODO(v8) Remove tracingOrigins here\n  // The only reason we're passing it in here is because this instrumentOutgoingRequests function is publicly exported\n  // and we don't want to break the API. We can remove it in v8.\n  const shouldAttachHeadersWithTargets = (url) =>\n    shouldAttachHeaders(url, tracePropagationTargets || tracingOrigins);\n\n  const spans = {};\n\n  if (traceFetch) {\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.addFetchInstrumentationHandler)(handlerData => {\n      const createdSpan = (0,_common_fetch_js__WEBPACK_IMPORTED_MODULE_1__.instrumentFetchRequest)(handlerData, shouldCreateSpan, shouldAttachHeadersWithTargets, spans);\n      // We cannot use `window.location` in the generic fetch instrumentation,\n      // but we need it for reliable `server.address` attribute.\n      // so we extend this in here\n      if (createdSpan) {\n        const fullUrl = getFullURL(handlerData.fetchData.url);\n        const host = fullUrl ? (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(fullUrl).host : undefined;\n        createdSpan.setAttributes({\n          'http.url': fullUrl,\n          'server.address': host,\n        });\n      }\n\n      if (enableHTTPTimings && createdSpan) {\n        addHTTPTimings(createdSpan);\n      }\n    });\n  }\n\n  if (traceXHR) {\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.addXhrInstrumentationHandler)(handlerData => {\n      const createdSpan = xhrCallback(handlerData, shouldCreateSpan, shouldAttachHeadersWithTargets, spans);\n      if (enableHTTPTimings && createdSpan) {\n        addHTTPTimings(createdSpan);\n      }\n    });\n  }\n}\n\nfunction isPerformanceResourceTiming(entry) {\n  return (\n    entry.entryType === 'resource' &&\n    'initiatorType' in entry &&\n    typeof (entry ).nextHopProtocol === 'string' &&\n    (entry.initiatorType === 'fetch' || entry.initiatorType === 'xmlhttprequest')\n  );\n}\n\n/**\n * Creates a temporary observer to listen to the next fetch/xhr resourcing timings,\n * so that when timings hit their per-browser limit they don't need to be removed.\n *\n * @param span A span that has yet to be finished, must contain `url` on data.\n */\nfunction addHTTPTimings(span) {\n  const { url } = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_4__.spanToJSON)(span).data || {};\n\n  if (!url || typeof url !== 'string') {\n    return;\n  }\n\n  const cleanup = (0,_instrument_js__WEBPACK_IMPORTED_MODULE_5__.addPerformanceInstrumentationHandler)('resource', ({ entries }) => {\n    entries.forEach(entry => {\n      if (isPerformanceResourceTiming(entry) && entry.name.endsWith(url)) {\n        const spanData = resourceTimingEntryToSpanData(entry);\n        spanData.forEach(data => span.setAttribute(...data));\n        // In the next tick, clean this handler up\n        // We have to wait here because otherwise this cleans itself up before it is fully done\n        setTimeout(cleanup);\n      }\n    });\n  });\n}\n\n/**\n * Converts ALPN protocol ids to name and version.\n *\n * (https://www.iana.org/assignments/tls-extensiontype-values/tls-extensiontype-values.xhtml#alpn-protocol-ids)\n * @param nextHopProtocol PerformanceResourceTiming.nextHopProtocol\n */\nfunction extractNetworkProtocol(nextHopProtocol) {\n  let name = 'unknown';\n  let version = 'unknown';\n  let _name = '';\n  for (const char of nextHopProtocol) {\n    // http/1.1 etc.\n    if (char === '/') {\n      [name, version] = nextHopProtocol.split('/');\n      break;\n    }\n    // h2, h3 etc.\n    if (!isNaN(Number(char))) {\n      name = _name === 'h' ? 'http' : _name;\n      version = nextHopProtocol.split(_name)[1];\n      break;\n    }\n    _name += char;\n  }\n  if (_name === nextHopProtocol) {\n    // webrtc, ftp, etc.\n    name = _name;\n  }\n  return { name, version };\n}\n\nfunction getAbsoluteTime(time = 0) {\n  return ((_sentry_utils__WEBPACK_IMPORTED_MODULE_6__.browserPerformanceTimeOrigin || performance.timeOrigin) + time) / 1000;\n}\n\nfunction resourceTimingEntryToSpanData(resourceTiming) {\n  const { name, version } = extractNetworkProtocol(resourceTiming.nextHopProtocol);\n\n  const timingSpanData = [];\n\n  timingSpanData.push(['network.protocol.version', version], ['network.protocol.name', name]);\n\n  if (!_sentry_utils__WEBPACK_IMPORTED_MODULE_6__.browserPerformanceTimeOrigin) {\n    return timingSpanData;\n  }\n  return [\n    ...timingSpanData,\n    ['http.request.redirect_start', getAbsoluteTime(resourceTiming.redirectStart)],\n    ['http.request.fetch_start', getAbsoluteTime(resourceTiming.fetchStart)],\n    ['http.request.domain_lookup_start', getAbsoluteTime(resourceTiming.domainLookupStart)],\n    ['http.request.domain_lookup_end', getAbsoluteTime(resourceTiming.domainLookupEnd)],\n    ['http.request.connect_start', getAbsoluteTime(resourceTiming.connectStart)],\n    ['http.request.secure_connection_start', getAbsoluteTime(resourceTiming.secureConnectionStart)],\n    ['http.request.connection_end', getAbsoluteTime(resourceTiming.connectEnd)],\n    ['http.request.request_start', getAbsoluteTime(resourceTiming.requestStart)],\n    ['http.request.response_start', getAbsoluteTime(resourceTiming.responseStart)],\n    ['http.request.response_end', getAbsoluteTime(resourceTiming.responseEnd)],\n  ];\n}\n\n/**\n * A function that determines whether to attach tracing headers to a request.\n * This was extracted from `instrumentOutgoingRequests` to make it easier to test shouldAttachHeaders.\n * We only export this fuction for testing purposes.\n */\nfunction shouldAttachHeaders(url, tracePropagationTargets) {\n  return (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_7__.stringMatchesSomePattern)(url, tracePropagationTargets || DEFAULT_TRACE_PROPAGATION_TARGETS);\n}\n\n/**\n * Create and track xhr request spans\n *\n * @returns Span if a span was created, otherwise void.\n */\n// eslint-disable-next-line complexity\nfunction xhrCallback(\n  handlerData,\n  shouldCreateSpan,\n  shouldAttachHeaders,\n  spans,\n) {\n  const xhr = handlerData.xhr;\n  const sentryXhrData = xhr && xhr[_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.SENTRY_XHR_DATA_KEY];\n\n  if (!(0,_sentry_core__WEBPACK_IMPORTED_MODULE_8__.hasTracingEnabled)() || !xhr || xhr.__sentry_own_request__ || !sentryXhrData) {\n    return undefined;\n  }\n\n  const shouldCreateSpanResult = shouldCreateSpan(sentryXhrData.url);\n\n  // check first if the request has finished and is tracked by an existing span which should now end\n  if (handlerData.endTimestamp && shouldCreateSpanResult) {\n    const spanId = xhr.__sentry_xhr_span_id__;\n    if (!spanId) return;\n\n    const span = spans[spanId];\n    if (span && sentryXhrData.status_code !== undefined) {\n      (0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.setHttpStatus)(span, sentryXhrData.status_code);\n      span.end();\n\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete spans[spanId];\n    }\n    return undefined;\n  }\n\n  const scope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_10__.getCurrentScope)();\n  const isolationScope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_11__.getIsolationScope)();\n\n  const fullUrl = getFullURL(sentryXhrData.url);\n  const host = fullUrl ? (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(fullUrl).host : undefined;\n\n  const span = shouldCreateSpanResult\n    ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_12__.startInactiveSpan)({\n        name: `${sentryXhrData.method} ${sentryXhrData.url}`,\n        onlyIfParent: true,\n        attributes: {\n          type: 'xhr',\n          'http.method': sentryXhrData.method,\n          'http.url': fullUrl,\n          url: sentryXhrData.url,\n          'server.address': host,\n          [_sentry_core__WEBPACK_IMPORTED_MODULE_13__.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.http.browser',\n        },\n        op: 'http.client',\n      })\n    : undefined;\n\n  if (span) {\n    xhr.__sentry_xhr_span_id__ = span.spanContext().spanId;\n    spans[xhr.__sentry_xhr_span_id__] = span;\n  }\n\n  const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_10__.getClient)();\n\n  if (xhr.setRequestHeader && shouldAttachHeaders(sentryXhrData.url) && client) {\n    const { traceId, spanId, sampled, dsc } = {\n      ...isolationScope.getPropagationContext(),\n      ...scope.getPropagationContext(),\n    };\n\n    const sentryTraceHeader = span ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_4__.spanToTraceHeader)(span) : (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_14__.generateSentryTraceHeader)(traceId, spanId, sampled);\n\n    const sentryBaggageHeader = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_15__.dynamicSamplingContextToSentryBaggageHeader)(\n      dsc ||\n        (span ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_16__.getDynamicSamplingContextFromSpan)(span) : (0,_sentry_core__WEBPACK_IMPORTED_MODULE_16__.getDynamicSamplingContextFromClient)(traceId, client, scope)),\n    );\n\n    setHeaderOnXhr(xhr, sentryTraceHeader, sentryBaggageHeader);\n  }\n\n  return span;\n}\n\nfunction setHeaderOnXhr(\n  xhr,\n  sentryTraceHeader,\n  sentryBaggageHeader,\n) {\n  try {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    xhr.setRequestHeader('sentry-trace', sentryTraceHeader);\n    if (sentryBaggageHeader) {\n      // From MDN: \"If this method is called several times with the same header, the values are merged into one single request header.\"\n      // We can therefore simply set a baggage header without checking what was there before\n      // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/setRequestHeader\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      xhr.setRequestHeader(_sentry_utils__WEBPACK_IMPORTED_MODULE_15__.BAGGAGE_HEADER_NAME, sentryBaggageHeader);\n    }\n  } catch (_) {\n    // Error: InvalidStateError: Failed to execute 'setRequestHeader' on 'XMLHttpRequest': The object's state must be OPENED.\n  }\n}\n\nfunction getFullURL(url) {\n  try {\n    // By adding a base URL to new URL(), this will also work for relative urls\n    // If `url` is a full URL, the base URL is ignored anyhow\n    const parsed = new URL(url, _types_js__WEBPACK_IMPORTED_MODULE_17__.WINDOW.location.origin);\n    return parsed.href;\n  } catch (e) {\n    return undefined;\n  }\n}\n\n\n//# sourceMappingURL=request.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9yZXF1ZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyUTtBQUNNO0FBQ3JOO0FBQ1c7QUFDbkM7O0FBRXBDOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJLDZFQUE4QjtBQUNsQywwQkFBMEIsd0VBQXNCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdURBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLElBQUksMkVBQTRCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsTUFBTSxFQUFFLHdEQUFVOztBQUU1QjtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLG9GQUFvQyxnQkFBZ0IsU0FBUztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBLFdBQVcsdUVBQTRCO0FBQ3ZDOztBQUVBO0FBQ0EsVUFBVSxnQkFBZ0I7O0FBRTFCOztBQUVBOztBQUVBLE9BQU8sdUVBQTRCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdUVBQXdCO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDhEQUFtQjs7QUFFdEQsT0FBTywrREFBaUI7QUFDeEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSwyREFBYTtBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQiw4REFBZTtBQUMvQix5QkFBeUIsZ0VBQWlCOztBQUUxQztBQUNBLHlCQUF5Qix1REFBUTs7QUFFakM7QUFDQSxNQUFNLGdFQUFpQjtBQUN2QixpQkFBaUIsc0JBQXNCLEVBQUUsa0JBQWtCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyRUFBZ0M7QUFDM0MsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQix3REFBUzs7QUFFMUI7QUFDQSxZQUFZLGdDQUFnQztBQUM1QztBQUNBO0FBQ0E7O0FBRUEscUNBQXFDLCtEQUFpQixTQUFTLHlFQUF5Qjs7QUFFeEYsZ0NBQWdDLDJGQUEyQztBQUMzRTtBQUNBLGdCQUFnQixnRkFBaUMsU0FBUyxrRkFBbUM7QUFDN0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtEQUFtQjtBQUM5QztBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOENBQU07QUFDdEM7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUV5SztBQUN6SyIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZGdpdHkteWllbGQtZnJvbnRlbmQvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9yZXF1ZXN0LmpzP2E0MTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3BhblRvSlNPTiwgaGFzVHJhY2luZ0VuYWJsZWQsIHNldEh0dHBTdGF0dXMsIGdldEN1cnJlbnRTY29wZSwgZ2V0SXNvbGF0aW9uU2NvcGUsIHN0YXJ0SW5hY3RpdmVTcGFuLCBTRU1BTlRJQ19BVFRSSUJVVEVfU0VOVFJZX09SSUdJTiwgZ2V0Q2xpZW50LCBzcGFuVG9UcmFjZUhlYWRlciwgZ2V0RHluYW1pY1NhbXBsaW5nQ29udGV4dEZyb21TcGFuLCBnZXREeW5hbWljU2FtcGxpbmdDb250ZXh0RnJvbUNsaWVudCB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBhZGRGZXRjaEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIHBhcnNlVXJsLCBhZGRYaHJJbnN0cnVtZW50YXRpb25IYW5kbGVyLCBTRU5UUllfWEhSX0RBVEFfS0VZLCBnZW5lcmF0ZVNlbnRyeVRyYWNlSGVhZGVyLCBkeW5hbWljU2FtcGxpbmdDb250ZXh0VG9TZW50cnlCYWdnYWdlSGVhZGVyLCBCQUdHQUdFX0hFQURFUl9OQU1FLCBicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luLCBzdHJpbmdNYXRjaGVzU29tZVBhdHRlcm4gfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGluc3RydW1lbnRGZXRjaFJlcXVlc3QgfSBmcm9tICcuLi9jb21tb24vZmV0Y2guanMnO1xuaW1wb3J0IHsgYWRkUGVyZm9ybWFuY2VJbnN0cnVtZW50YXRpb25IYW5kbGVyIH0gZnJvbSAnLi9pbnN0cnVtZW50LmpzJztcbmltcG9ydCB7IFdJTkRPVyB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGluZXMgKi9cblxuY29uc3QgREVGQVVMVF9UUkFDRV9QUk9QQUdBVElPTl9UQVJHRVRTID0gWydsb2NhbGhvc3QnLCAvXlxcLyg/IVxcLykvXTtcblxuLyoqIE9wdGlvbnMgZm9yIFJlcXVlc3QgSW5zdHJ1bWVudGF0aW9uICovXG5cbmNvbnN0IGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucyA9IHtcbiAgdHJhY2VGZXRjaDogdHJ1ZSxcbiAgdHJhY2VYSFI6IHRydWUsXG4gIGVuYWJsZUhUVFBUaW1pbmdzOiB0cnVlLFxuICAvLyBUT0RPICh2OCk6IFJlbW92ZSB0aGlzIHByb3BlcnR5XG4gIHRyYWNpbmdPcmlnaW5zOiBERUZBVUxUX1RSQUNFX1BST1BBR0FUSU9OX1RBUkdFVFMsXG4gIHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzOiBERUZBVUxUX1RSQUNFX1BST1BBR0FUSU9OX1RBUkdFVFMsXG59O1xuXG4vKiogUmVnaXN0ZXJzIHNwYW4gY3JlYXRvcnMgZm9yIHhociBhbmQgZmV0Y2ggcmVxdWVzdHMgICovXG5mdW5jdGlvbiBpbnN0cnVtZW50T3V0Z29pbmdSZXF1ZXN0cyhfb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgdHJhY2VGZXRjaCxcbiAgICB0cmFjZVhIUixcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICB0cmFjaW5nT3JpZ2lucyxcbiAgICBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCxcbiAgICBlbmFibGVIVFRQVGltaW5ncyxcbiAgfSA9IHtcbiAgICB0cmFjZUZldGNoOiBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMudHJhY2VGZXRjaCxcbiAgICB0cmFjZVhIUjogZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLnRyYWNlWEhSLFxuICAgIC4uLl9vcHRpb25zLFxuICB9O1xuXG4gIGNvbnN0IHNob3VsZENyZWF0ZVNwYW4gPVxuICAgIHR5cGVvZiBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyA/IHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0IDogKF8pID0+IHRydWU7XG5cbiAgLy8gVE9ETyh2OCkgUmVtb3ZlIHRyYWNpbmdPcmlnaW5zIGhlcmVcbiAgLy8gVGhlIG9ubHkgcmVhc29uIHdlJ3JlIHBhc3NpbmcgaXQgaW4gaGVyZSBpcyBiZWNhdXNlIHRoaXMgaW5zdHJ1bWVudE91dGdvaW5nUmVxdWVzdHMgZnVuY3Rpb24gaXMgcHVibGljbHkgZXhwb3J0ZWRcbiAgLy8gYW5kIHdlIGRvbid0IHdhbnQgdG8gYnJlYWsgdGhlIEFQSS4gV2UgY2FuIHJlbW92ZSBpdCBpbiB2OC5cbiAgY29uc3Qgc2hvdWxkQXR0YWNoSGVhZGVyc1dpdGhUYXJnZXRzID0gKHVybCkgPT5cbiAgICBzaG91bGRBdHRhY2hIZWFkZXJzKHVybCwgdHJhY2VQcm9wYWdhdGlvblRhcmdldHMgfHwgdHJhY2luZ09yaWdpbnMpO1xuXG4gIGNvbnN0IHNwYW5zID0ge307XG5cbiAgaWYgKHRyYWNlRmV0Y2gpIHtcbiAgICBhZGRGZXRjaEluc3RydW1lbnRhdGlvbkhhbmRsZXIoaGFuZGxlckRhdGEgPT4ge1xuICAgICAgY29uc3QgY3JlYXRlZFNwYW4gPSBpbnN0cnVtZW50RmV0Y2hSZXF1ZXN0KGhhbmRsZXJEYXRhLCBzaG91bGRDcmVhdGVTcGFuLCBzaG91bGRBdHRhY2hIZWFkZXJzV2l0aFRhcmdldHMsIHNwYW5zKTtcbiAgICAgIC8vIFdlIGNhbm5vdCB1c2UgYHdpbmRvdy5sb2NhdGlvbmAgaW4gdGhlIGdlbmVyaWMgZmV0Y2ggaW5zdHJ1bWVudGF0aW9uLFxuICAgICAgLy8gYnV0IHdlIG5lZWQgaXQgZm9yIHJlbGlhYmxlIGBzZXJ2ZXIuYWRkcmVzc2AgYXR0cmlidXRlLlxuICAgICAgLy8gc28gd2UgZXh0ZW5kIHRoaXMgaW4gaGVyZVxuICAgICAgaWYgKGNyZWF0ZWRTcGFuKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBnZXRGdWxsVVJMKGhhbmRsZXJEYXRhLmZldGNoRGF0YS51cmwpO1xuICAgICAgICBjb25zdCBob3N0ID0gZnVsbFVybCA/IHBhcnNlVXJsKGZ1bGxVcmwpLmhvc3QgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNyZWF0ZWRTcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICdodHRwLnVybCc6IGZ1bGxVcmwsXG4gICAgICAgICAgJ3NlcnZlci5hZGRyZXNzJzogaG9zdCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVIVFRQVGltaW5ncyAmJiBjcmVhdGVkU3Bhbikge1xuICAgICAgICBhZGRIVFRQVGltaW5ncyhjcmVhdGVkU3Bhbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAodHJhY2VYSFIpIHtcbiAgICBhZGRYaHJJbnN0cnVtZW50YXRpb25IYW5kbGVyKGhhbmRsZXJEYXRhID0+IHtcbiAgICAgIGNvbnN0IGNyZWF0ZWRTcGFuID0geGhyQ2FsbGJhY2soaGFuZGxlckRhdGEsIHNob3VsZENyZWF0ZVNwYW4sIHNob3VsZEF0dGFjaEhlYWRlcnNXaXRoVGFyZ2V0cywgc3BhbnMpO1xuICAgICAgaWYgKGVuYWJsZUhUVFBUaW1pbmdzICYmIGNyZWF0ZWRTcGFuKSB7XG4gICAgICAgIGFkZEhUVFBUaW1pbmdzKGNyZWF0ZWRTcGFuKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1BlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcoZW50cnkpIHtcbiAgcmV0dXJuIChcbiAgICBlbnRyeS5lbnRyeVR5cGUgPT09ICdyZXNvdXJjZScgJiZcbiAgICAnaW5pdGlhdG9yVHlwZScgaW4gZW50cnkgJiZcbiAgICB0eXBlb2YgKGVudHJ5ICkubmV4dEhvcFByb3RvY29sID09PSAnc3RyaW5nJyAmJlxuICAgIChlbnRyeS5pbml0aWF0b3JUeXBlID09PSAnZmV0Y2gnIHx8IGVudHJ5LmluaXRpYXRvclR5cGUgPT09ICd4bWxodHRwcmVxdWVzdCcpXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHRlbXBvcmFyeSBvYnNlcnZlciB0byBsaXN0ZW4gdG8gdGhlIG5leHQgZmV0Y2gveGhyIHJlc291cmNpbmcgdGltaW5ncyxcbiAqIHNvIHRoYXQgd2hlbiB0aW1pbmdzIGhpdCB0aGVpciBwZXItYnJvd3NlciBsaW1pdCB0aGV5IGRvbid0IG5lZWQgdG8gYmUgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0gc3BhbiBBIHNwYW4gdGhhdCBoYXMgeWV0IHRvIGJlIGZpbmlzaGVkLCBtdXN0IGNvbnRhaW4gYHVybGAgb24gZGF0YS5cbiAqL1xuZnVuY3Rpb24gYWRkSFRUUFRpbWluZ3Moc3Bhbikge1xuICBjb25zdCB7IHVybCB9ID0gc3BhblRvSlNPTihzcGFuKS5kYXRhIHx8IHt9O1xuXG4gIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY2xlYW51cCA9IGFkZFBlcmZvcm1hbmNlSW5zdHJ1bWVudGF0aW9uSGFuZGxlcigncmVzb3VyY2UnLCAoeyBlbnRyaWVzIH0pID0+IHtcbiAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKGlzUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZyhlbnRyeSkgJiYgZW50cnkubmFtZS5lbmRzV2l0aCh1cmwpKSB7XG4gICAgICAgIGNvbnN0IHNwYW5EYXRhID0gcmVzb3VyY2VUaW1pbmdFbnRyeVRvU3BhbkRhdGEoZW50cnkpO1xuICAgICAgICBzcGFuRGF0YS5mb3JFYWNoKGRhdGEgPT4gc3Bhbi5zZXRBdHRyaWJ1dGUoLi4uZGF0YSkpO1xuICAgICAgICAvLyBJbiB0aGUgbmV4dCB0aWNrLCBjbGVhbiB0aGlzIGhhbmRsZXIgdXBcbiAgICAgICAgLy8gV2UgaGF2ZSB0byB3YWl0IGhlcmUgYmVjYXVzZSBvdGhlcndpc2UgdGhpcyBjbGVhbnMgaXRzZWxmIHVwIGJlZm9yZSBpdCBpcyBmdWxseSBkb25lXG4gICAgICAgIHNldFRpbWVvdXQoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIEFMUE4gcHJvdG9jb2wgaWRzIHRvIG5hbWUgYW5kIHZlcnNpb24uXG4gKlxuICogKGh0dHBzOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3Rscy1leHRlbnNpb250eXBlLXZhbHVlcy90bHMtZXh0ZW5zaW9udHlwZS12YWx1ZXMueGh0bWwjYWxwbi1wcm90b2NvbC1pZHMpXG4gKiBAcGFyYW0gbmV4dEhvcFByb3RvY29sIFBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcubmV4dEhvcFByb3RvY29sXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3ROZXR3b3JrUHJvdG9jb2wobmV4dEhvcFByb3RvY29sKSB7XG4gIGxldCBuYW1lID0gJ3Vua25vd24nO1xuICBsZXQgdmVyc2lvbiA9ICd1bmtub3duJztcbiAgbGV0IF9uYW1lID0gJyc7XG4gIGZvciAoY29uc3QgY2hhciBvZiBuZXh0SG9wUHJvdG9jb2wpIHtcbiAgICAvLyBodHRwLzEuMSBldGMuXG4gICAgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgW25hbWUsIHZlcnNpb25dID0gbmV4dEhvcFByb3RvY29sLnNwbGl0KCcvJyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gaDIsIGgzIGV0Yy5cbiAgICBpZiAoIWlzTmFOKE51bWJlcihjaGFyKSkpIHtcbiAgICAgIG5hbWUgPSBfbmFtZSA9PT0gJ2gnID8gJ2h0dHAnIDogX25hbWU7XG4gICAgICB2ZXJzaW9uID0gbmV4dEhvcFByb3RvY29sLnNwbGl0KF9uYW1lKVsxXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBfbmFtZSArPSBjaGFyO1xuICB9XG4gIGlmIChfbmFtZSA9PT0gbmV4dEhvcFByb3RvY29sKSB7XG4gICAgLy8gd2VicnRjLCBmdHAsIGV0Yy5cbiAgICBuYW1lID0gX25hbWU7XG4gIH1cbiAgcmV0dXJuIHsgbmFtZSwgdmVyc2lvbiB9O1xufVxuXG5mdW5jdGlvbiBnZXRBYnNvbHV0ZVRpbWUodGltZSA9IDApIHtcbiAgcmV0dXJuICgoYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiB8fCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luKSArIHRpbWUpIC8gMTAwMDtcbn1cblxuZnVuY3Rpb24gcmVzb3VyY2VUaW1pbmdFbnRyeVRvU3BhbkRhdGEocmVzb3VyY2VUaW1pbmcpIHtcbiAgY29uc3QgeyBuYW1lLCB2ZXJzaW9uIH0gPSBleHRyYWN0TmV0d29ya1Byb3RvY29sKHJlc291cmNlVGltaW5nLm5leHRIb3BQcm90b2NvbCk7XG5cbiAgY29uc3QgdGltaW5nU3BhbkRhdGEgPSBbXTtcblxuICB0aW1pbmdTcGFuRGF0YS5wdXNoKFsnbmV0d29yay5wcm90b2NvbC52ZXJzaW9uJywgdmVyc2lvbl0sIFsnbmV0d29yay5wcm90b2NvbC5uYW1lJywgbmFtZV0pO1xuXG4gIGlmICghYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbikge1xuICAgIHJldHVybiB0aW1pbmdTcGFuRGF0YTtcbiAgfVxuICByZXR1cm4gW1xuICAgIC4uLnRpbWluZ1NwYW5EYXRhLFxuICAgIFsnaHR0cC5yZXF1ZXN0LnJlZGlyZWN0X3N0YXJ0JywgZ2V0QWJzb2x1dGVUaW1lKHJlc291cmNlVGltaW5nLnJlZGlyZWN0U3RhcnQpXSxcbiAgICBbJ2h0dHAucmVxdWVzdC5mZXRjaF9zdGFydCcsIGdldEFic29sdXRlVGltZShyZXNvdXJjZVRpbWluZy5mZXRjaFN0YXJ0KV0sXG4gICAgWydodHRwLnJlcXVlc3QuZG9tYWluX2xvb2t1cF9zdGFydCcsIGdldEFic29sdXRlVGltZShyZXNvdXJjZVRpbWluZy5kb21haW5Mb29rdXBTdGFydCldLFxuICAgIFsnaHR0cC5yZXF1ZXN0LmRvbWFpbl9sb29rdXBfZW5kJywgZ2V0QWJzb2x1dGVUaW1lKHJlc291cmNlVGltaW5nLmRvbWFpbkxvb2t1cEVuZCldLFxuICAgIFsnaHR0cC5yZXF1ZXN0LmNvbm5lY3Rfc3RhcnQnLCBnZXRBYnNvbHV0ZVRpbWUocmVzb3VyY2VUaW1pbmcuY29ubmVjdFN0YXJ0KV0sXG4gICAgWydodHRwLnJlcXVlc3Quc2VjdXJlX2Nvbm5lY3Rpb25fc3RhcnQnLCBnZXRBYnNvbHV0ZVRpbWUocmVzb3VyY2VUaW1pbmcuc2VjdXJlQ29ubmVjdGlvblN0YXJ0KV0sXG4gICAgWydodHRwLnJlcXVlc3QuY29ubmVjdGlvbl9lbmQnLCBnZXRBYnNvbHV0ZVRpbWUocmVzb3VyY2VUaW1pbmcuY29ubmVjdEVuZCldLFxuICAgIFsnaHR0cC5yZXF1ZXN0LnJlcXVlc3Rfc3RhcnQnLCBnZXRBYnNvbHV0ZVRpbWUocmVzb3VyY2VUaW1pbmcucmVxdWVzdFN0YXJ0KV0sXG4gICAgWydodHRwLnJlcXVlc3QucmVzcG9uc2Vfc3RhcnQnLCBnZXRBYnNvbHV0ZVRpbWUocmVzb3VyY2VUaW1pbmcucmVzcG9uc2VTdGFydCldLFxuICAgIFsnaHR0cC5yZXF1ZXN0LnJlc3BvbnNlX2VuZCcsIGdldEFic29sdXRlVGltZShyZXNvdXJjZVRpbWluZy5yZXNwb25zZUVuZCldLFxuICBdO1xufVxuXG4vKipcbiAqIEEgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgdG8gYXR0YWNoIHRyYWNpbmcgaGVhZGVycyB0byBhIHJlcXVlc3QuXG4gKiBUaGlzIHdhcyBleHRyYWN0ZWQgZnJvbSBgaW5zdHJ1bWVudE91dGdvaW5nUmVxdWVzdHNgIHRvIG1ha2UgaXQgZWFzaWVyIHRvIHRlc3Qgc2hvdWxkQXR0YWNoSGVhZGVycy5cbiAqIFdlIG9ubHkgZXhwb3J0IHRoaXMgZnVjdGlvbiBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqL1xuZnVuY3Rpb24gc2hvdWxkQXR0YWNoSGVhZGVycyh1cmwsIHRyYWNlUHJvcGFnYXRpb25UYXJnZXRzKSB7XG4gIHJldHVybiBzdHJpbmdNYXRjaGVzU29tZVBhdHRlcm4odXJsLCB0cmFjZVByb3BhZ2F0aW9uVGFyZ2V0cyB8fCBERUZBVUxUX1RSQUNFX1BST1BBR0FUSU9OX1RBUkdFVFMpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgdHJhY2sgeGhyIHJlcXVlc3Qgc3BhbnNcbiAqXG4gKiBAcmV0dXJucyBTcGFuIGlmIGEgc3BhbiB3YXMgY3JlYXRlZCwgb3RoZXJ3aXNlIHZvaWQuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiB4aHJDYWxsYmFjayhcbiAgaGFuZGxlckRhdGEsXG4gIHNob3VsZENyZWF0ZVNwYW4sXG4gIHNob3VsZEF0dGFjaEhlYWRlcnMsXG4gIHNwYW5zLFxuKSB7XG4gIGNvbnN0IHhociA9IGhhbmRsZXJEYXRhLnhocjtcbiAgY29uc3Qgc2VudHJ5WGhyRGF0YSA9IHhociAmJiB4aHJbU0VOVFJZX1hIUl9EQVRBX0tFWV07XG5cbiAgaWYgKCFoYXNUcmFjaW5nRW5hYmxlZCgpIHx8ICF4aHIgfHwgeGhyLl9fc2VudHJ5X293bl9yZXF1ZXN0X18gfHwgIXNlbnRyeVhockRhdGEpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3Qgc2hvdWxkQ3JlYXRlU3BhblJlc3VsdCA9IHNob3VsZENyZWF0ZVNwYW4oc2VudHJ5WGhyRGF0YS51cmwpO1xuXG4gIC8vIGNoZWNrIGZpcnN0IGlmIHRoZSByZXF1ZXN0IGhhcyBmaW5pc2hlZCBhbmQgaXMgdHJhY2tlZCBieSBhbiBleGlzdGluZyBzcGFuIHdoaWNoIHNob3VsZCBub3cgZW5kXG4gIGlmIChoYW5kbGVyRGF0YS5lbmRUaW1lc3RhbXAgJiYgc2hvdWxkQ3JlYXRlU3BhblJlc3VsdCkge1xuICAgIGNvbnN0IHNwYW5JZCA9IHhoci5fX3NlbnRyeV94aHJfc3Bhbl9pZF9fO1xuICAgIGlmICghc3BhbklkKSByZXR1cm47XG5cbiAgICBjb25zdCBzcGFuID0gc3BhbnNbc3BhbklkXTtcbiAgICBpZiAoc3BhbiAmJiBzZW50cnlYaHJEYXRhLnN0YXR1c19jb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldEh0dHBTdGF0dXMoc3Bhbiwgc2VudHJ5WGhyRGF0YS5zdGF0dXNfY29kZSk7XG4gICAgICBzcGFuLmVuZCgpO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgICBkZWxldGUgc3BhbnNbc3BhbklkXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHNjb3BlID0gZ2V0Q3VycmVudFNjb3BlKCk7XG4gIGNvbnN0IGlzb2xhdGlvblNjb3BlID0gZ2V0SXNvbGF0aW9uU2NvcGUoKTtcblxuICBjb25zdCBmdWxsVXJsID0gZ2V0RnVsbFVSTChzZW50cnlYaHJEYXRhLnVybCk7XG4gIGNvbnN0IGhvc3QgPSBmdWxsVXJsID8gcGFyc2VVcmwoZnVsbFVybCkuaG9zdCA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBzcGFuID0gc2hvdWxkQ3JlYXRlU3BhblJlc3VsdFxuICAgID8gc3RhcnRJbmFjdGl2ZVNwYW4oe1xuICAgICAgICBuYW1lOiBgJHtzZW50cnlYaHJEYXRhLm1ldGhvZH0gJHtzZW50cnlYaHJEYXRhLnVybH1gLFxuICAgICAgICBvbmx5SWZQYXJlbnQ6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICB0eXBlOiAneGhyJyxcbiAgICAgICAgICAnaHR0cC5tZXRob2QnOiBzZW50cnlYaHJEYXRhLm1ldGhvZCxcbiAgICAgICAgICAnaHR0cC51cmwnOiBmdWxsVXJsLFxuICAgICAgICAgIHVybDogc2VudHJ5WGhyRGF0YS51cmwsXG4gICAgICAgICAgJ3NlcnZlci5hZGRyZXNzJzogaG9zdCxcbiAgICAgICAgICBbU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9PUklHSU5dOiAnYXV0by5odHRwLmJyb3dzZXInLFxuICAgICAgICB9LFxuICAgICAgICBvcDogJ2h0dHAuY2xpZW50JyxcbiAgICAgIH0pXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgaWYgKHNwYW4pIHtcbiAgICB4aHIuX19zZW50cnlfeGhyX3NwYW5faWRfXyA9IHNwYW4uc3BhbkNvbnRleHQoKS5zcGFuSWQ7XG4gICAgc3BhbnNbeGhyLl9fc2VudHJ5X3hocl9zcGFuX2lkX19dID0gc3BhbjtcbiAgfVxuXG4gIGNvbnN0IGNsaWVudCA9IGdldENsaWVudCgpO1xuXG4gIGlmICh4aHIuc2V0UmVxdWVzdEhlYWRlciAmJiBzaG91bGRBdHRhY2hIZWFkZXJzKHNlbnRyeVhockRhdGEudXJsKSAmJiBjbGllbnQpIHtcbiAgICBjb25zdCB7IHRyYWNlSWQsIHNwYW5JZCwgc2FtcGxlZCwgZHNjIH0gPSB7XG4gICAgICAuLi5pc29sYXRpb25TY29wZS5nZXRQcm9wYWdhdGlvbkNvbnRleHQoKSxcbiAgICAgIC4uLnNjb3BlLmdldFByb3BhZ2F0aW9uQ29udGV4dCgpLFxuICAgIH07XG5cbiAgICBjb25zdCBzZW50cnlUcmFjZUhlYWRlciA9IHNwYW4gPyBzcGFuVG9UcmFjZUhlYWRlcihzcGFuKSA6IGdlbmVyYXRlU2VudHJ5VHJhY2VIZWFkZXIodHJhY2VJZCwgc3BhbklkLCBzYW1wbGVkKTtcblxuICAgIGNvbnN0IHNlbnRyeUJhZ2dhZ2VIZWFkZXIgPSBkeW5hbWljU2FtcGxpbmdDb250ZXh0VG9TZW50cnlCYWdnYWdlSGVhZGVyKFxuICAgICAgZHNjIHx8XG4gICAgICAgIChzcGFuID8gZ2V0RHluYW1pY1NhbXBsaW5nQ29udGV4dEZyb21TcGFuKHNwYW4pIDogZ2V0RHluYW1pY1NhbXBsaW5nQ29udGV4dEZyb21DbGllbnQodHJhY2VJZCwgY2xpZW50LCBzY29wZSkpLFxuICAgICk7XG5cbiAgICBzZXRIZWFkZXJPblhocih4aHIsIHNlbnRyeVRyYWNlSGVhZGVyLCBzZW50cnlCYWdnYWdlSGVhZGVyKTtcbiAgfVxuXG4gIHJldHVybiBzcGFuO1xufVxuXG5mdW5jdGlvbiBzZXRIZWFkZXJPblhocihcbiAgeGhyLFxuICBzZW50cnlUcmFjZUhlYWRlcixcbiAgc2VudHJ5QmFnZ2FnZUhlYWRlcixcbikge1xuICB0cnkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ3NlbnRyeS10cmFjZScsIHNlbnRyeVRyYWNlSGVhZGVyKTtcbiAgICBpZiAoc2VudHJ5QmFnZ2FnZUhlYWRlcikge1xuICAgICAgLy8gRnJvbSBNRE46IFwiSWYgdGhpcyBtZXRob2QgaXMgY2FsbGVkIHNldmVyYWwgdGltZXMgd2l0aCB0aGUgc2FtZSBoZWFkZXIsIHRoZSB2YWx1ZXMgYXJlIG1lcmdlZCBpbnRvIG9uZSBzaW5nbGUgcmVxdWVzdCBoZWFkZXIuXCJcbiAgICAgIC8vIFdlIGNhbiB0aGVyZWZvcmUgc2ltcGx5IHNldCBhIGJhZ2dhZ2UgaGVhZGVyIHdpdGhvdXQgY2hlY2tpbmcgd2hhdCB3YXMgdGhlcmUgYmVmb3JlXG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3Qvc2V0UmVxdWVzdEhlYWRlclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKEJBR0dBR0VfSEVBREVSX05BTUUsIHNlbnRyeUJhZ2dhZ2VIZWFkZXIpO1xuICAgIH1cbiAgfSBjYXRjaCAoXykge1xuICAgIC8vIEVycm9yOiBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIGV4ZWN1dGUgJ3NldFJlcXVlc3RIZWFkZXInIG9uICdYTUxIdHRwUmVxdWVzdCc6IFRoZSBvYmplY3QncyBzdGF0ZSBtdXN0IGJlIE9QRU5FRC5cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRGdWxsVVJMKHVybCkge1xuICB0cnkge1xuICAgIC8vIEJ5IGFkZGluZyBhIGJhc2UgVVJMIHRvIG5ldyBVUkwoKSwgdGhpcyB3aWxsIGFsc28gd29yayBmb3IgcmVsYXRpdmUgdXJsc1xuICAgIC8vIElmIGB1cmxgIGlzIGEgZnVsbCBVUkwsIHRoZSBiYXNlIFVSTCBpcyBpZ25vcmVkIGFueWhvd1xuICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBVUkwodXJsLCBXSU5ET1cubG9jYXRpb24ub3JpZ2luKTtcbiAgICByZXR1cm4gcGFyc2VkLmhyZWY7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCB7IERFRkFVTFRfVFJBQ0VfUFJPUEFHQVRJT05fVEFSR0VUUywgZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLCBleHRyYWN0TmV0d29ya1Byb3RvY29sLCBpbnN0cnVtZW50T3V0Z29pbmdSZXF1ZXN0cywgc2hvdWxkQXR0YWNoSGVhZGVycywgeGhyQ2FsbGJhY2sgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3QuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/request.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/router.js":
/*!**********************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/router.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   instrumentRoutingWithDefaults: () => (/* binding */ instrumentRoutingWithDefaults)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/time.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/instrument/history.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/debug-build.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n\n\n/**\n * Default function implementing pageload and navigation transactions\n */\nfunction instrumentRoutingWithDefaults(\n  customStartTransaction,\n  startTransactionOnPageLoad = true,\n  startTransactionOnLocationChange = true,\n) {\n  if (!_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW || !_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location) {\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_1__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_2__.logger.warn('Could not initialize routing instrumentation due to invalid location');\n    return;\n  }\n\n  let startingUrl = _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location.href;\n\n  let activeTransaction;\n  if (startTransactionOnPageLoad) {\n    activeTransaction = customStartTransaction({\n      name: _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location.pathname,\n      // pageload should always start at timeOrigin (and needs to be in s, not ms)\n      startTimestamp: _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.browserPerformanceTimeOrigin ? _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.browserPerformanceTimeOrigin / 1000 : undefined,\n      op: 'pageload',\n      origin: 'auto.pageload.browser',\n      metadata: { source: 'url' },\n    });\n  }\n\n  if (startTransactionOnLocationChange) {\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.addHistoryInstrumentationHandler)(({ to, from }) => {\n      /**\n       * This early return is there to account for some cases where a navigation transaction starts right after\n       * long-running pageload. We make sure that if `from` is undefined and a valid `startingURL` exists, we don't\n       * create an uneccessary navigation transaction.\n       *\n       * This was hard to duplicate, but this behavior stopped as soon as this fix was applied. This issue might also\n       * only be caused in certain development environments where the usage of a hot module reloader is causing\n       * errors.\n       */\n      if (from === undefined && startingUrl && startingUrl.indexOf(to) !== -1) {\n        startingUrl = undefined;\n        return;\n      }\n\n      if (from !== to) {\n        startingUrl = undefined;\n        if (activeTransaction) {\n          _common_debug_build_js__WEBPACK_IMPORTED_MODULE_1__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_2__.logger.log(`[Tracing] Finishing current transaction with op: ${activeTransaction.op}`);\n          // If there's an open transaction on the scope, we need to finish it before creating an new one.\n          activeTransaction.end();\n        }\n        activeTransaction = customStartTransaction({\n          name: _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.location.pathname,\n          op: 'navigation',\n          origin: 'auto.navigation.browser',\n          metadata: { source: 'url' },\n        });\n      }\n    });\n  }\n}\n\n\n//# sourceMappingURL=router.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci9yb3V0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVHO0FBQ2hEO0FBQ25COztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyw2Q0FBTSxLQUFLLDZDQUFNO0FBQ3hCLElBQUksK0RBQVcsSUFBSSxpREFBTTtBQUN6QjtBQUNBOztBQUVBLG9CQUFvQiw2Q0FBTTs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsWUFBWSw2Q0FBTTtBQUNsQjtBQUNBLHNCQUFzQix1RUFBNEIsR0FBRyx1RUFBNEI7QUFDakY7QUFDQTtBQUNBLGtCQUFrQixlQUFlO0FBQ2pDLEtBQUs7QUFDTDs7QUFFQTtBQUNBLElBQUksK0VBQWdDLElBQUksVUFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLCtEQUFXLElBQUksaURBQU0seURBQXlELHFCQUFxQjtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2Q0FBTTtBQUN0QjtBQUNBO0FBQ0Esc0JBQXNCLGVBQWU7QUFDckMsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRXlDO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3JvdXRlci5qcz9jYWNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ2dlciwgYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiwgYWRkSGlzdG9yeUluc3RydW1lbnRhdGlvbkhhbmRsZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IERFQlVHX0JVSUxEIH0gZnJvbSAnLi4vY29tbW9uL2RlYnVnLWJ1aWxkLmpzJztcbmltcG9ydCB7IFdJTkRPVyB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG4vKipcbiAqIERlZmF1bHQgZnVuY3Rpb24gaW1wbGVtZW50aW5nIHBhZ2Vsb2FkIGFuZCBuYXZpZ2F0aW9uIHRyYW5zYWN0aW9uc1xuICovXG5mdW5jdGlvbiBpbnN0cnVtZW50Um91dGluZ1dpdGhEZWZhdWx0cyhcbiAgY3VzdG9tU3RhcnRUcmFuc2FjdGlvbixcbiAgc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQgPSB0cnVlLFxuICBzdGFydFRyYW5zYWN0aW9uT25Mb2NhdGlvbkNoYW5nZSA9IHRydWUsXG4pIHtcbiAgaWYgKCFXSU5ET1cgfHwgIVdJTkRPVy5sb2NhdGlvbikge1xuICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci53YXJuKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSByb3V0aW5nIGluc3RydW1lbnRhdGlvbiBkdWUgdG8gaW52YWxpZCBsb2NhdGlvbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBzdGFydGluZ1VybCA9IFdJTkRPVy5sb2NhdGlvbi5ocmVmO1xuXG4gIGxldCBhY3RpdmVUcmFuc2FjdGlvbjtcbiAgaWYgKHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkKSB7XG4gICAgYWN0aXZlVHJhbnNhY3Rpb24gPSBjdXN0b21TdGFydFRyYW5zYWN0aW9uKHtcbiAgICAgIG5hbWU6IFdJTkRPVy5sb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgIC8vIHBhZ2Vsb2FkIHNob3VsZCBhbHdheXMgc3RhcnQgYXQgdGltZU9yaWdpbiAoYW5kIG5lZWRzIHRvIGJlIGluIHMsIG5vdCBtcylcbiAgICAgIHN0YXJ0VGltZXN0YW1wOiBicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luID8gYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiAvIDEwMDAgOiB1bmRlZmluZWQsXG4gICAgICBvcDogJ3BhZ2Vsb2FkJyxcbiAgICAgIG9yaWdpbjogJ2F1dG8ucGFnZWxvYWQuYnJvd3NlcicsXG4gICAgICBtZXRhZGF0YTogeyBzb3VyY2U6ICd1cmwnIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2UpIHtcbiAgICBhZGRIaXN0b3J5SW5zdHJ1bWVudGF0aW9uSGFuZGxlcigoeyB0bywgZnJvbSB9KSA9PiB7XG4gICAgICAvKipcbiAgICAgICAqIFRoaXMgZWFybHkgcmV0dXJuIGlzIHRoZXJlIHRvIGFjY291bnQgZm9yIHNvbWUgY2FzZXMgd2hlcmUgYSBuYXZpZ2F0aW9uIHRyYW5zYWN0aW9uIHN0YXJ0cyByaWdodCBhZnRlclxuICAgICAgICogbG9uZy1ydW5uaW5nIHBhZ2Vsb2FkLiBXZSBtYWtlIHN1cmUgdGhhdCBpZiBgZnJvbWAgaXMgdW5kZWZpbmVkIGFuZCBhIHZhbGlkIGBzdGFydGluZ1VSTGAgZXhpc3RzLCB3ZSBkb24ndFxuICAgICAgICogY3JlYXRlIGFuIHVuZWNjZXNzYXJ5IG5hdmlnYXRpb24gdHJhbnNhY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogVGhpcyB3YXMgaGFyZCB0byBkdXBsaWNhdGUsIGJ1dCB0aGlzIGJlaGF2aW9yIHN0b3BwZWQgYXMgc29vbiBhcyB0aGlzIGZpeCB3YXMgYXBwbGllZC4gVGhpcyBpc3N1ZSBtaWdodCBhbHNvXG4gICAgICAgKiBvbmx5IGJlIGNhdXNlZCBpbiBjZXJ0YWluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyB3aGVyZSB0aGUgdXNhZ2Ugb2YgYSBob3QgbW9kdWxlIHJlbG9hZGVyIGlzIGNhdXNpbmdcbiAgICAgICAqIGVycm9ycy5cbiAgICAgICAqL1xuICAgICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCAmJiBzdGFydGluZ1VybCAmJiBzdGFydGluZ1VybC5pbmRleE9mKHRvKSAhPT0gLTEpIHtcbiAgICAgICAgc3RhcnRpbmdVcmwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyb20gIT09IHRvKSB7XG4gICAgICAgIHN0YXJ0aW5nVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYWN0aXZlVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIubG9nKGBbVHJhY2luZ10gRmluaXNoaW5nIGN1cnJlbnQgdHJhbnNhY3Rpb24gd2l0aCBvcDogJHthY3RpdmVUcmFuc2FjdGlvbi5vcH1gKTtcbiAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIG9wZW4gdHJhbnNhY3Rpb24gb24gdGhlIHNjb3BlLCB3ZSBuZWVkIHRvIGZpbmlzaCBpdCBiZWZvcmUgY3JlYXRpbmcgYW4gbmV3IG9uZS5cbiAgICAgICAgICBhY3RpdmVUcmFuc2FjdGlvbi5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmVUcmFuc2FjdGlvbiA9IGN1c3RvbVN0YXJ0VHJhbnNhY3Rpb24oe1xuICAgICAgICAgIG5hbWU6IFdJTkRPVy5sb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgICBvcDogJ25hdmlnYXRpb24nLFxuICAgICAgICAgIG9yaWdpbjogJ2F1dG8ubmF2aWdhdGlvbi5icm93c2VyJyxcbiAgICAgICAgICBtZXRhZGF0YTogeyBzb3VyY2U6ICd1cmwnIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IGluc3RydW1lbnRSb3V0aW5nV2l0aERlZmF1bHRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/router.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js":
/*!*********************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/types.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WINDOW: () => (/* binding */ WINDOW)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/worldwide.js\");\n\n\nconst WINDOW = _sentry_utils__WEBPACK_IMPORTED_MODULE_0__.GLOBAL_OBJ\n\n;\n\n\n//# sourceMappingURL=types.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEyQzs7QUFFM0MsZUFBZSxxREFBVTs7QUFFekI7O0FBRWtCO0FBQ2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3R5cGVzLmpzP2JkNDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR0xPQkFMX09CSiB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuXG5jb25zdCBXSU5ET1cgPSBHTE9CQUxfT0JKXG5cbjtcblxuZXhwb3J0IHsgV0lORE9XIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getCLS.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getCLS.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onCLS: () => (/* binding */ onCLS)\n/* harmony export */ });\n/* harmony import */ var _lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/bindReporter.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js\");\n/* harmony import */ var _lib_initMetric_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/initMetric.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js\");\n/* harmony import */ var _lib_observe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/observe.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\");\n/* harmony import */ var _lib_onHidden_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/onHidden.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js\");\n\n\n\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Calculates the [CLS](https://web.dev/cls/) value for the current page and\n * calls the `callback` function once the value is ready to be reported, along\n * with all `layout-shift` performance entries that were used in the metric\n * value calculation. The reported value is a `double` (corresponding to a\n * [layout shift score](https://web.dev/cls/#layout-shift-score)).\n *\n * If the `reportAllChanges` configuration option is set to `true`, the\n * `callback` function will be called as soon as the value is initially\n * determined as well as any time the value changes throughout the page\n * lifespan.\n *\n * _**Important:** CLS should be continually monitored for changes throughout\n * the entire lifespan of a pageincluding if the user returns to the page after\n * it's been hidden/backgrounded. However, since browsers often [will not fire\n * additional callbacks once the user has backgrounded a\n * page](https://developer.chrome.com/blog/page-lifecycle-api/#advice-hidden),\n * `callback` is always called when the page's visibility state changes to\n * hidden. As a result, the `callback` function might be called multiple times\n * during the same page load._\n */\nconst onCLS = (\n  onReport,\n  options = {},\n) => {\n  const metric = (0,_lib_initMetric_js__WEBPACK_IMPORTED_MODULE_0__.initMetric)('CLS', 0);\n  let report;\n\n  let sessionValue = 0;\n  let sessionEntries = [];\n\n  // const handleEntries = (entries: Metric['entries']) => {\n  const handleEntries = (entries) => {\n    entries.forEach(entry => {\n      // Only count layout shifts without recent user input.\n      if (!entry.hadRecentInput) {\n        const firstSessionEntry = sessionEntries[0];\n        const lastSessionEntry = sessionEntries[sessionEntries.length - 1];\n\n        // If the entry occurred less than 1 second after the previous entry and\n        // less than 5 seconds after the first entry in the session, include the\n        // entry in the current session. Otherwise, start a new session.\n        if (\n          sessionValue &&\n          sessionEntries.length !== 0 &&\n          entry.startTime - lastSessionEntry.startTime < 1000 &&\n          entry.startTime - firstSessionEntry.startTime < 5000\n        ) {\n          sessionValue += entry.value;\n          sessionEntries.push(entry);\n        } else {\n          sessionValue = entry.value;\n          sessionEntries = [entry];\n        }\n\n        // If the current session value is larger than the current CLS value,\n        // update CLS and the entries contributing to it.\n        if (sessionValue > metric.value) {\n          metric.value = sessionValue;\n          metric.entries = sessionEntries;\n          if (report) {\n            report();\n          }\n        }\n      }\n    });\n  };\n\n  const po = (0,_lib_observe_js__WEBPACK_IMPORTED_MODULE_1__.observe)('layout-shift', handleEntries);\n  if (po) {\n    report = (0,_lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_2__.bindReporter)(onReport, metric, options.reportAllChanges);\n\n    const stopListening = () => {\n      handleEntries(po.takeRecords() );\n      report(true);\n    };\n\n    (0,_lib_onHidden_js__WEBPACK_IMPORTED_MODULE_3__.onHidden)(stopListening);\n\n    return stopListening;\n  }\n\n  return;\n};\n\n\n//# sourceMappingURL=getCLS.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldENMUy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUNKO0FBQ047QUFDRTs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxpQkFBaUIsOERBQVU7QUFDM0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxhQUFhLHdEQUFPO0FBQ3BCO0FBQ0EsYUFBYSxrRUFBWTs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSSwwREFBUTs7QUFFWjtBQUNBOztBQUVBO0FBQ0E7O0FBRWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvZ2V0Q0xTLmpzPzk3N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmluZFJlcG9ydGVyIH0gZnJvbSAnLi9saWIvYmluZFJlcG9ydGVyLmpzJztcbmltcG9ydCB7IGluaXRNZXRyaWMgfSBmcm9tICcuL2xpYi9pbml0TWV0cmljLmpzJztcbmltcG9ydCB7IG9ic2VydmUgfSBmcm9tICcuL2xpYi9vYnNlcnZlLmpzJztcbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9saWIvb25IaWRkZW4uanMnO1xuXG4vKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBbQ0xTXShodHRwczovL3dlYi5kZXYvY2xzLykgdmFsdWUgZm9yIHRoZSBjdXJyZW50IHBhZ2UgYW5kXG4gKiBjYWxscyB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBvbmNlIHRoZSB2YWx1ZSBpcyByZWFkeSB0byBiZSByZXBvcnRlZCwgYWxvbmdcbiAqIHdpdGggYWxsIGBsYXlvdXQtc2hpZnRgIHBlcmZvcm1hbmNlIGVudHJpZXMgdGhhdCB3ZXJlIHVzZWQgaW4gdGhlIG1ldHJpY1xuICogdmFsdWUgY2FsY3VsYXRpb24uIFRoZSByZXBvcnRlZCB2YWx1ZSBpcyBhIGBkb3VibGVgIChjb3JyZXNwb25kaW5nIHRvIGFcbiAqIFtsYXlvdXQgc2hpZnQgc2NvcmVdKGh0dHBzOi8vd2ViLmRldi9jbHMvI2xheW91dC1zaGlmdC1zY29yZSkpLlxuICpcbiAqIElmIHRoZSBgcmVwb3J0QWxsQ2hhbmdlc2AgY29uZmlndXJhdGlvbiBvcHRpb24gaXMgc2V0IHRvIGB0cnVlYCwgdGhlXG4gKiBgY2FsbGJhY2tgIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFzIHNvb24gYXMgdGhlIHZhbHVlIGlzIGluaXRpYWxseVxuICogZGV0ZXJtaW5lZCBhcyB3ZWxsIGFzIGFueSB0aW1lIHRoZSB2YWx1ZSBjaGFuZ2VzIHRocm91Z2hvdXQgdGhlIHBhZ2VcbiAqIGxpZmVzcGFuLlxuICpcbiAqIF8qKkltcG9ydGFudDoqKiBDTFMgc2hvdWxkIGJlIGNvbnRpbnVhbGx5IG1vbml0b3JlZCBmb3IgY2hhbmdlcyB0aHJvdWdob3V0XG4gKiB0aGUgZW50aXJlIGxpZmVzcGFuIG9mIGEgcGFnZeKAlGluY2x1ZGluZyBpZiB0aGUgdXNlciByZXR1cm5zIHRvIHRoZSBwYWdlIGFmdGVyXG4gKiBpdCdzIGJlZW4gaGlkZGVuL2JhY2tncm91bmRlZC4gSG93ZXZlciwgc2luY2UgYnJvd3NlcnMgb2Z0ZW4gW3dpbGwgbm90IGZpcmVcbiAqIGFkZGl0aW9uYWwgY2FsbGJhY2tzIG9uY2UgdGhlIHVzZXIgaGFzIGJhY2tncm91bmRlZCBhXG4gKiBwYWdlXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2Jsb2cvcGFnZS1saWZlY3ljbGUtYXBpLyNhZHZpY2UtaGlkZGVuKSxcbiAqIGBjYWxsYmFja2AgaXMgYWx3YXlzIGNhbGxlZCB3aGVuIHRoZSBwYWdlJ3MgdmlzaWJpbGl0eSBzdGF0ZSBjaGFuZ2VzIHRvXG4gKiBoaWRkZW4uIEFzIGEgcmVzdWx0LCB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBtaWdodCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXNcbiAqIGR1cmluZyB0aGUgc2FtZSBwYWdlIGxvYWQuX1xuICovXG5jb25zdCBvbkNMUyA9IChcbiAgb25SZXBvcnQsXG4gIG9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCBtZXRyaWMgPSBpbml0TWV0cmljKCdDTFMnLCAwKTtcbiAgbGV0IHJlcG9ydDtcblxuICBsZXQgc2Vzc2lvblZhbHVlID0gMDtcbiAgbGV0IHNlc3Npb25FbnRyaWVzID0gW107XG5cbiAgLy8gY29uc3QgaGFuZGxlRW50cmllcyA9IChlbnRyaWVzOiBNZXRyaWNbJ2VudHJpZXMnXSkgPT4ge1xuICBjb25zdCBoYW5kbGVFbnRyaWVzID0gKGVudHJpZXMpID0+IHtcbiAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgLy8gT25seSBjb3VudCBsYXlvdXQgc2hpZnRzIHdpdGhvdXQgcmVjZW50IHVzZXIgaW5wdXQuXG4gICAgICBpZiAoIWVudHJ5LmhhZFJlY2VudElucHV0KSB7XG4gICAgICAgIGNvbnN0IGZpcnN0U2Vzc2lvbkVudHJ5ID0gc2Vzc2lvbkVudHJpZXNbMF07XG4gICAgICAgIGNvbnN0IGxhc3RTZXNzaW9uRW50cnkgPSBzZXNzaW9uRW50cmllc1tzZXNzaW9uRW50cmllcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAvLyBJZiB0aGUgZW50cnkgb2NjdXJyZWQgbGVzcyB0aGFuIDEgc2Vjb25kIGFmdGVyIHRoZSBwcmV2aW91cyBlbnRyeSBhbmRcbiAgICAgICAgLy8gbGVzcyB0aGFuIDUgc2Vjb25kcyBhZnRlciB0aGUgZmlyc3QgZW50cnkgaW4gdGhlIHNlc3Npb24sIGluY2x1ZGUgdGhlXG4gICAgICAgIC8vIGVudHJ5IGluIHRoZSBjdXJyZW50IHNlc3Npb24uIE90aGVyd2lzZSwgc3RhcnQgYSBuZXcgc2Vzc2lvbi5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlc3Npb25WYWx1ZSAmJlxuICAgICAgICAgIHNlc3Npb25FbnRyaWVzLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIGxhc3RTZXNzaW9uRW50cnkuc3RhcnRUaW1lIDwgMTAwMCAmJlxuICAgICAgICAgIGVudHJ5LnN0YXJ0VGltZSAtIGZpcnN0U2Vzc2lvbkVudHJ5LnN0YXJ0VGltZSA8IDUwMDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2Vzc2lvblZhbHVlICs9IGVudHJ5LnZhbHVlO1xuICAgICAgICAgIHNlc3Npb25FbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlc3Npb25WYWx1ZSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICAgIHNlc3Npb25FbnRyaWVzID0gW2VudHJ5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHNlc3Npb24gdmFsdWUgaXMgbGFyZ2VyIHRoYW4gdGhlIGN1cnJlbnQgQ0xTIHZhbHVlLFxuICAgICAgICAvLyB1cGRhdGUgQ0xTIGFuZCB0aGUgZW50cmllcyBjb250cmlidXRpbmcgdG8gaXQuXG4gICAgICAgIGlmIChzZXNzaW9uVmFsdWUgPiBtZXRyaWMudmFsdWUpIHtcbiAgICAgICAgICBtZXRyaWMudmFsdWUgPSBzZXNzaW9uVmFsdWU7XG4gICAgICAgICAgbWV0cmljLmVudHJpZXMgPSBzZXNzaW9uRW50cmllcztcbiAgICAgICAgICBpZiAocmVwb3J0KSB7XG4gICAgICAgICAgICByZXBvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBwbyA9IG9ic2VydmUoJ2xheW91dC1zaGlmdCcsIGhhbmRsZUVudHJpZXMpO1xuICBpZiAocG8pIHtcbiAgICByZXBvcnQgPSBiaW5kUmVwb3J0ZXIob25SZXBvcnQsIG1ldHJpYywgb3B0aW9ucy5yZXBvcnRBbGxDaGFuZ2VzKTtcblxuICAgIGNvbnN0IHN0b3BMaXN0ZW5pbmcgPSAoKSA9PiB7XG4gICAgICBoYW5kbGVFbnRyaWVzKHBvLnRha2VSZWNvcmRzKCkgKTtcbiAgICAgIHJlcG9ydCh0cnVlKTtcbiAgICB9O1xuXG4gICAgb25IaWRkZW4oc3RvcExpc3RlbmluZyk7XG5cbiAgICByZXR1cm4gc3RvcExpc3RlbmluZztcbiAgfVxuXG4gIHJldHVybjtcbn07XG5cbmV4cG9ydCB7IG9uQ0xTIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDTFMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getCLS.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getFID.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getFID.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onFID: () => (/* binding */ onFID)\n/* harmony export */ });\n/* harmony import */ var _lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/bindReporter.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js\");\n/* harmony import */ var _lib_getVisibilityWatcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/getVisibilityWatcher.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getVisibilityWatcher.js\");\n/* harmony import */ var _lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/initMetric.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js\");\n/* harmony import */ var _lib_observe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/observe.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\");\n/* harmony import */ var _lib_onHidden_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/onHidden.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js\");\n\n\n\n\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Calculates the [FID](https://web.dev/fid/) value for the current page and\n * calls the `callback` function once the value is ready, along with the\n * relevant `first-input` performance entry used to determine the value. The\n * reported value is a `DOMHighResTimeStamp`.\n *\n * _**Important:** since FID is only reported after the user interacts with the\n * page, it's possible that it will not be reported for some page loads._\n */\nconst onFID = (onReport) => {\n  const visibilityWatcher = (0,_lib_getVisibilityWatcher_js__WEBPACK_IMPORTED_MODULE_0__.getVisibilityWatcher)();\n  const metric = (0,_lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__.initMetric)('FID');\n  // eslint-disable-next-line prefer-const\n  let report;\n\n  const handleEntry = (entry) => {\n    // Only report if the page wasn't hidden prior to the first input.\n    if (entry.startTime < visibilityWatcher.firstHiddenTime) {\n      metric.value = entry.processingStart - entry.startTime;\n      metric.entries.push(entry);\n      report(true);\n    }\n  };\n\n  const handleEntries = (entries) => {\n    (entries ).forEach(handleEntry);\n  };\n\n  const po = (0,_lib_observe_js__WEBPACK_IMPORTED_MODULE_2__.observe)('first-input', handleEntries);\n  report = (0,_lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_3__.bindReporter)(onReport, metric);\n\n  if (po) {\n    (0,_lib_onHidden_js__WEBPACK_IMPORTED_MODULE_4__.onHidden)(() => {\n      handleEntries(po.takeRecords() );\n      po.disconnect();\n    }, true);\n  }\n};\n\n\n//# sourceMappingURL=getFID.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldEZJRC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUQ7QUFDZ0I7QUFDcEI7QUFDTjtBQUNFOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0ZBQW9CO0FBQ2hELGlCQUFpQiw4REFBVTtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGFBQWEsd0RBQU87QUFDcEIsV0FBVyxrRUFBWTs7QUFFdkI7QUFDQSxJQUFJLDBEQUFRO0FBQ1o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVpQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZGdpdHkteWllbGQtZnJvbnRlbmQvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldEZJRC5qcz85ODE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJpbmRSZXBvcnRlciB9IGZyb20gJy4vbGliL2JpbmRSZXBvcnRlci5qcyc7XG5pbXBvcnQgeyBnZXRWaXNpYmlsaXR5V2F0Y2hlciB9IGZyb20gJy4vbGliL2dldFZpc2liaWxpdHlXYXRjaGVyLmpzJztcbmltcG9ydCB7IGluaXRNZXRyaWMgfSBmcm9tICcuL2xpYi9pbml0TWV0cmljLmpzJztcbmltcG9ydCB7IG9ic2VydmUgfSBmcm9tICcuL2xpYi9vYnNlcnZlLmpzJztcbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9saWIvb25IaWRkZW4uanMnO1xuXG4vKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBbRklEXShodHRwczovL3dlYi5kZXYvZmlkLykgdmFsdWUgZm9yIHRoZSBjdXJyZW50IHBhZ2UgYW5kXG4gKiBjYWxscyB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBvbmNlIHRoZSB2YWx1ZSBpcyByZWFkeSwgYWxvbmcgd2l0aCB0aGVcbiAqIHJlbGV2YW50IGBmaXJzdC1pbnB1dGAgcGVyZm9ybWFuY2UgZW50cnkgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHZhbHVlLiBUaGVcbiAqIHJlcG9ydGVkIHZhbHVlIGlzIGEgYERPTUhpZ2hSZXNUaW1lU3RhbXBgLlxuICpcbiAqIF8qKkltcG9ydGFudDoqKiBzaW5jZSBGSUQgaXMgb25seSByZXBvcnRlZCBhZnRlciB0aGUgdXNlciBpbnRlcmFjdHMgd2l0aCB0aGVcbiAqIHBhZ2UsIGl0J3MgcG9zc2libGUgdGhhdCBpdCB3aWxsIG5vdCBiZSByZXBvcnRlZCBmb3Igc29tZSBwYWdlIGxvYWRzLl9cbiAqL1xuY29uc3Qgb25GSUQgPSAob25SZXBvcnQpID0+IHtcbiAgY29uc3QgdmlzaWJpbGl0eVdhdGNoZXIgPSBnZXRWaXNpYmlsaXR5V2F0Y2hlcigpO1xuICBjb25zdCBtZXRyaWMgPSBpbml0TWV0cmljKCdGSUQnKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQgcmVwb3J0O1xuXG4gIGNvbnN0IGhhbmRsZUVudHJ5ID0gKGVudHJ5KSA9PiB7XG4gICAgLy8gT25seSByZXBvcnQgaWYgdGhlIHBhZ2Ugd2Fzbid0IGhpZGRlbiBwcmlvciB0byB0aGUgZmlyc3QgaW5wdXQuXG4gICAgaWYgKGVudHJ5LnN0YXJ0VGltZSA8IHZpc2liaWxpdHlXYXRjaGVyLmZpcnN0SGlkZGVuVGltZSkge1xuICAgICAgbWV0cmljLnZhbHVlID0gZW50cnkucHJvY2Vzc2luZ1N0YXJ0IC0gZW50cnkuc3RhcnRUaW1lO1xuICAgICAgbWV0cmljLmVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICByZXBvcnQodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVudHJpZXMgPSAoZW50cmllcykgPT4ge1xuICAgIChlbnRyaWVzICkuZm9yRWFjaChoYW5kbGVFbnRyeSk7XG4gIH07XG5cbiAgY29uc3QgcG8gPSBvYnNlcnZlKCdmaXJzdC1pbnB1dCcsIGhhbmRsZUVudHJpZXMpO1xuICByZXBvcnQgPSBiaW5kUmVwb3J0ZXIob25SZXBvcnQsIG1ldHJpYyk7XG5cbiAgaWYgKHBvKSB7XG4gICAgb25IaWRkZW4oKCkgPT4ge1xuICAgICAgaGFuZGxlRW50cmllcyhwby50YWtlUmVjb3JkcygpICk7XG4gICAgICBwby5kaXNjb25uZWN0KCk7XG4gICAgfSwgdHJ1ZSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IG9uRklEIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRGSUQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getFID.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getINP.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getINP.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onINP: () => (/* binding */ onINP)\n/* harmony export */ });\n/* harmony import */ var _lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/bindReporter.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js\");\n/* harmony import */ var _lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/initMetric.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js\");\n/* harmony import */ var _lib_observe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/observe.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\");\n/* harmony import */ var _lib_onHidden_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/onHidden.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js\");\n/* harmony import */ var _lib_polyfills_interactionCountPolyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/polyfills/interactionCountPolyfill.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/polyfills/interactionCountPolyfill.js\");\n\n\n\n\n\n\n/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns the interaction count since the last bfcache restore (or for the\n * full page lifecycle if there were no bfcache restores).\n */\nconst getInteractionCountForNavigation = () => {\n  return (0,_lib_polyfills_interactionCountPolyfill_js__WEBPACK_IMPORTED_MODULE_0__.getInteractionCount)();\n};\n\n// To prevent unnecessary memory usage on pages with lots of interactions,\n// store at most 10 of the longest interactions to consider as INP candidates.\nconst MAX_INTERACTIONS_TO_CONSIDER = 10;\n\n// A list of longest interactions on the page (by latency) sorted so the\n// longest one is first. The list is as most MAX_INTERACTIONS_TO_CONSIDER long.\nconst longestInteractionList = [];\n\n// A mapping of longest interactions by their interaction ID.\n// This is used for faster lookup.\nconst longestInteractionMap = {};\n\n/**\n * Takes a performance entry and adds it to the list of worst interactions\n * if its duration is long enough to make it among the worst. If the\n * entry is part of an existing interaction, it is merged and the latency\n * and entries list is updated as needed.\n */\nconst processEntry = (entry) => {\n  // The least-long of the 10 longest interactions.\n  const minLongestInteraction = longestInteractionList[longestInteractionList.length - 1];\n\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const existingInteraction = longestInteractionMap[entry.interactionId];\n\n  // Only process the entry if it's possibly one of the ten longest,\n  // or if it's part of an existing interaction.\n  if (\n    existingInteraction ||\n    longestInteractionList.length < MAX_INTERACTIONS_TO_CONSIDER ||\n    entry.duration > minLongestInteraction.latency\n  ) {\n    // If the interaction already exists, update it. Otherwise create one.\n    if (existingInteraction) {\n      existingInteraction.entries.push(entry);\n      existingInteraction.latency = Math.max(existingInteraction.latency, entry.duration);\n    } else {\n      const interaction = {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        id: entry.interactionId,\n        latency: entry.duration,\n        entries: [entry],\n      };\n      longestInteractionMap[interaction.id] = interaction;\n      longestInteractionList.push(interaction);\n    }\n\n    // Sort the entries by latency (descending) and keep only the top ten.\n    longestInteractionList.sort((a, b) => b.latency - a.latency);\n    longestInteractionList.splice(MAX_INTERACTIONS_TO_CONSIDER).forEach(i => {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete longestInteractionMap[i.id];\n    });\n  }\n};\n\n/**\n * Returns the estimated p98 longest interaction based on the stored\n * interaction candidates and the interaction count for the current page.\n */\nconst estimateP98LongestInteraction = () => {\n  const candidateInteractionIndex = Math.min(\n    longestInteractionList.length - 1,\n    Math.floor(getInteractionCountForNavigation() / 50),\n  );\n\n  return longestInteractionList[candidateInteractionIndex];\n};\n\n/**\n * Calculates the [INP](https://web.dev/responsiveness/) value for the current\n * page and calls the `callback` function once the value is ready, along with\n * the `event` performance entries reported for that interaction. The reported\n * value is a `DOMHighResTimeStamp`.\n *\n * A custom `durationThreshold` configuration option can optionally be passed to\n * control what `event-timing` entries are considered for INP reporting. The\n * default threshold is `40`, which means INP scores of less than 40 are\n * reported as 0. Note that this will not affect your 75th percentile INP value\n * unless that value is also less than 40 (well below the recommended\n * [good](https://web.dev/inp/#what-is-a-good-inp-score) threshold).\n *\n * If the `reportAllChanges` configuration option is set to `true`, the\n * `callback` function will be called as soon as the value is initially\n * determined as well as any time the value changes throughout the page\n * lifespan.\n *\n * _**Important:** INP should be continually monitored for changes throughout\n * the entire lifespan of a pageincluding if the user returns to the page after\n * it's been hidden/backgrounded. However, since browsers often [will not fire\n * additional callbacks once the user has backgrounded a\n * page](https://developer.chrome.com/blog/page-lifecycle-api/#advice-hidden),\n * `callback` is always called when the page's visibility state changes to\n * hidden. As a result, the `callback` function might be called multiple times\n * during the same page load._\n */\nconst onINP = (onReport, opts) => {\n  // Set defaults\n  // eslint-disable-next-line no-param-reassign\n  opts = opts || {};\n\n  // https://web.dev/inp/#what's-a-%22good%22-inp-value\n  // const thresholds = [200, 500];\n\n  // TODO(philipwalton): remove once the polyfill is no longer needed.\n  (0,_lib_polyfills_interactionCountPolyfill_js__WEBPACK_IMPORTED_MODULE_0__.initInteractionCountPolyfill)();\n\n  const metric = (0,_lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__.initMetric)('INP');\n  // eslint-disable-next-line prefer-const\n  let report;\n\n  const handleEntries = (entries) => {\n    entries.forEach(entry => {\n      if (entry.interactionId) {\n        processEntry(entry);\n      }\n\n      // Entries of type `first-input` don't currently have an `interactionId`,\n      // so to consider them in INP we have to first check that an existing\n      // entry doesn't match the `duration` and `startTime`.\n      // Note that this logic assumes that `event` entries are dispatched\n      // before `first-input` entries. This is true in Chrome but it is not\n      // true in Firefox; however, Firefox doesn't support interactionId, so\n      // it's not an issue at the moment.\n      // TODO(philipwalton): remove once crbug.com/1325826 is fixed.\n      if (entry.entryType === 'first-input') {\n        const noMatchingEntry = !longestInteractionList.some(interaction => {\n          return interaction.entries.some(prevEntry => {\n            return entry.duration === prevEntry.duration && entry.startTime === prevEntry.startTime;\n          });\n        });\n        if (noMatchingEntry) {\n          processEntry(entry);\n        }\n      }\n    });\n\n    const inp = estimateP98LongestInteraction();\n\n    if (inp && inp.latency !== metric.value) {\n      metric.value = inp.latency;\n      metric.entries = inp.entries;\n      report();\n    }\n  };\n\n  const po = (0,_lib_observe_js__WEBPACK_IMPORTED_MODULE_2__.observe)('event', handleEntries, {\n    // Event Timing entries have their durations rounded to the nearest 8ms,\n    // so a duration of 40ms would be any event that spans 2.5 or more frames\n    // at 60Hz. This threshold is chosen to strike a balance between usefulness\n    // and performance. Running this callback for any interaction that spans\n    // just one or two frames is likely not worth the insight that could be\n    // gained.\n    durationThreshold: opts.durationThreshold || 40,\n  } );\n\n  report = (0,_lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_3__.bindReporter)(onReport, metric, opts.reportAllChanges);\n\n  if (po) {\n    // Also observe entries of type `first-input`. This is useful in cases\n    // where the first interaction is less than the `durationThreshold`.\n    po.observe({ type: 'first-input', buffered: true });\n\n    (0,_lib_onHidden_js__WEBPACK_IMPORTED_MODULE_4__.onHidden)(() => {\n      handleEntries(po.takeRecords() );\n\n      // If the interaction count shows that there were interactions but\n      // none were captured by the PerformanceObserver, report a latency of 0.\n      if (metric.value < 0 && getInteractionCountForNavigation() > 0) {\n        metric.value = 0;\n        metric.entries = [];\n      }\n\n      report(true);\n    });\n  }\n};\n\n\n//# sourceMappingURL=getINP.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldElOUC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUQ7QUFDSjtBQUNOO0FBQ0U7QUFDbUU7O0FBRWhIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywrRkFBbUI7QUFDNUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLHdHQUE0Qjs7QUFFOUIsaUJBQWlCLDhEQUFVO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhLHdEQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixXQUFXLGtFQUFZOztBQUV2QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUNBQXFDOztBQUV0RCxJQUFJLDBEQUFRO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvZ2V0SU5QLmpzP2E5ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmluZFJlcG9ydGVyIH0gZnJvbSAnLi9saWIvYmluZFJlcG9ydGVyLmpzJztcbmltcG9ydCB7IGluaXRNZXRyaWMgfSBmcm9tICcuL2xpYi9pbml0TWV0cmljLmpzJztcbmltcG9ydCB7IG9ic2VydmUgfSBmcm9tICcuL2xpYi9vYnNlcnZlLmpzJztcbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9saWIvb25IaWRkZW4uanMnO1xuaW1wb3J0IHsgaW5pdEludGVyYWN0aW9uQ291bnRQb2x5ZmlsbCwgZ2V0SW50ZXJhY3Rpb25Db3VudCB9IGZyb20gJy4vbGliL3BvbHlmaWxscy9pbnRlcmFjdGlvbkNvdW50UG9seWZpbGwuanMnO1xuXG4vKlxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnRlcmFjdGlvbiBjb3VudCBzaW5jZSB0aGUgbGFzdCBiZmNhY2hlIHJlc3RvcmUgKG9yIGZvciB0aGVcbiAqIGZ1bGwgcGFnZSBsaWZlY3ljbGUgaWYgdGhlcmUgd2VyZSBubyBiZmNhY2hlIHJlc3RvcmVzKS5cbiAqL1xuY29uc3QgZ2V0SW50ZXJhY3Rpb25Db3VudEZvck5hdmlnYXRpb24gPSAoKSA9PiB7XG4gIHJldHVybiBnZXRJbnRlcmFjdGlvbkNvdW50KCk7XG59O1xuXG4vLyBUbyBwcmV2ZW50IHVubmVjZXNzYXJ5IG1lbW9yeSB1c2FnZSBvbiBwYWdlcyB3aXRoIGxvdHMgb2YgaW50ZXJhY3Rpb25zLFxuLy8gc3RvcmUgYXQgbW9zdCAxMCBvZiB0aGUgbG9uZ2VzdCBpbnRlcmFjdGlvbnMgdG8gY29uc2lkZXIgYXMgSU5QIGNhbmRpZGF0ZXMuXG5jb25zdCBNQVhfSU5URVJBQ1RJT05TX1RPX0NPTlNJREVSID0gMTA7XG5cbi8vIEEgbGlzdCBvZiBsb25nZXN0IGludGVyYWN0aW9ucyBvbiB0aGUgcGFnZSAoYnkgbGF0ZW5jeSkgc29ydGVkIHNvIHRoZVxuLy8gbG9uZ2VzdCBvbmUgaXMgZmlyc3QuIFRoZSBsaXN0IGlzIGFzIG1vc3QgTUFYX0lOVEVSQUNUSU9OU19UT19DT05TSURFUiBsb25nLlxuY29uc3QgbG9uZ2VzdEludGVyYWN0aW9uTGlzdCA9IFtdO1xuXG4vLyBBIG1hcHBpbmcgb2YgbG9uZ2VzdCBpbnRlcmFjdGlvbnMgYnkgdGhlaXIgaW50ZXJhY3Rpb24gSUQuXG4vLyBUaGlzIGlzIHVzZWQgZm9yIGZhc3RlciBsb29rdXAuXG5jb25zdCBsb25nZXN0SW50ZXJhY3Rpb25NYXAgPSB7fTtcblxuLyoqXG4gKiBUYWtlcyBhIHBlcmZvcm1hbmNlIGVudHJ5IGFuZCBhZGRzIGl0IHRvIHRoZSBsaXN0IG9mIHdvcnN0IGludGVyYWN0aW9uc1xuICogaWYgaXRzIGR1cmF0aW9uIGlzIGxvbmcgZW5vdWdoIHRvIG1ha2UgaXQgYW1vbmcgdGhlIHdvcnN0LiBJZiB0aGVcbiAqIGVudHJ5IGlzIHBhcnQgb2YgYW4gZXhpc3RpbmcgaW50ZXJhY3Rpb24sIGl0IGlzIG1lcmdlZCBhbmQgdGhlIGxhdGVuY3lcbiAqIGFuZCBlbnRyaWVzIGxpc3QgaXMgdXBkYXRlZCBhcyBuZWVkZWQuXG4gKi9cbmNvbnN0IHByb2Nlc3NFbnRyeSA9IChlbnRyeSkgPT4ge1xuICAvLyBUaGUgbGVhc3QtbG9uZyBvZiB0aGUgMTAgbG9uZ2VzdCBpbnRlcmFjdGlvbnMuXG4gIGNvbnN0IG1pbkxvbmdlc3RJbnRlcmFjdGlvbiA9IGxvbmdlc3RJbnRlcmFjdGlvbkxpc3RbbG9uZ2VzdEludGVyYWN0aW9uTGlzdC5sZW5ndGggLSAxXTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICBjb25zdCBleGlzdGluZ0ludGVyYWN0aW9uID0gbG9uZ2VzdEludGVyYWN0aW9uTWFwW2VudHJ5LmludGVyYWN0aW9uSWRdO1xuXG4gIC8vIE9ubHkgcHJvY2VzcyB0aGUgZW50cnkgaWYgaXQncyBwb3NzaWJseSBvbmUgb2YgdGhlIHRlbiBsb25nZXN0LFxuICAvLyBvciBpZiBpdCdzIHBhcnQgb2YgYW4gZXhpc3RpbmcgaW50ZXJhY3Rpb24uXG4gIGlmIChcbiAgICBleGlzdGluZ0ludGVyYWN0aW9uIHx8XG4gICAgbG9uZ2VzdEludGVyYWN0aW9uTGlzdC5sZW5ndGggPCBNQVhfSU5URVJBQ1RJT05TX1RPX0NPTlNJREVSIHx8XG4gICAgZW50cnkuZHVyYXRpb24gPiBtaW5Mb25nZXN0SW50ZXJhY3Rpb24ubGF0ZW5jeVxuICApIHtcbiAgICAvLyBJZiB0aGUgaW50ZXJhY3Rpb24gYWxyZWFkeSBleGlzdHMsIHVwZGF0ZSBpdC4gT3RoZXJ3aXNlIGNyZWF0ZSBvbmUuXG4gICAgaWYgKGV4aXN0aW5nSW50ZXJhY3Rpb24pIHtcbiAgICAgIGV4aXN0aW5nSW50ZXJhY3Rpb24uZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgIGV4aXN0aW5nSW50ZXJhY3Rpb24ubGF0ZW5jeSA9IE1hdGgubWF4KGV4aXN0aW5nSW50ZXJhY3Rpb24ubGF0ZW5jeSwgZW50cnkuZHVyYXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgaWQ6IGVudHJ5LmludGVyYWN0aW9uSWQsXG4gICAgICAgIGxhdGVuY3k6IGVudHJ5LmR1cmF0aW9uLFxuICAgICAgICBlbnRyaWVzOiBbZW50cnldLFxuICAgICAgfTtcbiAgICAgIGxvbmdlc3RJbnRlcmFjdGlvbk1hcFtpbnRlcmFjdGlvbi5pZF0gPSBpbnRlcmFjdGlvbjtcbiAgICAgIGxvbmdlc3RJbnRlcmFjdGlvbkxpc3QucHVzaChpbnRlcmFjdGlvbik7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgZW50cmllcyBieSBsYXRlbmN5IChkZXNjZW5kaW5nKSBhbmQga2VlcCBvbmx5IHRoZSB0b3AgdGVuLlxuICAgIGxvbmdlc3RJbnRlcmFjdGlvbkxpc3Quc29ydCgoYSwgYikgPT4gYi5sYXRlbmN5IC0gYS5sYXRlbmN5KTtcbiAgICBsb25nZXN0SW50ZXJhY3Rpb25MaXN0LnNwbGljZShNQVhfSU5URVJBQ1RJT05TX1RPX0NPTlNJREVSKS5mb3JFYWNoKGkgPT4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZVxuICAgICAgZGVsZXRlIGxvbmdlc3RJbnRlcmFjdGlvbk1hcFtpLmlkXTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBlc3RpbWF0ZWQgcDk4IGxvbmdlc3QgaW50ZXJhY3Rpb24gYmFzZWQgb24gdGhlIHN0b3JlZFxuICogaW50ZXJhY3Rpb24gY2FuZGlkYXRlcyBhbmQgdGhlIGludGVyYWN0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCBwYWdlLlxuICovXG5jb25zdCBlc3RpbWF0ZVA5OExvbmdlc3RJbnRlcmFjdGlvbiA9ICgpID0+IHtcbiAgY29uc3QgY2FuZGlkYXRlSW50ZXJhY3Rpb25JbmRleCA9IE1hdGgubWluKFxuICAgIGxvbmdlc3RJbnRlcmFjdGlvbkxpc3QubGVuZ3RoIC0gMSxcbiAgICBNYXRoLmZsb29yKGdldEludGVyYWN0aW9uQ291bnRGb3JOYXZpZ2F0aW9uKCkgLyA1MCksXG4gICk7XG5cbiAgcmV0dXJuIGxvbmdlc3RJbnRlcmFjdGlvbkxpc3RbY2FuZGlkYXRlSW50ZXJhY3Rpb25JbmRleF07XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIFtJTlBdKGh0dHBzOi8vd2ViLmRldi9yZXNwb25zaXZlbmVzcy8pIHZhbHVlIGZvciB0aGUgY3VycmVudFxuICogcGFnZSBhbmQgY2FsbHMgdGhlIGBjYWxsYmFja2AgZnVuY3Rpb24gb25jZSB0aGUgdmFsdWUgaXMgcmVhZHksIGFsb25nIHdpdGhcbiAqIHRoZSBgZXZlbnRgIHBlcmZvcm1hbmNlIGVudHJpZXMgcmVwb3J0ZWQgZm9yIHRoYXQgaW50ZXJhY3Rpb24uIFRoZSByZXBvcnRlZFxuICogdmFsdWUgaXMgYSBgRE9NSGlnaFJlc1RpbWVTdGFtcGAuXG4gKlxuICogQSBjdXN0b20gYGR1cmF0aW9uVGhyZXNob2xkYCBjb25maWd1cmF0aW9uIG9wdGlvbiBjYW4gb3B0aW9uYWxseSBiZSBwYXNzZWQgdG9cbiAqIGNvbnRyb2wgd2hhdCBgZXZlbnQtdGltaW5nYCBlbnRyaWVzIGFyZSBjb25zaWRlcmVkIGZvciBJTlAgcmVwb3J0aW5nLiBUaGVcbiAqIGRlZmF1bHQgdGhyZXNob2xkIGlzIGA0MGAsIHdoaWNoIG1lYW5zIElOUCBzY29yZXMgb2YgbGVzcyB0aGFuIDQwIGFyZVxuICogcmVwb3J0ZWQgYXMgMC4gTm90ZSB0aGF0IHRoaXMgd2lsbCBub3QgYWZmZWN0IHlvdXIgNzV0aCBwZXJjZW50aWxlIElOUCB2YWx1ZVxuICogdW5sZXNzIHRoYXQgdmFsdWUgaXMgYWxzbyBsZXNzIHRoYW4gNDAgKHdlbGwgYmVsb3cgdGhlIHJlY29tbWVuZGVkXG4gKiBbZ29vZF0oaHR0cHM6Ly93ZWIuZGV2L2lucC8jd2hhdC1pcy1hLWdvb2QtaW5wLXNjb3JlKSB0aHJlc2hvbGQpLlxuICpcbiAqIElmIHRoZSBgcmVwb3J0QWxsQ2hhbmdlc2AgY29uZmlndXJhdGlvbiBvcHRpb24gaXMgc2V0IHRvIGB0cnVlYCwgdGhlXG4gKiBgY2FsbGJhY2tgIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFzIHNvb24gYXMgdGhlIHZhbHVlIGlzIGluaXRpYWxseVxuICogZGV0ZXJtaW5lZCBhcyB3ZWxsIGFzIGFueSB0aW1lIHRoZSB2YWx1ZSBjaGFuZ2VzIHRocm91Z2hvdXQgdGhlIHBhZ2VcbiAqIGxpZmVzcGFuLlxuICpcbiAqIF8qKkltcG9ydGFudDoqKiBJTlAgc2hvdWxkIGJlIGNvbnRpbnVhbGx5IG1vbml0b3JlZCBmb3IgY2hhbmdlcyB0aHJvdWdob3V0XG4gKiB0aGUgZW50aXJlIGxpZmVzcGFuIG9mIGEgcGFnZeKAlGluY2x1ZGluZyBpZiB0aGUgdXNlciByZXR1cm5zIHRvIHRoZSBwYWdlIGFmdGVyXG4gKiBpdCdzIGJlZW4gaGlkZGVuL2JhY2tncm91bmRlZC4gSG93ZXZlciwgc2luY2UgYnJvd3NlcnMgb2Z0ZW4gW3dpbGwgbm90IGZpcmVcbiAqIGFkZGl0aW9uYWwgY2FsbGJhY2tzIG9uY2UgdGhlIHVzZXIgaGFzIGJhY2tncm91bmRlZCBhXG4gKiBwYWdlXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2Jsb2cvcGFnZS1saWZlY3ljbGUtYXBpLyNhZHZpY2UtaGlkZGVuKSxcbiAqIGBjYWxsYmFja2AgaXMgYWx3YXlzIGNhbGxlZCB3aGVuIHRoZSBwYWdlJ3MgdmlzaWJpbGl0eSBzdGF0ZSBjaGFuZ2VzIHRvXG4gKiBoaWRkZW4uIEFzIGEgcmVzdWx0LCB0aGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBtaWdodCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXNcbiAqIGR1cmluZyB0aGUgc2FtZSBwYWdlIGxvYWQuX1xuICovXG5jb25zdCBvbklOUCA9IChvblJlcG9ydCwgb3B0cykgPT4ge1xuICAvLyBTZXQgZGVmYXVsdHNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIC8vIGh0dHBzOi8vd2ViLmRldi9pbnAvI3doYXQncy1hLSUyMmdvb2QlMjItaW5wLXZhbHVlXG4gIC8vIGNvbnN0IHRocmVzaG9sZHMgPSBbMjAwLCA1MDBdO1xuXG4gIC8vIFRPRE8ocGhpbGlwd2FsdG9uKTogcmVtb3ZlIG9uY2UgdGhlIHBvbHlmaWxsIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gIGluaXRJbnRlcmFjdGlvbkNvdW50UG9seWZpbGwoKTtcblxuICBjb25zdCBtZXRyaWMgPSBpbml0TWV0cmljKCdJTlAnKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQgcmVwb3J0O1xuXG4gIGNvbnN0IGhhbmRsZUVudHJpZXMgPSAoZW50cmllcykgPT4ge1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAoZW50cnkuaW50ZXJhY3Rpb25JZCkge1xuICAgICAgICBwcm9jZXNzRW50cnkoZW50cnkpO1xuICAgICAgfVxuXG4gICAgICAvLyBFbnRyaWVzIG9mIHR5cGUgYGZpcnN0LWlucHV0YCBkb24ndCBjdXJyZW50bHkgaGF2ZSBhbiBgaW50ZXJhY3Rpb25JZGAsXG4gICAgICAvLyBzbyB0byBjb25zaWRlciB0aGVtIGluIElOUCB3ZSBoYXZlIHRvIGZpcnN0IGNoZWNrIHRoYXQgYW4gZXhpc3RpbmdcbiAgICAgIC8vIGVudHJ5IGRvZXNuJ3QgbWF0Y2ggdGhlIGBkdXJhdGlvbmAgYW5kIGBzdGFydFRpbWVgLlxuICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgbG9naWMgYXNzdW1lcyB0aGF0IGBldmVudGAgZW50cmllcyBhcmUgZGlzcGF0Y2hlZFxuICAgICAgLy8gYmVmb3JlIGBmaXJzdC1pbnB1dGAgZW50cmllcy4gVGhpcyBpcyB0cnVlIGluIENocm9tZSBidXQgaXQgaXMgbm90XG4gICAgICAvLyB0cnVlIGluIEZpcmVmb3g7IGhvd2V2ZXIsIEZpcmVmb3ggZG9lc24ndCBzdXBwb3J0IGludGVyYWN0aW9uSWQsIHNvXG4gICAgICAvLyBpdCdzIG5vdCBhbiBpc3N1ZSBhdCB0aGUgbW9tZW50LlxuICAgICAgLy8gVE9ETyhwaGlsaXB3YWx0b24pOiByZW1vdmUgb25jZSBjcmJ1Zy5jb20vMTMyNTgyNiBpcyBmaXhlZC5cbiAgICAgIGlmIChlbnRyeS5lbnRyeVR5cGUgPT09ICdmaXJzdC1pbnB1dCcpIHtcbiAgICAgICAgY29uc3Qgbm9NYXRjaGluZ0VudHJ5ID0gIWxvbmdlc3RJbnRlcmFjdGlvbkxpc3Quc29tZShpbnRlcmFjdGlvbiA9PiB7XG4gICAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uLmVudHJpZXMuc29tZShwcmV2RW50cnkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmR1cmF0aW9uID09PSBwcmV2RW50cnkuZHVyYXRpb24gJiYgZW50cnkuc3RhcnRUaW1lID09PSBwcmV2RW50cnkuc3RhcnRUaW1lO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vTWF0Y2hpbmdFbnRyeSkge1xuICAgICAgICAgIHByb2Nlc3NFbnRyeShlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGlucCA9IGVzdGltYXRlUDk4TG9uZ2VzdEludGVyYWN0aW9uKCk7XG5cbiAgICBpZiAoaW5wICYmIGlucC5sYXRlbmN5ICE9PSBtZXRyaWMudmFsdWUpIHtcbiAgICAgIG1ldHJpYy52YWx1ZSA9IGlucC5sYXRlbmN5O1xuICAgICAgbWV0cmljLmVudHJpZXMgPSBpbnAuZW50cmllcztcbiAgICAgIHJlcG9ydCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwbyA9IG9ic2VydmUoJ2V2ZW50JywgaGFuZGxlRW50cmllcywge1xuICAgIC8vIEV2ZW50IFRpbWluZyBlbnRyaWVzIGhhdmUgdGhlaXIgZHVyYXRpb25zIHJvdW5kZWQgdG8gdGhlIG5lYXJlc3QgOG1zLFxuICAgIC8vIHNvIGEgZHVyYXRpb24gb2YgNDBtcyB3b3VsZCBiZSBhbnkgZXZlbnQgdGhhdCBzcGFucyAyLjUgb3IgbW9yZSBmcmFtZXNcbiAgICAvLyBhdCA2MEh6LiBUaGlzIHRocmVzaG9sZCBpcyBjaG9zZW4gdG8gc3RyaWtlIGEgYmFsYW5jZSBiZXR3ZWVuIHVzZWZ1bG5lc3NcbiAgICAvLyBhbmQgcGVyZm9ybWFuY2UuIFJ1bm5pbmcgdGhpcyBjYWxsYmFjayBmb3IgYW55IGludGVyYWN0aW9uIHRoYXQgc3BhbnNcbiAgICAvLyBqdXN0IG9uZSBvciB0d28gZnJhbWVzIGlzIGxpa2VseSBub3Qgd29ydGggdGhlIGluc2lnaHQgdGhhdCBjb3VsZCBiZVxuICAgIC8vIGdhaW5lZC5cbiAgICBkdXJhdGlvblRocmVzaG9sZDogb3B0cy5kdXJhdGlvblRocmVzaG9sZCB8fCA0MCxcbiAgfSApO1xuXG4gIHJlcG9ydCA9IGJpbmRSZXBvcnRlcihvblJlcG9ydCwgbWV0cmljLCBvcHRzLnJlcG9ydEFsbENoYW5nZXMpO1xuXG4gIGlmIChwbykge1xuICAgIC8vIEFsc28gb2JzZXJ2ZSBlbnRyaWVzIG9mIHR5cGUgYGZpcnN0LWlucHV0YC4gVGhpcyBpcyB1c2VmdWwgaW4gY2FzZXNcbiAgICAvLyB3aGVyZSB0aGUgZmlyc3QgaW50ZXJhY3Rpb24gaXMgbGVzcyB0aGFuIHRoZSBgZHVyYXRpb25UaHJlc2hvbGRgLlxuICAgIHBvLm9ic2VydmUoeyB0eXBlOiAnZmlyc3QtaW5wdXQnLCBidWZmZXJlZDogdHJ1ZSB9KTtcblxuICAgIG9uSGlkZGVuKCgpID0+IHtcbiAgICAgIGhhbmRsZUVudHJpZXMocG8udGFrZVJlY29yZHMoKSApO1xuXG4gICAgICAvLyBJZiB0aGUgaW50ZXJhY3Rpb24gY291bnQgc2hvd3MgdGhhdCB0aGVyZSB3ZXJlIGludGVyYWN0aW9ucyBidXRcbiAgICAgIC8vIG5vbmUgd2VyZSBjYXB0dXJlZCBieSB0aGUgUGVyZm9ybWFuY2VPYnNlcnZlciwgcmVwb3J0IGEgbGF0ZW5jeSBvZiAwLlxuICAgICAgaWYgKG1ldHJpYy52YWx1ZSA8IDAgJiYgZ2V0SW50ZXJhY3Rpb25Db3VudEZvck5hdmlnYXRpb24oKSA+IDApIHtcbiAgICAgICAgbWV0cmljLnZhbHVlID0gMDtcbiAgICAgICAgbWV0cmljLmVudHJpZXMgPSBbXTtcbiAgICAgIH1cblxuICAgICAgcmVwb3J0KHRydWUpO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgeyBvbklOUCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0SU5QLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getINP.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getLCP.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getLCP.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onLCP: () => (/* binding */ onLCP)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n/* harmony import */ var _lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/bindReporter.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js\");\n/* harmony import */ var _lib_getActivationStart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/getActivationStart.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getActivationStart.js\");\n/* harmony import */ var _lib_getVisibilityWatcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/getVisibilityWatcher.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getVisibilityWatcher.js\");\n/* harmony import */ var _lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/initMetric.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js\");\n/* harmony import */ var _lib_observe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/observe.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\");\n/* harmony import */ var _lib_onHidden_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/onHidden.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js\");\n\n\n\n\n\n\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst reportedMetricIDs = {};\n\n/**\n * Calculates the [LCP](https://web.dev/lcp/) value for the current page and\n * calls the `callback` function once the value is ready (along with the\n * relevant `largest-contentful-paint` performance entry used to determine the\n * value). The reported value is a `DOMHighResTimeStamp`.\n */\nconst onLCP = (onReport) => {\n  const visibilityWatcher = (0,_lib_getVisibilityWatcher_js__WEBPACK_IMPORTED_MODULE_0__.getVisibilityWatcher)();\n  const metric = (0,_lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__.initMetric)('LCP');\n  let report;\n\n  const handleEntries = (entries) => {\n    const lastEntry = entries[entries.length - 1] ;\n    if (lastEntry) {\n      // The startTime attribute returns the value of the renderTime if it is\n      // not 0, and the value of the loadTime otherwise. The activationStart\n      // reference is used because LCP should be relative to page activation\n      // rather than navigation start if the page was prerendered.\n      const value = Math.max(lastEntry.startTime - (0,_lib_getActivationStart_js__WEBPACK_IMPORTED_MODULE_2__.getActivationStart)(), 0);\n\n      // Only report if the page wasn't hidden prior to LCP.\n      if (value < visibilityWatcher.firstHiddenTime) {\n        metric.value = value;\n        metric.entries = [lastEntry];\n        report();\n      }\n    }\n  };\n\n  const po = (0,_lib_observe_js__WEBPACK_IMPORTED_MODULE_3__.observe)('largest-contentful-paint', handleEntries);\n\n  if (po) {\n    report = (0,_lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_4__.bindReporter)(onReport, metric);\n\n    const stopListening = () => {\n      if (!reportedMetricIDs[metric.id]) {\n        handleEntries(po.takeRecords() );\n        po.disconnect();\n        reportedMetricIDs[metric.id] = true;\n        report(true);\n      }\n    };\n\n    // Stop listening after input. Note: while scrolling is an input that\n    // stop LCP observation, it's unreliable since it can be programmatically\n    // generated. See: https://github.com/GoogleChrome/web-vitals/issues/75\n    ['keydown', 'click'].forEach(type => {\n      if (_types_js__WEBPACK_IMPORTED_MODULE_5__.WINDOW.document) {\n        addEventListener(type, stopListening, { once: true, capture: true });\n      }\n    });\n\n    (0,_lib_onHidden_js__WEBPACK_IMPORTED_MODULE_6__.onHidden)(stopListening, true);\n\n    return stopListening;\n  }\n\n  return;\n};\n\n\n//# sourceMappingURL=getLCP.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldExDUC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFxQztBQUNnQjtBQUNZO0FBQ0k7QUFDcEI7QUFDTjtBQUNFOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0ZBQW9CO0FBQ2hELGlCQUFpQiw4REFBVTtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw4RUFBa0I7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSx3REFBTzs7QUFFcEI7QUFDQSxhQUFhLGtFQUFZOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw2Q0FBTTtBQUNoQixnREFBZ0QsMkJBQTJCO0FBQzNFO0FBQ0EsS0FBSzs7QUFFTCxJQUFJLDBEQUFROztBQUVaO0FBQ0E7O0FBRUE7QUFDQTs7QUFFaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9nZXRMQ1AuanM/NzliNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXSU5ET1cgfSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBiaW5kUmVwb3J0ZXIgfSBmcm9tICcuL2xpYi9iaW5kUmVwb3J0ZXIuanMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZhdGlvblN0YXJ0IH0gZnJvbSAnLi9saWIvZ2V0QWN0aXZhdGlvblN0YXJ0LmpzJztcbmltcG9ydCB7IGdldFZpc2liaWxpdHlXYXRjaGVyIH0gZnJvbSAnLi9saWIvZ2V0VmlzaWJpbGl0eVdhdGNoZXIuanMnO1xuaW1wb3J0IHsgaW5pdE1ldHJpYyB9IGZyb20gJy4vbGliL2luaXRNZXRyaWMuanMnO1xuaW1wb3J0IHsgb2JzZXJ2ZSB9IGZyb20gJy4vbGliL29ic2VydmUuanMnO1xuaW1wb3J0IHsgb25IaWRkZW4gfSBmcm9tICcuL2xpYi9vbkhpZGRlbi5qcyc7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCByZXBvcnRlZE1ldHJpY0lEcyA9IHt9O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIFtMQ1BdKGh0dHBzOi8vd2ViLmRldi9sY3AvKSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgcGFnZSBhbmRcbiAqIGNhbGxzIHRoZSBgY2FsbGJhY2tgIGZ1bmN0aW9uIG9uY2UgdGhlIHZhbHVlIGlzIHJlYWR5IChhbG9uZyB3aXRoIHRoZVxuICogcmVsZXZhbnQgYGxhcmdlc3QtY29udGVudGZ1bC1wYWludGAgcGVyZm9ybWFuY2UgZW50cnkgdXNlZCB0byBkZXRlcm1pbmUgdGhlXG4gKiB2YWx1ZSkuIFRoZSByZXBvcnRlZCB2YWx1ZSBpcyBhIGBET01IaWdoUmVzVGltZVN0YW1wYC5cbiAqL1xuY29uc3Qgb25MQ1AgPSAob25SZXBvcnQpID0+IHtcbiAgY29uc3QgdmlzaWJpbGl0eVdhdGNoZXIgPSBnZXRWaXNpYmlsaXR5V2F0Y2hlcigpO1xuICBjb25zdCBtZXRyaWMgPSBpbml0TWV0cmljKCdMQ1AnKTtcbiAgbGV0IHJlcG9ydDtcblxuICBjb25zdCBoYW5kbGVFbnRyaWVzID0gKGVudHJpZXMpID0+IHtcbiAgICBjb25zdCBsYXN0RW50cnkgPSBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV0gO1xuICAgIGlmIChsYXN0RW50cnkpIHtcbiAgICAgIC8vIFRoZSBzdGFydFRpbWUgYXR0cmlidXRlIHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSByZW5kZXJUaW1lIGlmIGl0IGlzXG4gICAgICAvLyBub3QgMCwgYW5kIHRoZSB2YWx1ZSBvZiB0aGUgbG9hZFRpbWUgb3RoZXJ3aXNlLiBUaGUgYWN0aXZhdGlvblN0YXJ0XG4gICAgICAvLyByZWZlcmVuY2UgaXMgdXNlZCBiZWNhdXNlIExDUCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gcGFnZSBhY3RpdmF0aW9uXG4gICAgICAvLyByYXRoZXIgdGhhbiBuYXZpZ2F0aW9uIHN0YXJ0IGlmIHRoZSBwYWdlIHdhcyBwcmVyZW5kZXJlZC5cbiAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5tYXgobGFzdEVudHJ5LnN0YXJ0VGltZSAtIGdldEFjdGl2YXRpb25TdGFydCgpLCAwKTtcblxuICAgICAgLy8gT25seSByZXBvcnQgaWYgdGhlIHBhZ2Ugd2Fzbid0IGhpZGRlbiBwcmlvciB0byBMQ1AuXG4gICAgICBpZiAodmFsdWUgPCB2aXNpYmlsaXR5V2F0Y2hlci5maXJzdEhpZGRlblRpbWUpIHtcbiAgICAgICAgbWV0cmljLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIG1ldHJpYy5lbnRyaWVzID0gW2xhc3RFbnRyeV07XG4gICAgICAgIHJlcG9ydCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBwbyA9IG9ic2VydmUoJ2xhcmdlc3QtY29udGVudGZ1bC1wYWludCcsIGhhbmRsZUVudHJpZXMpO1xuXG4gIGlmIChwbykge1xuICAgIHJlcG9ydCA9IGJpbmRSZXBvcnRlcihvblJlcG9ydCwgbWV0cmljKTtcblxuICAgIGNvbnN0IHN0b3BMaXN0ZW5pbmcgPSAoKSA9PiB7XG4gICAgICBpZiAoIXJlcG9ydGVkTWV0cmljSURzW21ldHJpYy5pZF0pIHtcbiAgICAgICAgaGFuZGxlRW50cmllcyhwby50YWtlUmVjb3JkcygpICk7XG4gICAgICAgIHBvLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgcmVwb3J0ZWRNZXRyaWNJRHNbbWV0cmljLmlkXSA9IHRydWU7XG4gICAgICAgIHJlcG9ydCh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3RvcCBsaXN0ZW5pbmcgYWZ0ZXIgaW5wdXQuIE5vdGU6IHdoaWxlIHNjcm9sbGluZyBpcyBhbiBpbnB1dCB0aGF0XG4gICAgLy8gc3RvcCBMQ1Agb2JzZXJ2YXRpb24sIGl0J3MgdW5yZWxpYWJsZSBzaW5jZSBpdCBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseVxuICAgIC8vIGdlbmVyYXRlZC4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvaXNzdWVzLzc1XG4gICAgWydrZXlkb3duJywgJ2NsaWNrJ10uZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIGlmIChXSU5ET1cuZG9jdW1lbnQpIHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBzdG9wTGlzdGVuaW5nLCB7IG9uY2U6IHRydWUsIGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBvbkhpZGRlbihzdG9wTGlzdGVuaW5nLCB0cnVlKTtcblxuICAgIHJldHVybiBzdG9wTGlzdGVuaW5nO1xuICB9XG5cbiAgcmV0dXJuO1xufTtcblxuZXhwb3J0IHsgb25MQ1AgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldExDUC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/getLCP.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindReporter: () => (/* binding */ bindReporter)\n/* harmony export */ });\nconst bindReporter = (\n  callback,\n  metric,\n  reportAllChanges,\n) => {\n  let prevValue;\n  let delta;\n  return (forceReport) => {\n    if (metric.value >= 0) {\n      if (forceReport || reportAllChanges) {\n        delta = metric.value - (prevValue || 0);\n\n        // Report the metric if there's a non-zero delta or if no previous\n        // value exists (which can happen in the case of the document becoming\n        // hidden when the metric value is 0).\n        // See: https://github.com/GoogleChrome/web-vitals/issues/14\n        if (delta || prevValue === undefined) {\n          prevValue = metric.value;\n          metric.delta = delta;\n          callback(metric);\n        }\n      }\n    }\n  };\n};\n\n\n//# sourceMappingURL=bindReporter.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9iaW5kUmVwb3J0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2JpbmRSZXBvcnRlci5qcz8yMWFhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJpbmRSZXBvcnRlciA9IChcbiAgY2FsbGJhY2ssXG4gIG1ldHJpYyxcbiAgcmVwb3J0QWxsQ2hhbmdlcyxcbikgPT4ge1xuICBsZXQgcHJldlZhbHVlO1xuICBsZXQgZGVsdGE7XG4gIHJldHVybiAoZm9yY2VSZXBvcnQpID0+IHtcbiAgICBpZiAobWV0cmljLnZhbHVlID49IDApIHtcbiAgICAgIGlmIChmb3JjZVJlcG9ydCB8fCByZXBvcnRBbGxDaGFuZ2VzKSB7XG4gICAgICAgIGRlbHRhID0gbWV0cmljLnZhbHVlIC0gKHByZXZWYWx1ZSB8fCAwKTtcblxuICAgICAgICAvLyBSZXBvcnQgdGhlIG1ldHJpYyBpZiB0aGVyZSdzIGEgbm9uLXplcm8gZGVsdGEgb3IgaWYgbm8gcHJldmlvdXNcbiAgICAgICAgLy8gdmFsdWUgZXhpc3RzICh3aGljaCBjYW4gaGFwcGVuIGluIHRoZSBjYXNlIG9mIHRoZSBkb2N1bWVudCBiZWNvbWluZ1xuICAgICAgICAvLyBoaWRkZW4gd2hlbiB0aGUgbWV0cmljIHZhbHVlIGlzIDApLlxuICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd2ViLXZpdGFscy9pc3N1ZXMvMTRcbiAgICAgICAgaWYgKGRlbHRhIHx8IHByZXZWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcHJldlZhbHVlID0gbWV0cmljLnZhbHVlO1xuICAgICAgICAgIG1ldHJpYy5kZWx0YSA9IGRlbHRhO1xuICAgICAgICAgIGNhbGxiYWNrKG1ldHJpYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgeyBiaW5kUmVwb3J0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmRSZXBvcnRlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/generateUniqueID.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/generateUniqueID.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateUniqueID: () => (/* binding */ generateUniqueID)\n/* harmony export */ });\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Performantly generate a unique, 30-char string by combining a version\n * number, the current timestamp with a 13-digit number integer.\n * @return {string}\n */\nconst generateUniqueID = () => {\n  return `v3-${Date.now()}-${Math.floor(Math.random() * (9e12 - 1)) + 1e12}`;\n};\n\n\n//# sourceMappingURL=generateUniqueID.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZW5lcmF0ZVVuaXF1ZUlELmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxlQUFlLFdBQVcsR0FBRyw4Q0FBOEM7QUFDM0U7O0FBRTRCO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2dlbmVyYXRlVW5pcXVlSUQuanM/MjI2OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBQZXJmb3JtYW50bHkgZ2VuZXJhdGUgYSB1bmlxdWUsIDMwLWNoYXIgc3RyaW5nIGJ5IGNvbWJpbmluZyBhIHZlcnNpb25cbiAqIG51bWJlciwgdGhlIGN1cnJlbnQgdGltZXN0YW1wIHdpdGggYSAxMy1kaWdpdCBudW1iZXIgaW50ZWdlci5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuY29uc3QgZ2VuZXJhdGVVbmlxdWVJRCA9ICgpID0+IHtcbiAgcmV0dXJuIGB2My0ke0RhdGUubm93KCl9LSR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDllMTIgLSAxKSkgKyAxZTEyfWA7XG59O1xuXG5leHBvcnQgeyBnZW5lcmF0ZVVuaXF1ZUlEIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZVVuaXF1ZUlELmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/generateUniqueID.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getActivationStart.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getActivationStart.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActivationStart: () => (/* binding */ getActivationStart)\n/* harmony export */ });\n/* harmony import */ var _getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNavigationEntry.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js\");\n\n\n/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst getActivationStart = () => {\n  const navEntry = (0,_getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_0__.getNavigationEntry)();\n  return (navEntry && navEntry.activationStart) || 0;\n};\n\n\n//# sourceMappingURL=getActivationStart.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZXRBY3RpdmF0aW9uU3RhcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkQ7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiwwRUFBa0I7QUFDckM7QUFDQTs7QUFFOEI7QUFDOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9saWIvZ2V0QWN0aXZhdGlvblN0YXJ0LmpzPzBmMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0TmF2aWdhdGlvbkVudHJ5IH0gZnJvbSAnLi9nZXROYXZpZ2F0aW9uRW50cnkuanMnO1xuXG4vKlxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgZ2V0QWN0aXZhdGlvblN0YXJ0ID0gKCkgPT4ge1xuICBjb25zdCBuYXZFbnRyeSA9IGdldE5hdmlnYXRpb25FbnRyeSgpO1xuICByZXR1cm4gKG5hdkVudHJ5ICYmIG5hdkVudHJ5LmFjdGl2YXRpb25TdGFydCkgfHwgMDtcbn07XG5cbmV4cG9ydCB7IGdldEFjdGl2YXRpb25TdGFydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0QWN0aXZhdGlvblN0YXJ0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getActivationStart.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNavigationEntry: () => (/* binding */ getNavigationEntry)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n/*\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst getNavigationEntryFromPerformanceTiming = () => {\n  // eslint-disable-next-line deprecation/deprecation\n  const timing = _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance.timing;\n  // eslint-disable-next-line deprecation/deprecation\n  const type = _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance.navigation.type;\n\n  const navigationEntry = {\n    entryType: 'navigation',\n    startTime: 0,\n    type: type == 2 ? 'back_forward' : type === 1 ? 'reload' : 'navigate',\n  };\n\n  for (const key in timing) {\n    if (key !== 'navigationStart' && key !== 'toJSON') {\n      // eslint-disable-next-line deprecation/deprecation\n      navigationEntry[key] = Math.max((timing[key ] ) - timing.navigationStart, 0);\n    }\n  }\n  return navigationEntry ;\n};\n\nconst getNavigationEntry = () => {\n  if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.__WEB_VITALS_POLYFILL__) {\n    return (\n      _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance &&\n      ((performance.getEntriesByType && performance.getEntriesByType('navigation')[0]) ||\n        getNavigationEntryFromPerformanceTiming())\n    );\n  } else {\n    return _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.performance && performance.getEntriesByType && performance.getEntriesByType('navigation')[0];\n  }\n};\n\n\n//# sourceMappingURL=getNavigationEntry.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZXROYXZpZ2F0aW9uRW50cnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLDZDQUFNO0FBQ3ZCO0FBQ0EsZUFBZSw2Q0FBTTs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSw2Q0FBTTtBQUNaO0FBQ0EsTUFBTSw2Q0FBTTtBQUNaO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixXQUFXLDZDQUFNO0FBQ2pCO0FBQ0E7O0FBRThCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2dldE5hdmlnYXRpb25FbnRyeS5qcz8wMGIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdJTkRPVyB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuLypcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IGdldE5hdmlnYXRpb25FbnRyeUZyb21QZXJmb3JtYW5jZVRpbWluZyA9ICgpID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gIGNvbnN0IHRpbWluZyA9IFdJTkRPVy5wZXJmb3JtYW5jZS50aW1pbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICBjb25zdCB0eXBlID0gV0lORE9XLnBlcmZvcm1hbmNlLm5hdmlnYXRpb24udHlwZTtcblxuICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgZW50cnlUeXBlOiAnbmF2aWdhdGlvbicsXG4gICAgc3RhcnRUaW1lOiAwLFxuICAgIHR5cGU6IHR5cGUgPT0gMiA/ICdiYWNrX2ZvcndhcmQnIDogdHlwZSA9PT0gMSA/ICdyZWxvYWQnIDogJ25hdmlnYXRlJyxcbiAgfTtcblxuICBmb3IgKGNvbnN0IGtleSBpbiB0aW1pbmcpIHtcbiAgICBpZiAoa2V5ICE9PSAnbmF2aWdhdGlvblN0YXJ0JyAmJiBrZXkgIT09ICd0b0pTT04nKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIG5hdmlnYXRpb25FbnRyeVtrZXldID0gTWF0aC5tYXgoKHRpbWluZ1trZXkgXSApIC0gdGltaW5nLm5hdmlnYXRpb25TdGFydCwgMCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuYXZpZ2F0aW9uRW50cnkgO1xufTtcblxuY29uc3QgZ2V0TmF2aWdhdGlvbkVudHJ5ID0gKCkgPT4ge1xuICBpZiAoV0lORE9XLl9fV0VCX1ZJVEFMU19QT0xZRklMTF9fKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIFdJTkRPVy5wZXJmb3JtYW5jZSAmJlxuICAgICAgKChwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlICYmIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoJ25hdmlnYXRpb24nKVswXSkgfHxcbiAgICAgICAgZ2V0TmF2aWdhdGlvbkVudHJ5RnJvbVBlcmZvcm1hbmNlVGltaW5nKCkpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gV0lORE9XLnBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUgJiYgcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSgnbmF2aWdhdGlvbicpWzBdO1xuICB9XG59O1xuXG5leHBvcnQgeyBnZXROYXZpZ2F0aW9uRW50cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE5hdmlnYXRpb25FbnRyeS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getVisibilityWatcher.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getVisibilityWatcher.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVisibilityWatcher: () => (/* binding */ getVisibilityWatcher)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n/* harmony import */ var _onHidden_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./onHidden.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js\");\n\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet firstHiddenTime = -1;\n\nconst initHiddenTime = () => {\n  // If the document is hidden and not prerendering, assume it was always\n  // hidden and the page was loaded in the background.\n  if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document && _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.visibilityState) {\n    firstHiddenTime = _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.visibilityState === 'hidden' && !_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.prerendering ? 0 : Infinity;\n  }\n};\n\nconst trackChanges = () => {\n  // Update the time if/when the document becomes hidden.\n  (0,_onHidden_js__WEBPACK_IMPORTED_MODULE_1__.onHidden)(({ timeStamp }) => {\n    firstHiddenTime = timeStamp;\n  }, true);\n};\n\nconst getVisibilityWatcher = (\n\n) => {\n  if (firstHiddenTime < 0) {\n    // If the document is hidden when this code runs, assume it was hidden\n    // since navigation start. This isn't a perfect heuristic, but it's the\n    // best we can do until an API is available to support querying past\n    // visibilityState.\n    initHiddenTime();\n    trackChanges();\n  }\n  return {\n    get firstHiddenTime() {\n      return firstHiddenTime;\n    },\n  };\n};\n\n\n//# sourceMappingURL=getVisibilityWatcher.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZXRWaXNpYmlsaXR5V2F0Y2hlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0M7QUFDQzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkNBQU0sYUFBYSw2Q0FBTTtBQUMvQixzQkFBc0IsNkNBQU0sMkNBQTJDLDZDQUFNO0FBQzdFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUUsc0RBQVEsSUFBSSxXQUFXO0FBQ3pCO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVnQztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZGdpdHkteWllbGQtZnJvbnRlbmQvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZXRWaXNpYmlsaXR5V2F0Y2hlci5qcz9mYjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdJTkRPVyB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9vbkhpZGRlbi5qcyc7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5sZXQgZmlyc3RIaWRkZW5UaW1lID0gLTE7XG5cbmNvbnN0IGluaXRIaWRkZW5UaW1lID0gKCkgPT4ge1xuICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgaGlkZGVuIGFuZCBub3QgcHJlcmVuZGVyaW5nLCBhc3N1bWUgaXQgd2FzIGFsd2F5c1xuICAvLyBoaWRkZW4gYW5kIHRoZSBwYWdlIHdhcyBsb2FkZWQgaW4gdGhlIGJhY2tncm91bmQuXG4gIGlmIChXSU5ET1cuZG9jdW1lbnQgJiYgV0lORE9XLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkge1xuICAgIGZpcnN0SGlkZGVuVGltZSA9IFdJTkRPVy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nICYmICFXSU5ET1cuZG9jdW1lbnQucHJlcmVuZGVyaW5nID8gMCA6IEluZmluaXR5O1xuICB9XG59O1xuXG5jb25zdCB0cmFja0NoYW5nZXMgPSAoKSA9PiB7XG4gIC8vIFVwZGF0ZSB0aGUgdGltZSBpZi93aGVuIHRoZSBkb2N1bWVudCBiZWNvbWVzIGhpZGRlbi5cbiAgb25IaWRkZW4oKHsgdGltZVN0YW1wIH0pID0+IHtcbiAgICBmaXJzdEhpZGRlblRpbWUgPSB0aW1lU3RhbXA7XG4gIH0sIHRydWUpO1xufTtcblxuY29uc3QgZ2V0VmlzaWJpbGl0eVdhdGNoZXIgPSAoXG5cbikgPT4ge1xuICBpZiAoZmlyc3RIaWRkZW5UaW1lIDwgMCkge1xuICAgIC8vIElmIHRoZSBkb2N1bWVudCBpcyBoaWRkZW4gd2hlbiB0aGlzIGNvZGUgcnVucywgYXNzdW1lIGl0IHdhcyBoaWRkZW5cbiAgICAvLyBzaW5jZSBuYXZpZ2F0aW9uIHN0YXJ0LiBUaGlzIGlzbid0IGEgcGVyZmVjdCBoZXVyaXN0aWMsIGJ1dCBpdCdzIHRoZVxuICAgIC8vIGJlc3Qgd2UgY2FuIGRvIHVudGlsIGFuIEFQSSBpcyBhdmFpbGFibGUgdG8gc3VwcG9ydCBxdWVyeWluZyBwYXN0XG4gICAgLy8gdmlzaWJpbGl0eVN0YXRlLlxuICAgIGluaXRIaWRkZW5UaW1lKCk7XG4gICAgdHJhY2tDaGFuZ2VzKCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBnZXQgZmlyc3RIaWRkZW5UaW1lKCkge1xuICAgICAgcmV0dXJuIGZpcnN0SGlkZGVuVGltZTtcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IHsgZ2V0VmlzaWJpbGl0eVdhdGNoZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFZpc2liaWxpdHlXYXRjaGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getVisibilityWatcher.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initMetric: () => (/* binding */ initMetric)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n/* harmony import */ var _generateUniqueID_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./generateUniqueID.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/generateUniqueID.js\");\n/* harmony import */ var _getActivationStart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getActivationStart.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getActivationStart.js\");\n/* harmony import */ var _getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getNavigationEntry.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js\");\n\n\n\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst initMetric = (name, value) => {\n  const navEntry = (0,_getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_0__.getNavigationEntry)();\n  let navigationType = 'navigate';\n\n  if (navEntry) {\n    if ((_types_js__WEBPACK_IMPORTED_MODULE_1__.WINDOW.document && _types_js__WEBPACK_IMPORTED_MODULE_1__.WINDOW.document.prerendering) || (0,_getActivationStart_js__WEBPACK_IMPORTED_MODULE_2__.getActivationStart)() > 0) {\n      navigationType = 'prerender';\n    } else {\n      navigationType = navEntry.type.replace(/_/g, '-') ;\n    }\n  }\n\n  return {\n    name,\n    value: typeof value === 'undefined' ? -1 : value,\n    rating: 'good', // Will be updated if the value changes.\n    delta: 0,\n    entries: [],\n    id: (0,_generateUniqueID_js__WEBPACK_IMPORTED_MODULE_3__.generateUniqueID)(),\n    navigationType,\n  };\n};\n\n\n//# sourceMappingURL=initMetric.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9pbml0TWV0cmljLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdDO0FBQ2lCO0FBQ0k7QUFDQTs7QUFFN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLDBFQUFrQjtBQUNyQzs7QUFFQTtBQUNBLFNBQVMsNkNBQU0sYUFBYSw2Q0FBTSwyQkFBMkIsMEVBQWtCO0FBQy9FO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7O0FBRXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2luaXRNZXRyaWMuanM/YjRjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXSU5ET1cgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVuaXF1ZUlEIH0gZnJvbSAnLi9nZW5lcmF0ZVVuaXF1ZUlELmpzJztcbmltcG9ydCB7IGdldEFjdGl2YXRpb25TdGFydCB9IGZyb20gJy4vZ2V0QWN0aXZhdGlvblN0YXJ0LmpzJztcbmltcG9ydCB7IGdldE5hdmlnYXRpb25FbnRyeSB9IGZyb20gJy4vZ2V0TmF2aWdhdGlvbkVudHJ5LmpzJztcblxuLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IGluaXRNZXRyaWMgPSAobmFtZSwgdmFsdWUpID0+IHtcbiAgY29uc3QgbmF2RW50cnkgPSBnZXROYXZpZ2F0aW9uRW50cnkoKTtcbiAgbGV0IG5hdmlnYXRpb25UeXBlID0gJ25hdmlnYXRlJztcblxuICBpZiAobmF2RW50cnkpIHtcbiAgICBpZiAoKFdJTkRPVy5kb2N1bWVudCAmJiBXSU5ET1cuZG9jdW1lbnQucHJlcmVuZGVyaW5nKSB8fCBnZXRBY3RpdmF0aW9uU3RhcnQoKSA+IDApIHtcbiAgICAgIG5hdmlnYXRpb25UeXBlID0gJ3ByZXJlbmRlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hdmlnYXRpb25UeXBlID0gbmF2RW50cnkudHlwZS5yZXBsYWNlKC9fL2csICctJykgO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICB2YWx1ZTogdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IC0xIDogdmFsdWUsXG4gICAgcmF0aW5nOiAnZ29vZCcsIC8vIFdpbGwgYmUgdXBkYXRlZCBpZiB0aGUgdmFsdWUgY2hhbmdlcy5cbiAgICBkZWx0YTogMCxcbiAgICBlbnRyaWVzOiBbXSxcbiAgICBpZDogZ2VuZXJhdGVVbmlxdWVJRCgpLFxuICAgIG5hdmlnYXRpb25UeXBlLFxuICB9O1xufTtcblxuZXhwb3J0IHsgaW5pdE1ldHJpYyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdE1ldHJpYy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   observe: () => (/* binding */ observe)\n/* harmony export */ });\n/**\n * Takes a performance entry type and a callback function, and creates a\n * `PerformanceObserver` instance that will observe the specified entry type\n * with buffering enabled and call the callback _for each entry_.\n *\n * This function also feature-detects entry support and wraps the logic in a\n * try/catch to avoid errors in unsupporting browsers.\n */\nconst observe = (\n  type,\n  callback,\n  opts,\n) => {\n  try {\n    if (PerformanceObserver.supportedEntryTypes.includes(type)) {\n      const po = new PerformanceObserver(list => {\n        callback(list.getEntries() );\n      });\n      po.observe(\n        Object.assign(\n          {\n            type,\n            buffered: true,\n          },\n          opts || {},\n        ) ,\n      );\n      return po;\n    }\n  } catch (e) {\n    // Do nothing.\n  }\n  return;\n};\n\n\n//# sourceMappingURL=observe.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9vYnNlcnZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZGdpdHkteWllbGQtZnJvbnRlbmQvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9vYnNlcnZlLmpzP2ZmYmEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUYWtlcyBhIHBlcmZvcm1hbmNlIGVudHJ5IHR5cGUgYW5kIGEgY2FsbGJhY2sgZnVuY3Rpb24sIGFuZCBjcmVhdGVzIGFcbiAqIGBQZXJmb3JtYW5jZU9ic2VydmVyYCBpbnN0YW5jZSB0aGF0IHdpbGwgb2JzZXJ2ZSB0aGUgc3BlY2lmaWVkIGVudHJ5IHR5cGVcbiAqIHdpdGggYnVmZmVyaW5nIGVuYWJsZWQgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIF9mb3IgZWFjaCBlbnRyeV8uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGZlYXR1cmUtZGV0ZWN0cyBlbnRyeSBzdXBwb3J0IGFuZCB3cmFwcyB0aGUgbG9naWMgaW4gYVxuICogdHJ5L2NhdGNoIHRvIGF2b2lkIGVycm9ycyBpbiB1bnN1cHBvcnRpbmcgYnJvd3NlcnMuXG4gKi9cbmNvbnN0IG9ic2VydmUgPSAoXG4gIHR5cGUsXG4gIGNhbGxiYWNrLFxuICBvcHRzLFxuKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgY29uc3QgcG8gPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihsaXN0ID0+IHtcbiAgICAgICAgY2FsbGJhY2sobGlzdC5nZXRFbnRyaWVzKCkgKTtcbiAgICAgIH0pO1xuICAgICAgcG8ub2JzZXJ2ZShcbiAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgYnVmZmVyZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRzIHx8IHt9LFxuICAgICAgICApICxcbiAgICAgICk7XG4gICAgICByZXR1cm4gcG87XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfVxuICByZXR1cm47XG59O1xuXG5leHBvcnQgeyBvYnNlcnZlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onHidden: () => (/* binding */ onHidden)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst onHidden = (cb, once) => {\n  const onHiddenOrPageHide = (event) => {\n    if (event.type === 'pagehide' || _types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.visibilityState === 'hidden') {\n      cb(event);\n      if (once) {\n        removeEventListener('visibilitychange', onHiddenOrPageHide, true);\n        removeEventListener('pagehide', onHiddenOrPageHide, true);\n      }\n    }\n  };\n\n  if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document) {\n    addEventListener('visibilitychange', onHiddenOrPageHide, true);\n    // Some browsers have buggy implementations of visibilitychange,\n    // so we use pagehide in addition, just to be safe.\n    addEventListener('pagehide', onHiddenOrPageHide, true);\n  }\n};\n\n\n//# sourceMappingURL=onHidden.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9vbkhpZGRlbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3Qzs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQ0FBcUMsNkNBQU07QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSw2Q0FBTTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0I7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9saWIvb25IaWRkZW4uanM/ZDcxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXSU5ET1cgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBvbkhpZGRlbiA9IChjYiwgb25jZSkgPT4ge1xuICBjb25zdCBvbkhpZGRlbk9yUGFnZUhpZGUgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3BhZ2VoaWRlJyB8fCBXSU5ET1cuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgY2IoZXZlbnQpO1xuICAgICAgaWYgKG9uY2UpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uSGlkZGVuT3JQYWdlSGlkZSwgdHJ1ZSk7XG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhZ2VoaWRlJywgb25IaWRkZW5PclBhZ2VIaWRlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaWYgKFdJTkRPVy5kb2N1bWVudCkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvbkhpZGRlbk9yUGFnZUhpZGUsIHRydWUpO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgaGF2ZSBidWdneSBpbXBsZW1lbnRhdGlvbnMgb2YgdmlzaWJpbGl0eWNoYW5nZSxcbiAgICAvLyBzbyB3ZSB1c2UgcGFnZWhpZGUgaW4gYWRkaXRpb24sIGp1c3QgdG8gYmUgc2FmZS5cbiAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlaGlkZScsIG9uSGlkZGVuT3JQYWdlSGlkZSwgdHJ1ZSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IG9uSGlkZGVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbkhpZGRlbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/onHidden.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/polyfills/interactionCountPolyfill.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/polyfills/interactionCountPolyfill.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getInteractionCount: () => (/* binding */ getInteractionCount),\n/* harmony export */   initInteractionCountPolyfill: () => (/* binding */ initInteractionCountPolyfill)\n/* harmony export */ });\n/* harmony import */ var _observe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../observe.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/observe.js\");\n\n\nlet interactionCountEstimate = 0;\nlet minKnownInteractionId = Infinity;\nlet maxKnownInteractionId = 0;\n\nconst updateEstimate = (entries) => {\n  (entries ).forEach(e => {\n    if (e.interactionId) {\n      minKnownInteractionId = Math.min(minKnownInteractionId, e.interactionId);\n      maxKnownInteractionId = Math.max(maxKnownInteractionId, e.interactionId);\n\n      interactionCountEstimate = maxKnownInteractionId ? (maxKnownInteractionId - minKnownInteractionId) / 7 + 1 : 0;\n    }\n  });\n};\n\nlet po;\n\n/**\n * Returns the `interactionCount` value using the native API (if available)\n * or the polyfill estimate in this module.\n */\nconst getInteractionCount = () => {\n  return po ? interactionCountEstimate : performance.interactionCount || 0;\n};\n\n/**\n * Feature detects native support or initializes the polyfill if needed.\n */\nconst initInteractionCountPolyfill = () => {\n  if ('interactionCount' in performance || po) return;\n\n  po = (0,_observe_js__WEBPACK_IMPORTED_MODULE_0__.observe)('event', updateEstimate, {\n    type: 'event',\n    buffered: true,\n    durationThreshold: 0,\n  } );\n};\n\n\n//# sourceMappingURL=interactionCountPolyfill.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9wb2x5ZmlsbHMvaW50ZXJhY3Rpb25Db3VudFBvbHlmaWxsLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3Qzs7QUFFeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sb0RBQU87QUFDZDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRTZEO0FBQzdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL3BvbHlmaWxscy9pbnRlcmFjdGlvbkNvdW50UG9seWZpbGwuanM/Mzg2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZlIH0gZnJvbSAnLi4vb2JzZXJ2ZS5qcyc7XG5cbmxldCBpbnRlcmFjdGlvbkNvdW50RXN0aW1hdGUgPSAwO1xubGV0IG1pbktub3duSW50ZXJhY3Rpb25JZCA9IEluZmluaXR5O1xubGV0IG1heEtub3duSW50ZXJhY3Rpb25JZCA9IDA7XG5cbmNvbnN0IHVwZGF0ZUVzdGltYXRlID0gKGVudHJpZXMpID0+IHtcbiAgKGVudHJpZXMgKS5mb3JFYWNoKGUgPT4ge1xuICAgIGlmIChlLmludGVyYWN0aW9uSWQpIHtcbiAgICAgIG1pbktub3duSW50ZXJhY3Rpb25JZCA9IE1hdGgubWluKG1pbktub3duSW50ZXJhY3Rpb25JZCwgZS5pbnRlcmFjdGlvbklkKTtcbiAgICAgIG1heEtub3duSW50ZXJhY3Rpb25JZCA9IE1hdGgubWF4KG1heEtub3duSW50ZXJhY3Rpb25JZCwgZS5pbnRlcmFjdGlvbklkKTtcblxuICAgICAgaW50ZXJhY3Rpb25Db3VudEVzdGltYXRlID0gbWF4S25vd25JbnRlcmFjdGlvbklkID8gKG1heEtub3duSW50ZXJhY3Rpb25JZCAtIG1pbktub3duSW50ZXJhY3Rpb25JZCkgLyA3ICsgMSA6IDA7XG4gICAgfVxuICB9KTtcbn07XG5cbmxldCBwbztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBgaW50ZXJhY3Rpb25Db3VudGAgdmFsdWUgdXNpbmcgdGhlIG5hdGl2ZSBBUEkgKGlmIGF2YWlsYWJsZSlcbiAqIG9yIHRoZSBwb2x5ZmlsbCBlc3RpbWF0ZSBpbiB0aGlzIG1vZHVsZS5cbiAqL1xuY29uc3QgZ2V0SW50ZXJhY3Rpb25Db3VudCA9ICgpID0+IHtcbiAgcmV0dXJuIHBvID8gaW50ZXJhY3Rpb25Db3VudEVzdGltYXRlIDogcGVyZm9ybWFuY2UuaW50ZXJhY3Rpb25Db3VudCB8fCAwO1xufTtcblxuLyoqXG4gKiBGZWF0dXJlIGRldGVjdHMgbmF0aXZlIHN1cHBvcnQgb3IgaW5pdGlhbGl6ZXMgdGhlIHBvbHlmaWxsIGlmIG5lZWRlZC5cbiAqL1xuY29uc3QgaW5pdEludGVyYWN0aW9uQ291bnRQb2x5ZmlsbCA9ICgpID0+IHtcbiAgaWYgKCdpbnRlcmFjdGlvbkNvdW50JyBpbiBwZXJmb3JtYW5jZSB8fCBwbykgcmV0dXJuO1xuXG4gIHBvID0gb2JzZXJ2ZSgnZXZlbnQnLCB1cGRhdGVFc3RpbWF0ZSwge1xuICAgIHR5cGU6ICdldmVudCcsXG4gICAgYnVmZmVyZWQ6IHRydWUsXG4gICAgZHVyYXRpb25UaHJlc2hvbGQ6IDAsXG4gIH0gKTtcbn07XG5cbmV4cG9ydCB7IGdldEludGVyYWN0aW9uQ291bnQsIGluaXRJbnRlcmFjdGlvbkNvdW50UG9seWZpbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyYWN0aW9uQ291bnRQb2x5ZmlsbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/polyfills/interactionCountPolyfill.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/onTTFB.js":
/*!*********************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/onTTFB.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onTTFB: () => (/* binding */ onTTFB)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/types.js\");\n/* harmony import */ var _lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/bindReporter.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/bindReporter.js\");\n/* harmony import */ var _lib_getActivationStart_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/getActivationStart.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getActivationStart.js\");\n/* harmony import */ var _lib_getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/getNavigationEntry.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/getNavigationEntry.js\");\n/* harmony import */ var _lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/initMetric.js */ \"(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/lib/initMetric.js\");\n\n\n\n\n\n\n/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Runs in the next task after the page is done loading and/or prerendering.\n * @param callback\n */\nconst whenReady = (callback) => {\n  if (!_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document) {\n    return;\n  }\n\n  if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.prerendering) {\n    addEventListener('prerenderingchange', () => whenReady(callback), true);\n  } else if (_types_js__WEBPACK_IMPORTED_MODULE_0__.WINDOW.document.readyState !== 'complete') {\n    addEventListener('load', () => whenReady(callback), true);\n  } else {\n    // Queue a task so the callback runs after `loadEventEnd`.\n    setTimeout(callback, 0);\n  }\n};\n\n/**\n * Calculates the [TTFB](https://web.dev/time-to-first-byte/) value for the\n * current page and calls the `callback` function once the page has loaded,\n * along with the relevant `navigation` performance entry used to determine the\n * value. The reported value is a `DOMHighResTimeStamp`.\n *\n * Note, this function waits until after the page is loaded to call `callback`\n * in order to ensure all properties of the `navigation` entry are populated.\n * This is useful if you want to report on other metrics exposed by the\n * [Navigation Timing API](https://w3c.github.io/navigation-timing/). For\n * example, the TTFB metric starts from the page's [time\n * origin](https://www.w3.org/TR/hr-time-2/#sec-time-origin), which means it\n * includes time spent on DNS lookup, connection negotiation, network latency,\n * and server processing time.\n */\nconst onTTFB = (onReport, opts) => {\n  // Set defaults\n  // eslint-disable-next-line no-param-reassign\n  opts = opts || {};\n\n  // https://web.dev/ttfb/#what-is-a-good-ttfb-score\n  // const thresholds = [800, 1800];\n\n  const metric = (0,_lib_initMetric_js__WEBPACK_IMPORTED_MODULE_1__.initMetric)('TTFB');\n  const report = (0,_lib_bindReporter_js__WEBPACK_IMPORTED_MODULE_2__.bindReporter)(onReport, metric, opts.reportAllChanges);\n\n  whenReady(() => {\n    const navEntry = (0,_lib_getNavigationEntry_js__WEBPACK_IMPORTED_MODULE_3__.getNavigationEntry)() ;\n\n    if (navEntry) {\n      // The activationStart reference is used because TTFB should be\n      // relative to page activation rather than navigation start if the\n      // page was prerendered. But in cases where `activationStart` occurs\n      // after the first byte is received, this time should be clamped at 0.\n      metric.value = Math.max(navEntry.responseStart - (0,_lib_getActivationStart_js__WEBPACK_IMPORTED_MODULE_4__.getActivationStart)(), 0);\n\n      // In some cases the value reported is negative or is larger\n      // than the current page time. Ignore these cases:\n      // https://github.com/GoogleChrome/web-vitals/issues/137\n      // https://github.com/GoogleChrome/web-vitals/issues/162\n      if (metric.value < 0 || metric.value > performance.now()) return;\n\n      metric.entries = [navEntry];\n\n      report(true);\n    }\n  });\n};\n\n\n//# sourceMappingURL=onTTFB.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL29uVFRGQi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUM7QUFDZ0I7QUFDWTtBQUNBO0FBQ2hCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sNkNBQU07QUFDYjtBQUNBOztBQUVBLE1BQU0sNkNBQU07QUFDWjtBQUNBLElBQUksU0FBUyw2Q0FBTTtBQUNuQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQiw4REFBVTtBQUMzQixpQkFBaUIsa0VBQVk7O0FBRTdCO0FBQ0EscUJBQXFCLDhFQUFrQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCw4RUFBa0I7O0FBRXpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWRnaXR5LXlpZWxkLWZyb250ZW5kLy4uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9vblRURkIuanM/NDY4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXSU5ET1cgfSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBiaW5kUmVwb3J0ZXIgfSBmcm9tICcuL2xpYi9iaW5kUmVwb3J0ZXIuanMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZhdGlvblN0YXJ0IH0gZnJvbSAnLi9saWIvZ2V0QWN0aXZhdGlvblN0YXJ0LmpzJztcbmltcG9ydCB7IGdldE5hdmlnYXRpb25FbnRyeSB9IGZyb20gJy4vbGliL2dldE5hdmlnYXRpb25FbnRyeS5qcyc7XG5pbXBvcnQgeyBpbml0TWV0cmljIH0gZnJvbSAnLi9saWIvaW5pdE1ldHJpYy5qcyc7XG5cbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFJ1bnMgaW4gdGhlIG5leHQgdGFzayBhZnRlciB0aGUgcGFnZSBpcyBkb25lIGxvYWRpbmcgYW5kL29yIHByZXJlbmRlcmluZy5cbiAqIEBwYXJhbSBjYWxsYmFja1xuICovXG5jb25zdCB3aGVuUmVhZHkgPSAoY2FsbGJhY2spID0+IHtcbiAgaWYgKCFXSU5ET1cuZG9jdW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoV0lORE9XLmRvY3VtZW50LnByZXJlbmRlcmluZykge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3ByZXJlbmRlcmluZ2NoYW5nZScsICgpID0+IHdoZW5SZWFkeShjYWxsYmFjayksIHRydWUpO1xuICB9IGVsc2UgaWYgKFdJTkRPVy5kb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHdoZW5SZWFkeShjYWxsYmFjayksIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIC8vIFF1ZXVlIGEgdGFzayBzbyB0aGUgY2FsbGJhY2sgcnVucyBhZnRlciBgbG9hZEV2ZW50RW5kYC5cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBbVFRGQl0oaHR0cHM6Ly93ZWIuZGV2L3RpbWUtdG8tZmlyc3QtYnl0ZS8pIHZhbHVlIGZvciB0aGVcbiAqIGN1cnJlbnQgcGFnZSBhbmQgY2FsbHMgdGhlIGBjYWxsYmFja2AgZnVuY3Rpb24gb25jZSB0aGUgcGFnZSBoYXMgbG9hZGVkLFxuICogYWxvbmcgd2l0aCB0aGUgcmVsZXZhbnQgYG5hdmlnYXRpb25gIHBlcmZvcm1hbmNlIGVudHJ5IHVzZWQgdG8gZGV0ZXJtaW5lIHRoZVxuICogdmFsdWUuIFRoZSByZXBvcnRlZCB2YWx1ZSBpcyBhIGBET01IaWdoUmVzVGltZVN0YW1wYC5cbiAqXG4gKiBOb3RlLCB0aGlzIGZ1bmN0aW9uIHdhaXRzIHVudGlsIGFmdGVyIHRoZSBwYWdlIGlzIGxvYWRlZCB0byBjYWxsIGBjYWxsYmFja2BcbiAqIGluIG9yZGVyIHRvIGVuc3VyZSBhbGwgcHJvcGVydGllcyBvZiB0aGUgYG5hdmlnYXRpb25gIGVudHJ5IGFyZSBwb3B1bGF0ZWQuXG4gKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byByZXBvcnQgb24gb3RoZXIgbWV0cmljcyBleHBvc2VkIGJ5IHRoZVxuICogW05hdmlnYXRpb24gVGltaW5nIEFQSV0oaHR0cHM6Ly93M2MuZ2l0aHViLmlvL25hdmlnYXRpb24tdGltaW5nLykuIEZvclxuICogZXhhbXBsZSwgdGhlIFRURkIgbWV0cmljIHN0YXJ0cyBmcm9tIHRoZSBwYWdlJ3MgW3RpbWVcbiAqIG9yaWdpbl0oaHR0cHM6Ly93d3cudzMub3JnL1RSL2hyLXRpbWUtMi8jc2VjLXRpbWUtb3JpZ2luKSwgd2hpY2ggbWVhbnMgaXRcbiAqIGluY2x1ZGVzIHRpbWUgc3BlbnQgb24gRE5TIGxvb2t1cCwgY29ubmVjdGlvbiBuZWdvdGlhdGlvbiwgbmV0d29yayBsYXRlbmN5LFxuICogYW5kIHNlcnZlciBwcm9jZXNzaW5nIHRpbWUuXG4gKi9cbmNvbnN0IG9uVFRGQiA9IChvblJlcG9ydCwgb3B0cykgPT4ge1xuICAvLyBTZXQgZGVmYXVsdHNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIC8vIGh0dHBzOi8vd2ViLmRldi90dGZiLyN3aGF0LWlzLWEtZ29vZC10dGZiLXNjb3JlXG4gIC8vIGNvbnN0IHRocmVzaG9sZHMgPSBbODAwLCAxODAwXTtcblxuICBjb25zdCBtZXRyaWMgPSBpbml0TWV0cmljKCdUVEZCJyk7XG4gIGNvbnN0IHJlcG9ydCA9IGJpbmRSZXBvcnRlcihvblJlcG9ydCwgbWV0cmljLCBvcHRzLnJlcG9ydEFsbENoYW5nZXMpO1xuXG4gIHdoZW5SZWFkeSgoKSA9PiB7XG4gICAgY29uc3QgbmF2RW50cnkgPSBnZXROYXZpZ2F0aW9uRW50cnkoKSA7XG5cbiAgICBpZiAobmF2RW50cnkpIHtcbiAgICAgIC8vIFRoZSBhY3RpdmF0aW9uU3RhcnQgcmVmZXJlbmNlIGlzIHVzZWQgYmVjYXVzZSBUVEZCIHNob3VsZCBiZVxuICAgICAgLy8gcmVsYXRpdmUgdG8gcGFnZSBhY3RpdmF0aW9uIHJhdGhlciB0aGFuIG5hdmlnYXRpb24gc3RhcnQgaWYgdGhlXG4gICAgICAvLyBwYWdlIHdhcyBwcmVyZW5kZXJlZC4gQnV0IGluIGNhc2VzIHdoZXJlIGBhY3RpdmF0aW9uU3RhcnRgIG9jY3Vyc1xuICAgICAgLy8gYWZ0ZXIgdGhlIGZpcnN0IGJ5dGUgaXMgcmVjZWl2ZWQsIHRoaXMgdGltZSBzaG91bGQgYmUgY2xhbXBlZCBhdCAwLlxuICAgICAgbWV0cmljLnZhbHVlID0gTWF0aC5tYXgobmF2RW50cnkucmVzcG9uc2VTdGFydCAtIGdldEFjdGl2YXRpb25TdGFydCgpLCAwKTtcblxuICAgICAgLy8gSW4gc29tZSBjYXNlcyB0aGUgdmFsdWUgcmVwb3J0ZWQgaXMgbmVnYXRpdmUgb3IgaXMgbGFyZ2VyXG4gICAgICAvLyB0aGFuIHRoZSBjdXJyZW50IHBhZ2UgdGltZS4gSWdub3JlIHRoZXNlIGNhc2VzOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93ZWItdml0YWxzL2lzc3Vlcy8xMzdcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd2ViLXZpdGFscy9pc3N1ZXMvMTYyXG4gICAgICBpZiAobWV0cmljLnZhbHVlIDwgMCB8fCBtZXRyaWMudmFsdWUgPiBwZXJmb3JtYW5jZS5ub3coKSkgcmV0dXJuO1xuXG4gICAgICBtZXRyaWMuZW50cmllcyA9IFtuYXZFbnRyeV07XG5cbiAgICAgIHJlcG9ydCh0cnVlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgb25UVEZCIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vblRURkIuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/browser/web-vitals/onTTFB.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js":
/*!**************************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/common/debug-build.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEBUG_BUILD: () => (/* binding */ DEBUG_BUILD)\n/* harmony export */ });\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__);\n\n\n//# sourceMappingURL=debug-build.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vY29tbW9uL2RlYnVnLWJ1aWxkLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVkZ2l0eS15aWVsZC1mcm9udGVuZC8uLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9jb21tb24vZGVidWctYnVpbGQuanM/ZTA5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgc2VydmVzIGFzIGEgYnVpbGQgdGltZSBmbGFnIHRoYXQgd2lsbCBiZSB0cnVlIGJ5IGRlZmF1bHQsIGJ1dCBmYWxzZSBpbiBub24tZGVidWcgYnVpbGRzIG9yIGlmIHVzZXJzIHJlcGxhY2UgYF9fU0VOVFJZX0RFQlVHX19gIGluIHRoZWlyIGdlbmVyYXRlZCBjb2RlLlxuICpcbiAqIEFUVEVOVElPTjogVGhpcyBjb25zdGFudCBtdXN0IG5ldmVyIGNyb3NzIHBhY2thZ2UgYm91bmRhcmllcyAoaS5lLiBiZSBleHBvcnRlZCkgdG8gZ3VhcmFudGVlIHRoYXQgaXQgY2FuIGJlIHVzZWQgZm9yIHRyZWUgc2hha2luZy5cbiAqL1xuY29uc3QgREVCVUdfQlVJTEQgPSAodHlwZW9mIF9fU0VOVFJZX0RFQlVHX18gPT09ICd1bmRlZmluZWQnIHx8IF9fU0VOVFJZX0RFQlVHX18pO1xuXG5leHBvcnQgeyBERUJVR19CVUlMRCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVidWctYnVpbGQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/common/debug-build.js\n");

/***/ }),

/***/ "(ssr)/../node_modules/@sentry-internal/tracing/esm/common/fetch.js":
/*!********************************************************************!*\
  !*** ../node_modules/@sentry-internal/tracing/esm/common/fetch.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addTracingHeadersToFetchRequest: () => (/* binding */ addTracingHeadersToFetchRequest),\n/* harmony export */   instrumentFetchRequest: () => (/* binding */ instrumentFetchRequest)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/hasTracingEnabled.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/exports.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/trace.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/semanticAttributes.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/hub.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/utils/spanUtils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/dynamicSamplingContext.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sentry/core */ \"(ssr)/../node_modules/@sentry/core/esm/tracing/spanstatus.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/url.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/tracing.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/baggage.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sentry/utils */ \"(ssr)/../node_modules/@sentry/utils/esm/is.js\");\n\n\n\n/**\n * Create and track fetch request spans for usage in combination with `addInstrumentationHandler`.\n *\n * @returns Span if a span was created, otherwise void.\n */\nfunction instrumentFetchRequest(\n  handlerData,\n  shouldCreateSpan,\n  shouldAttachHeaders,\n  spans,\n  spanOrigin = 'auto.http.browser',\n) {\n  if (!(0,_sentry_core__WEBPACK_IMPORTED_MODULE_0__.hasTracingEnabled)() || !handlerData.fetchData) {\n    return undefined;\n  }\n\n  const shouldCreateSpanResult = shouldCreateSpan(handlerData.fetchData.url);\n\n  if (handlerData.endTimestamp && shouldCreateSpanResult) {\n    const spanId = handlerData.fetchData.__span;\n    if (!spanId) return;\n\n    const span = spans[spanId];\n    if (span) {\n      endSpan(span, handlerData);\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete spans[spanId];\n    }\n    return undefined;\n  }\n\n  const scope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getCurrentScope)();\n  const client = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_1__.getClient)();\n\n  const { method, url } = handlerData.fetchData;\n\n  const fullUrl = getFullURL(url);\n  const host = fullUrl ? (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.parseUrl)(fullUrl).host : undefined;\n\n  const span = shouldCreateSpanResult\n    ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.startInactiveSpan)({\n        name: `${method} ${url}`,\n        onlyIfParent: true,\n        attributes: {\n          url,\n          type: 'fetch',\n          'http.method': method,\n          'http.url': fullUrl,\n          'server.address': host,\n          [_sentry_core__WEBPACK_IMPORTED_MODULE_4__.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: spanOrigin,\n        },\n        op: 'http.client',\n      })\n    : undefined;\n\n  if (span) {\n    handlerData.fetchData.__span = span.spanContext().spanId;\n    spans[span.spanContext().spanId] = span;\n  }\n\n  if (shouldAttachHeaders(handlerData.fetchData.url) && client) {\n    const request = handlerData.args[0];\n\n    // In case the user hasn't set the second argument of a fetch call we default it to `{}`.\n    handlerData.args[1] = handlerData.args[1] || {};\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const options = handlerData.args[1];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n    options.headers = addTracingHeadersToFetchRequest(request, client, scope, options, span);\n  }\n\n  return span;\n}\n\n/**\n * Adds sentry-trace and baggage headers to the various forms of fetch headers\n */\nfunction addTracingHeadersToFetchRequest(\n  request, // unknown is actually type Request but we can't export DOM types from this package,\n  client,\n  scope,\n  options\n\n,\n  requestSpan,\n) {\n  // eslint-disable-next-line deprecation/deprecation\n  const span = requestSpan || scope.getSpan();\n\n  const isolationScope = (0,_sentry_core__WEBPACK_IMPORTED_MODULE_5__.getIsolationScope)();\n\n  const { traceId, spanId, sampled, dsc } = {\n    ...isolationScope.getPropagationContext(),\n    ...scope.getPropagationContext(),\n  };\n\n  const sentryTraceHeader = span ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_6__.spanToTraceHeader)(span) : (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_7__.generateSentryTraceHeader)(traceId, spanId, sampled);\n\n  const sentryBaggageHeader = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_8__.dynamicSamplingContextToSentryBaggageHeader)(\n    dsc ||\n      (span ? (0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.getDynamicSamplingContextFromSpan)(span) : (0,_sentry_core__WEBPACK_IMPORTED_MODULE_9__.getDynamicSamplingContextFromClient)(traceId, client, scope)),\n  );\n\n  const headers =\n    options.headers ||\n    (typeof Request !== 'undefined' && (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_10__.isInstanceOf)(request, Request) ? (request ).headers : undefined);\n\n  if (!headers) {\n    return { 'sentry-trace': sentryTraceHeader, baggage: sentryBaggageHeader };\n  } else if (typeof Headers !== 'undefined' && (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_10__.isInstanceOf)(headers, Headers)) {\n    const newHeaders = new Headers(headers );\n\n    newHeaders.append('sentry-trace', sentryTraceHeader);\n\n    if (sentryBaggageHeader) {\n      // If the same header is appended multiple times the browser will merge the values into a single request header.\n      // Its therefore safe to simply push a \"baggage\" entry, even though there might already be another baggage header.\n      newHeaders.append(_sentry_utils__WEBPACK_IMPORTED_MODULE_8__.BAGGAGE_HEADER_NAME, sentryBaggageHeader);\n    }\n\n    return newHeaders ;\n  } else if (Array.isArray(headers)) {\n    const newHeaders = [...headers, ['sentry-trace', sentryTraceHeader]];\n\n    if (sentryBaggageHeader) {\n      // If there are multiple entries with the same key, the browser will merge the values into a single request header.\n      // Its therefore safe to simply push a \"baggage\" entry, even though there might already be another baggage header.\n      newHeaders.push([_sentry_utils__WEBPACK_IMPORTED_MODULE_8__.BAGGAGE_HEADER_NAME, sentryBaggageHeader]);\n    }\n\n    return newHeaders ;\n  } else {\n    const existingBaggageHeader = 'baggage' in headers ? headers.baggage : undefined;\n    const newBaggageHeaders = [];\n\n    if (Array.isArray(existingBaggageHeader)) {\n      newBaggageHeaders.push(...existingBaggageHeader);\n    } else if (existingBaggageHeader) {\n      newBaggageHeaders.push(existingBaggageHeader);\n    }\n\n    if (sentryBaggageHeader) {\n      newBaggageHeaders.push(sentryBaggageHeader);\n    }\n\n    return {\n      ...(headers ),\n      'sentry-trace': sentryTraceHeader,\n      baggage: newBaggageHeaders.length > 0 ? newBaggageHeaders.join(',') : undefined,\n    };\n  }\n}\n\nfunction getFullURL(url) {\n  try {\n    const parsed = new URL(url);\n    return parsed.href;\n  } catch (e) {\n    return undefined;\n  }\n}\n\nfunction endSpan(span, handlerData) {\n  if (handlerData.response) {\n    (0,_sentry_core__WEBPACK_IMPORTED_MODULE_11__.setHttpStatus)(span, handlerData.response.status);\n\n    const contentLength =\n      handlerData.response && handlerData.response.headers && handlerData.response.headers.get('content-length');\n\n    if (contentLength) {\n      const contentLengthNum = parseInt(contentLength);\n      if (contentLengthNum > 0) {\n        span.setAttribute('http.response_content_length', contentLengthNum);\n      }\n    }\n  } else if (handlerData.error) {\n    span.setStatus('internal_error');\n  }\n  span.end();\n}\n\n\n//# sourceMappingURL=fetch.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vY29tbW9uL2ZldGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStQO0FBQzNHOztBQUVwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLCtEQUFpQjtBQUN4QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQiw2REFBZTtBQUMvQixpQkFBaUIsdURBQVM7O0FBRTFCLFVBQVUsY0FBYzs7QUFFeEI7QUFDQSx5QkFBeUIsdURBQVE7O0FBRWpDO0FBQ0EsTUFBTSwrREFBaUI7QUFDdkIsaUJBQWlCLFFBQVEsRUFBRSxJQUFJO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwRUFBZ0M7QUFDM0MsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMkZBQTJGO0FBQzNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiwrREFBaUI7O0FBRTFDLFVBQVUsZ0NBQWdDO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUMsK0RBQWlCLFNBQVMsd0VBQXlCOztBQUV0Riw4QkFBOEIsMEZBQTJDO0FBQ3pFO0FBQ0EsY0FBYywrRUFBaUMsU0FBUyxpRkFBbUM7QUFDM0Y7O0FBRUE7QUFDQTtBQUNBLHVDQUF1Qyw0REFBWTs7QUFFbkQ7QUFDQSxhQUFhO0FBQ2IsSUFBSSwyQ0FBMkMsNERBQVk7QUFDM0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDhEQUFtQjtBQUMzQzs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQW1CO0FBQzFDOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksNERBQWE7O0FBRWpCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVtRTtBQUNuRSIsInNvdXJjZXMiOlsid2VicGFjazovL2xlZGdpdHkteWllbGQtZnJvbnRlbmQvLi4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vY29tbW9uL2ZldGNoLmpzP2JkODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzVHJhY2luZ0VuYWJsZWQsIGdldEN1cnJlbnRTY29wZSwgZ2V0Q2xpZW50LCBzdGFydEluYWN0aXZlU3BhbiwgU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9PUklHSU4sIGdldElzb2xhdGlvblNjb3BlLCBzcGFuVG9UcmFjZUhlYWRlciwgZ2V0RHluYW1pY1NhbXBsaW5nQ29udGV4dEZyb21TcGFuLCBnZXREeW5hbWljU2FtcGxpbmdDb250ZXh0RnJvbUNsaWVudCwgc2V0SHR0cFN0YXR1cyB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBwYXJzZVVybCwgZ2VuZXJhdGVTZW50cnlUcmFjZUhlYWRlciwgZHluYW1pY1NhbXBsaW5nQ29udGV4dFRvU2VudHJ5QmFnZ2FnZUhlYWRlciwgaXNJbnN0YW5jZU9mLCBCQUdHQUdFX0hFQURFUl9OQU1FIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuZCB0cmFjayBmZXRjaCByZXF1ZXN0IHNwYW5zIGZvciB1c2FnZSBpbiBjb21iaW5hdGlvbiB3aXRoIGBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyYC5cbiAqXG4gKiBAcmV0dXJucyBTcGFuIGlmIGEgc3BhbiB3YXMgY3JlYXRlZCwgb3RoZXJ3aXNlIHZvaWQuXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRGZXRjaFJlcXVlc3QoXG4gIGhhbmRsZXJEYXRhLFxuICBzaG91bGRDcmVhdGVTcGFuLFxuICBzaG91bGRBdHRhY2hIZWFkZXJzLFxuICBzcGFucyxcbiAgc3Bhbk9yaWdpbiA9ICdhdXRvLmh0dHAuYnJvd3NlcicsXG4pIHtcbiAgaWYgKCFoYXNUcmFjaW5nRW5hYmxlZCgpIHx8ICFoYW5kbGVyRGF0YS5mZXRjaERhdGEpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3Qgc2hvdWxkQ3JlYXRlU3BhblJlc3VsdCA9IHNob3VsZENyZWF0ZVNwYW4oaGFuZGxlckRhdGEuZmV0Y2hEYXRhLnVybCk7XG5cbiAgaWYgKGhhbmRsZXJEYXRhLmVuZFRpbWVzdGFtcCAmJiBzaG91bGRDcmVhdGVTcGFuUmVzdWx0KSB7XG4gICAgY29uc3Qgc3BhbklkID0gaGFuZGxlckRhdGEuZmV0Y2hEYXRhLl9fc3BhbjtcbiAgICBpZiAoIXNwYW5JZCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3BhbiA9IHNwYW5zW3NwYW5JZF07XG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIGVuZFNwYW4oc3BhbiwgaGFuZGxlckRhdGEpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZVxuICAgICAgZGVsZXRlIHNwYW5zW3NwYW5JZF07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBzY29wZSA9IGdldEN1cnJlbnRTY29wZSgpO1xuICBjb25zdCBjbGllbnQgPSBnZXRDbGllbnQoKTtcblxuICBjb25zdCB7IG1ldGhvZCwgdXJsIH0gPSBoYW5kbGVyRGF0YS5mZXRjaERhdGE7XG5cbiAgY29uc3QgZnVsbFVybCA9IGdldEZ1bGxVUkwodXJsKTtcbiAgY29uc3QgaG9zdCA9IGZ1bGxVcmwgPyBwYXJzZVVybChmdWxsVXJsKS5ob3N0IDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHNwYW4gPSBzaG91bGRDcmVhdGVTcGFuUmVzdWx0XG4gICAgPyBzdGFydEluYWN0aXZlU3Bhbih7XG4gICAgICAgIG5hbWU6IGAke21ldGhvZH0gJHt1cmx9YCxcbiAgICAgICAgb25seUlmUGFyZW50OiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHR5cGU6ICdmZXRjaCcsXG4gICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICdodHRwLnVybCc6IGZ1bGxVcmwsXG4gICAgICAgICAgJ3NlcnZlci5hZGRyZXNzJzogaG9zdCxcbiAgICAgICAgICBbU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9PUklHSU5dOiBzcGFuT3JpZ2luLFxuICAgICAgICB9LFxuICAgICAgICBvcDogJ2h0dHAuY2xpZW50JyxcbiAgICAgIH0pXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgaWYgKHNwYW4pIHtcbiAgICBoYW5kbGVyRGF0YS5mZXRjaERhdGEuX19zcGFuID0gc3Bhbi5zcGFuQ29udGV4dCgpLnNwYW5JZDtcbiAgICBzcGFuc1tzcGFuLnNwYW5Db250ZXh0KCkuc3BhbklkXSA9IHNwYW47XG4gIH1cblxuICBpZiAoc2hvdWxkQXR0YWNoSGVhZGVycyhoYW5kbGVyRGF0YS5mZXRjaERhdGEudXJsKSAmJiBjbGllbnQpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaGFuZGxlckRhdGEuYXJnc1swXTtcblxuICAgIC8vIEluIGNhc2UgdGhlIHVzZXIgaGFzbid0IHNldCB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIGEgZmV0Y2ggY2FsbCB3ZSBkZWZhdWx0IGl0IHRvIGB7fWAuXG4gICAgaGFuZGxlckRhdGEuYXJnc1sxXSA9IGhhbmRsZXJEYXRhLmFyZ3NbMV0gfHwge307XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IG9wdGlvbnMgPSBoYW5kbGVyRGF0YS5hcmdzWzFdO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IGFkZFRyYWNpbmdIZWFkZXJzVG9GZXRjaFJlcXVlc3QocmVxdWVzdCwgY2xpZW50LCBzY29wZSwgb3B0aW9ucywgc3Bhbik7XG4gIH1cblxuICByZXR1cm4gc3Bhbjtcbn1cblxuLyoqXG4gKiBBZGRzIHNlbnRyeS10cmFjZSBhbmQgYmFnZ2FnZSBoZWFkZXJzIHRvIHRoZSB2YXJpb3VzIGZvcm1zIG9mIGZldGNoIGhlYWRlcnNcbiAqL1xuZnVuY3Rpb24gYWRkVHJhY2luZ0hlYWRlcnNUb0ZldGNoUmVxdWVzdChcbiAgcmVxdWVzdCwgLy8gdW5rbm93biBpcyBhY3R1YWxseSB0eXBlIFJlcXVlc3QgYnV0IHdlIGNhbid0IGV4cG9ydCBET00gdHlwZXMgZnJvbSB0aGlzIHBhY2thZ2UsXG4gIGNsaWVudCxcbiAgc2NvcGUsXG4gIG9wdGlvbnNcblxuLFxuICByZXF1ZXN0U3Bhbixcbikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgY29uc3Qgc3BhbiA9IHJlcXVlc3RTcGFuIHx8IHNjb3BlLmdldFNwYW4oKTtcblxuICBjb25zdCBpc29sYXRpb25TY29wZSA9IGdldElzb2xhdGlvblNjb3BlKCk7XG5cbiAgY29uc3QgeyB0cmFjZUlkLCBzcGFuSWQsIHNhbXBsZWQsIGRzYyB9ID0ge1xuICAgIC4uLmlzb2xhdGlvblNjb3BlLmdldFByb3BhZ2F0aW9uQ29udGV4dCgpLFxuICAgIC4uLnNjb3BlLmdldFByb3BhZ2F0aW9uQ29udGV4dCgpLFxuICB9O1xuXG4gIGNvbnN0IHNlbnRyeVRyYWNlSGVhZGVyID0gc3BhbiA/IHNwYW5Ub1RyYWNlSGVhZGVyKHNwYW4pIDogZ2VuZXJhdGVTZW50cnlUcmFjZUhlYWRlcih0cmFjZUlkLCBzcGFuSWQsIHNhbXBsZWQpO1xuXG4gIGNvbnN0IHNlbnRyeUJhZ2dhZ2VIZWFkZXIgPSBkeW5hbWljU2FtcGxpbmdDb250ZXh0VG9TZW50cnlCYWdnYWdlSGVhZGVyKFxuICAgIGRzYyB8fFxuICAgICAgKHNwYW4gPyBnZXREeW5hbWljU2FtcGxpbmdDb250ZXh0RnJvbVNwYW4oc3BhbikgOiBnZXREeW5hbWljU2FtcGxpbmdDb250ZXh0RnJvbUNsaWVudCh0cmFjZUlkLCBjbGllbnQsIHNjb3BlKSksXG4gICk7XG5cbiAgY29uc3QgaGVhZGVycyA9XG4gICAgb3B0aW9ucy5oZWFkZXJzIHx8XG4gICAgKHR5cGVvZiBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2YocmVxdWVzdCwgUmVxdWVzdCkgPyAocmVxdWVzdCApLmhlYWRlcnMgOiB1bmRlZmluZWQpO1xuXG4gIGlmICghaGVhZGVycykge1xuICAgIHJldHVybiB7ICdzZW50cnktdHJhY2UnOiBzZW50cnlUcmFjZUhlYWRlciwgYmFnZ2FnZTogc2VudHJ5QmFnZ2FnZUhlYWRlciB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBIZWFkZXJzICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2YoaGVhZGVycywgSGVhZGVycykpIHtcbiAgICBjb25zdCBuZXdIZWFkZXJzID0gbmV3IEhlYWRlcnMoaGVhZGVycyApO1xuXG4gICAgbmV3SGVhZGVycy5hcHBlbmQoJ3NlbnRyeS10cmFjZScsIHNlbnRyeVRyYWNlSGVhZGVyKTtcblxuICAgIGlmIChzZW50cnlCYWdnYWdlSGVhZGVyKSB7XG4gICAgICAvLyBJZiB0aGUgc2FtZSBoZWFkZXIgaXMgYXBwZW5kZWQgbXVsdGlwbGUgdGltZXMgdGhlIGJyb3dzZXIgd2lsbCBtZXJnZSB0aGUgdmFsdWVzIGludG8gYSBzaW5nbGUgcmVxdWVzdCBoZWFkZXIuXG4gICAgICAvLyBJdHMgdGhlcmVmb3JlIHNhZmUgdG8gc2ltcGx5IHB1c2ggYSBcImJhZ2dhZ2VcIiBlbnRyeSwgZXZlbiB0aG91Z2ggdGhlcmUgbWlnaHQgYWxyZWFkeSBiZSBhbm90aGVyIGJhZ2dhZ2UgaGVhZGVyLlxuICAgICAgbmV3SGVhZGVycy5hcHBlbmQoQkFHR0FHRV9IRUFERVJfTkFNRSwgc2VudHJ5QmFnZ2FnZUhlYWRlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0hlYWRlcnMgO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICBjb25zdCBuZXdIZWFkZXJzID0gWy4uLmhlYWRlcnMsIFsnc2VudHJ5LXRyYWNlJywgc2VudHJ5VHJhY2VIZWFkZXJdXTtcblxuICAgIGlmIChzZW50cnlCYWdnYWdlSGVhZGVyKSB7XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgZW50cmllcyB3aXRoIHRoZSBzYW1lIGtleSwgdGhlIGJyb3dzZXIgd2lsbCBtZXJnZSB0aGUgdmFsdWVzIGludG8gYSBzaW5nbGUgcmVxdWVzdCBoZWFkZXIuXG4gICAgICAvLyBJdHMgdGhlcmVmb3JlIHNhZmUgdG8gc2ltcGx5IHB1c2ggYSBcImJhZ2dhZ2VcIiBlbnRyeSwgZXZlbiB0aG91Z2ggdGhlcmUgbWlnaHQgYWxyZWFkeSBiZSBhbm90aGVyIGJhZ2dhZ2UgaGVhZGVyLlxuICAgICAgbmV3SGVhZGVycy5wdXNoKFtCQUdHQUdFX0hFQURFUl9OQU1FLCBzZW50cnlCYWdnYWdlSGVhZGVyXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0hlYWRlcnMgO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGV4aXN0aW5nQmFnZ2FnZUhlYWRlciA9ICdiYWdnYWdlJyBpbiBoZWFkZXJzID8gaGVhZGVycy5iYWdnYWdlIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5ld0JhZ2dhZ2VIZWFkZXJzID0gW107XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShleGlzdGluZ0JhZ2dhZ2VIZWFkZXIpKSB7XG4gICAgICBuZXdCYWdnYWdlSGVhZGVycy5wdXNoKC4uLmV4aXN0aW5nQmFnZ2FnZUhlYWRlcik7XG4gICAgfSBlbHNlIGlmIChleGlzdGluZ0JhZ2dhZ2VIZWFkZXIpIHtcbiAgICAgIG5ld0JhZ2dhZ2VIZWFkZXJzLnB1c2goZXhpc3RpbmdCYWdnYWdlSGVhZGVyKTtcbiAgICB9XG5cbiAgICBpZiAoc2VudHJ5QmFnZ2FnZUhlYWRlcikge1xuICAgICAgbmV3QmFnZ2FnZUhlYWRlcnMucHVzaChzZW50cnlCYWdnYWdlSGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uKGhlYWRlcnMgKSxcbiAgICAgICdzZW50cnktdHJhY2UnOiBzZW50cnlUcmFjZUhlYWRlcixcbiAgICAgIGJhZ2dhZ2U6IG5ld0JhZ2dhZ2VIZWFkZXJzLmxlbmd0aCA+IDAgPyBuZXdCYWdnYWdlSGVhZGVycy5qb2luKCcsJykgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRGdWxsVVJMKHVybCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBVUkwodXJsKTtcbiAgICByZXR1cm4gcGFyc2VkLmhyZWY7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZFNwYW4oc3BhbiwgaGFuZGxlckRhdGEpIHtcbiAgaWYgKGhhbmRsZXJEYXRhLnJlc3BvbnNlKSB7XG4gICAgc2V0SHR0cFN0YXR1cyhzcGFuLCBoYW5kbGVyRGF0YS5yZXNwb25zZS5zdGF0dXMpO1xuXG4gICAgY29uc3QgY29udGVudExlbmd0aCA9XG4gICAgICBoYW5kbGVyRGF0YS5yZXNwb25zZSAmJiBoYW5kbGVyRGF0YS5yZXNwb25zZS5oZWFkZXJzICYmIGhhbmRsZXJEYXRhLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpO1xuXG4gICAgaWYgKGNvbnRlbnRMZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRMZW5ndGhOdW0gPSBwYXJzZUludChjb250ZW50TGVuZ3RoKTtcbiAgICAgIGlmIChjb250ZW50TGVuZ3RoTnVtID4gMCkge1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnaHR0cC5yZXNwb25zZV9jb250ZW50X2xlbmd0aCcsIGNvbnRlbnRMZW5ndGhOdW0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChoYW5kbGVyRGF0YS5lcnJvcikge1xuICAgIHNwYW4uc2V0U3RhdHVzKCdpbnRlcm5hbF9lcnJvcicpO1xuICB9XG4gIHNwYW4uZW5kKCk7XG59XG5cbmV4cG9ydCB7IGFkZFRyYWNpbmdIZWFkZXJzVG9GZXRjaFJlcXVlc3QsIGluc3RydW1lbnRGZXRjaFJlcXVlc3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZldGNoLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../node_modules/@sentry-internal/tracing/esm/common/fetch.js\n");

/***/ })

};
;